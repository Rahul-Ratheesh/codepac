// Automatically generated file.  Do not edit!
'use strict';var c,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)},ba="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function ca(a,b){if(b){var d=ba;a=a.split(".");for(var e=0;e<a.length-1;e++){var f=a[e];f in d||(d[f]={});d=d[f]}a=a[a.length-1];e=d[a];b=b(e);b!=e&&null!=b&&aa(d,a,{configurable:!0,writable:!0,value:b})}}
ca("String.prototype.startsWith",function(a){return a?a:function(b,d){if(null==this)throw new TypeError("The 'this' value for String.prototype.startsWith must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.startsWith must not be a regular expression");var e=this+"";b+="";var f=e.length,h=b.length;d=Math.max(0,Math.min(d|0,e.length));for(var k=0;k<h&&d<f;)if(e[d++]!=b[k++])return!1;return k>=h}});
function da(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ea(){ea=function(){};ba.Symbol||(ba.Symbol=fa)}function ha(a,b){this.uv=a;aa(this,"description",{configurable:!0,writable:!0,value:b})}ha.prototype.toString=function(){return this.uv};var fa=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new ha("jscomp_symbol_"+(d||"")+"_"+b++,d)}var b=0;return a}();
function ia(){ea();var a=ba.Symbol.iterator;a||(a=ba.Symbol.iterator=ba.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&aa(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(da(this))}});ia=function(){}}function ja(a){ia();a={next:a};a[ba.Symbol.iterator]=function(){return this};return a}
function ka(a,b){ia();a instanceof String&&(a+="");var d=0,e={next:function(){if(d<a.length){var f=d++;return{value:b(f,a[f]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e}ca("Array.prototype.keys",function(a){return a?a:function(){return ka(this,function(b){return b})}});
var la="function"==typeof Object.assign?Object.assign:function(a,b){for(var d=1;d<arguments.length;d++){var e=arguments[d];if(e)for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&(a[f]=e[f])}return a};ca("Object.assign",function(a){return a||la});var ma=this||self;function na(a,b){a=a.split(".");var d=ma;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var e;a.length&&(e=a.shift());)a.length||void 0===b?d=d[e]&&d[e]!==Object.prototype[e]?d[e]:d[e]={}:d[e]=b}
function g(a,b){function d(){}d.prototype=b.prototype;a.u=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.HB=function(e,f,h){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[f].apply(e,k)}};
var m={h:{}};
m.g={};function q(a,b){this.x=a;this.y=b}function oa(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}function pa(a,b){var d=a.x-b.x;a=a.y-b.y;return Math.sqrt(d*d+a*a)}function qa(a,b){return new q(a.x-b.x,a.y-b.y)}function ra(a,b){return new q(a.x+b.x,a.y+b.y)}q.prototype.scale=function(a){this.x*=a;this.y*=a;return this};q.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};m.g.global=this||self;m.g.Ja={};m.g.Ja.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};m.g.Ja.nq=function(a){return a.length?a.reduce(function(b,d){return b.length<d.length?b:d}).length:0};m.g.Ja.$w=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||m.g.Ja.nq(a);for(var e=0;e<b;e++){for(var f=a[0][e],h=1;h<a.length;h++)if(f!=a[h][e])return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h][e])&&" "!=f)return d;return b};
m.g.Ja.ax=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;b=b||m.g.Ja.nq(a);for(var e=0;e<b;e++){for(var f=a[0].substr(-e-1,1),h=1;h<a.length;h++)if(f!=a[h].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(h=1;h<a.length;h++)if((f=a[h].charAt(a[h].length-e-1))&&" "!=f)return d;return b};m.g.Ja.rv=function(a,b){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=m.g.Ja.PA(a[d],b);return a.join("\n")};
m.g.Ja.PA=function(a,b){if(a.length<=b)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>b&&(b=d[e].length);e=-Infinity;var f=1;do{var h=e;var k=a;a=[];var l=d.length/f,n=1;for(e=0;e<d.length-1;e++)n<(e+1.5)/l?(n++,a[e]=!0):a[e]=!1;a=m.g.Ja.tv(d,a,b);e=m.g.Ja.xq(d,a,b);a=m.g.Ja.QA(d,a);f++}while(e>h);return k};
m.g.Ja.xq=function(a,b,d){for(var e=[0],f=[],h=0;h<a.length;h++)e[e.length-1]+=a[h].length,!0===b[h]?(e.push(0),f.push(a[h].charAt(a[h].length-1))):!1===b[h]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(h=b=0;h<e.length;h++)b-=2*Math.pow(Math.abs(d-e[h]),1.5),b-=Math.pow(a-e[h],1.5),-1!=".?!".indexOf(f[h])?b+=d/3:-1!=",;)]}".indexOf(f[h])&&(b+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(b+=.5);return b};
m.g.Ja.tv=function(a,b,d){for(var e=m.g.Ja.xq(a,b,d),f,h=0;h<b.length-1;h++)if(b[h]!=b[h+1]){var k=[].concat(b);k[h]=!k[h];k[h+1]=!k[h+1];var l=m.g.Ja.xq(a,k,d);l>e&&(e=l,f=k)}return f?m.g.Ja.tv(a,f,d):b};m.g.Ja.QA=function(a,b){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==b[e]&&d.push(b[e]?"\n":" ");return d.join("")};m.g.userAgent={};
(function(a){function b(e){return-1!=d.indexOf(e.toUpperCase())}m.g.userAgent.raw=a;var d=m.g.userAgent.raw.toUpperCase();m.g.userAgent.Df=b("Trident")||b("MSIE");m.g.userAgent.Qk=b("Edge");m.g.userAgent.$v=b("JavaFX");m.g.userAgent.Fr=b("WebKit")&&!m.g.userAgent.Qk;m.g.userAgent.dn=b("Gecko")&&!m.g.userAgent.Fr&&!m.g.userAgent.Df&&!m.g.userAgent.Qk;m.g.userAgent.Eh=b("Android");m.g.userAgent.vg=b("iPad");m.g.userAgent.Xq=b("iPod");m.g.userAgent.Wq=b("iPhone")&&!m.g.userAgent.vg&&!m.g.userAgent.Xq;
m.g.userAgent.cw=b("Macintosh");m.g.userAgent.qw=m.g.userAgent.vg||m.g.userAgent.Eh&&!b("Mobile")||b("Silk");m.g.userAgent.cr=!m.g.userAgent.qw&&(m.g.userAgent.Xq||m.g.userAgent.Wq||m.g.userAgent.Eh||b("IEMobile"))})(m.g.global.navigator&&m.g.global.navigator.userAgent||"");function sa(a,b){this.width=a;this.height=b};m.g.style={};m.g.style.Pf=function(a){if("none"!=m.g.style.et(a,"display"))return m.g.style.ct(a);var b=a.style,d=b.display,e=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var h=a.offsetWidth;a=a.offsetHeight;b.display=d;b.position=f;b.visibility=e;return new sa(h,a)};m.g.style.ct=function(a){return new sa(a.offsetWidth,a.offsetHeight)};m.g.style.et=function(a,b){return m.g.style.getComputedStyle(a,b)||m.g.style.ky(a,b)||a.style&&a.style[b]};
m.g.style.getComputedStyle=function(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""};m.g.style.ky=function(a,b){return a.currentStyle?a.currentStyle[b]:null};m.g.style.Ml=function(a){var b=new q(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new q(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);b.x=a.left+d.x;b.y=a.top+d.y;return b};
m.g.style.kt=function(){var a=document.body,b=document.documentElement;return new q(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};m.g.style.hq=function(a,b){a.style.display=b?"":"none"};m.g.style.Tg=function(a){return"rtl"==m.g.style.et(a,"direction")};
m.g.style.iy=function(a){var b=m.g.style.getComputedStyle(a,"borderLeftWidth"),d=m.g.style.getComputedStyle(a,"borderRightWidth"),e=m.g.style.getComputedStyle(a,"borderTopWidth");a=m.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(b)}};m.g.style.aq=function(a,b){a=m.g.style.ly(a,b);b.scrollLeft=a.x;b.scrollTop=a.y};
m.g.style.ly=function(a,b){var d=m.g.style.Ml(a),e=m.g.style.Ml(b),f=m.g.style.iy(b),h=d.x-e.x-f.left;d=d.y-e.y-f.top;a=m.g.style.ct(a);e=b.clientHeight-a.height;f=b.scrollLeft;var k=b.scrollTop;f+=Math.min(h,Math.max(h-(b.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new q(f,k)};
m.g.xz=function(a){a.preventDefault();a.stopPropagation()};m.g.am=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
m.g.nd=function(a){var b=new q(0,0),d=a.getAttribute("x");d&&(b.x=parseInt(d,10));if(d=a.getAttribute("y"))b.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(m.g.nd.tw))b.x+=Number(d[1]),d[3]&&(b.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(m.g.nd.uw))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b};
m.g.Aj=function(a){for(var b=0,d=0;a;){var e=m.g.nd(a);b+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new q(b,d)};m.g.nd.tw=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;m.g.nd.uw=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;m.g.Zf=function(a){return a.ctrlKey&&m.g.userAgent.cw?!0:2==a.button};
m.g.Wj=function(a,b,d){var e=b.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=b.getScreenCTM().inverse());return e.matrixTransform(d)};m.g.Ho=function(a){switch(a.deltaMode){case 0:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*m.Zq,y:a.deltaY*m.Zq};case 2:return{x:a.deltaX*m.mr,y:a.deltaY*m.mr}}};m.g.AA=function(a){return m.g.tq(a,!0)};m.g.Lb=function(a){if("string"!=typeof a)return a;a=m.g.tq(a,!1);return a.length?a[0]:""};
m.g.Ur=function(a){for(var b=m.h,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==b[d[e].toUpperCase().slice(6,-1)]&&console.log("WARNING: No message string for "+d[e]+" in "+a)};
m.g.tq=function(a,b){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var h=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):b&&"0"<=l&&"9">=l?(f=2,h=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?h+=l:(d.push(parseInt(h,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=m.g.Ja.startsWith(l,"BKY_")?
l.substring(4):null)&&l in m.h?(f=m.h[l],"string"==typeof f?Array.prototype.push.apply(d,m.g.tq(f,b)):b?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);b=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&b.push(l),a.length=0,b.push(d[k]));(l=a.join(""))&&b.push(l);a.length=0;return b};m.g.re=function(){for(var a=m.g.re.Pu.length,b=[],d=0;20>d;d++)b[d]=m.g.re.Pu.charAt(Math.random()*a);return b.join("")};
m.g.re.Pu="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
m.g.Vf=function(){if(void 0!==m.g.Vf.Ln)return m.g.Vf.Ln;if(!m.g.global.getComputedStyle)return!1;var a=document.createElement("p"),b="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";b=m.g.global.getComputedStyle(a);if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(d[e])}document.body.removeChild(a);
m.g.Vf.Ln="none"!==b;return m.g.Vf.Ln};m.g.Eu=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};m.g.jt=function(){var a=m.g.style.kt();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};
m.g.Yi=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};m.g.oy=function(){var a=document.documentElement,b=window;return m.g.userAgent.Df&&b.pageYOffset!=a.scrollTop?new q(a.scrollLeft,a.scrollTop):new q(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};m.g.Bo=function(a,b){var d=Object.create(null),e=t(a,!0);b&&(a=w(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;b=e[a];a++)d[b.type]?d[b.type]++:d[b.type]=1;return d};
m.g.fA=function(a,b){var d=b.x;b=b.y;var e=ta(a).getBoundingClientRect();d=new q(d-e.left,b-e.top);b=m.g.Aj(a.Pa);return qa(d,b).scale(1/a.scale)};
m.i={};m.i.Cj="";m.i.jc=!0;m.i.$n=0;m.i.Ok="create";m.i.Cq=m.i.Ok;m.i.$m="delete";m.i.Av=m.i.$m;m.i.Fh="change";m.i.TA=m.i.Fh;m.i.Si="move";m.i.Dq=m.i.Si;m.i.Cr="var_create";m.i.Dr="var_delete";m.i.Er="var_rename";m.i.Vi="ui";m.i.Mk="comment_create";m.i.Gq="comment_delete";m.i.Fq="comment_change";m.i.Nk="comment_move";m.i.Ov="finished_loading";m.i.Bv=[m.i.Cq,m.i.Dq,m.i.Mk,m.i.Nk];m.i.Qi=[];m.i.$=function(a){m.i.isEnabled()&&(m.i.Qi.length||setTimeout(m.i.Wx,0),m.i.Qi.push(a))};
m.i.Wx=function(){for(var a=m.i.filter(m.i.Qi,!0),b=m.i.Qi.length=0,d;d=a[b];b++){var e=ua[d.Fb]||null;if(e){var f=d;if(f.jc)for(e.yh.push(f),e.ek.length=0;e.yh.length>e.$q&&0<=e.$q;)e.yh.shift();for(var h=0;d=e.Mc[h];h++)d(f)}}};
m.i.filter=function(a,b){a=a.slice();b||a.reverse();for(var d=[],e=Object.create(null),f=0,h;h=a[f];f++)if(!h.ti()){var k=[h.type,h.dc,h.Fb].join(" "),l=e[k],n=l?l.event:null;if(!l)e[k]={event:h,index:f},d.push(h);else if(h.type==m.i.Si&&l.index==f-1)n.bh=h.bh,n.ah=h.ah,n.eg=h.eg,l.index=f;else if(h.type==m.i.Fh&&h.element==n.element&&h.name==n.name)n.newValue=h.newValue;else if(h.type!=m.i.Vi||"click"!=h.element||"commentOpen"!=n.element&&"mutatorOpen"!=n.element&&"warningOpen"!=n.element)e[k]={event:h,
index:1},d.push(h)}a=d.filter(function(p){return!p.ti()});b||a.reverse();for(f=1;h=a[f];f++)h.type==m.i.Fh&&"mutation"==h.element&&a.unshift(a.splice(f,1)[0]);return a};m.i.Vw=function(){for(var a=0,b;b=m.i.Qi[a];a++)b.jc=!1};m.i.disable=function(){m.i.$n++};m.i.enable=function(){m.i.$n--};m.i.isEnabled=function(){return 0==m.i.$n};m.i.Jb=function(){return m.i.Cj};m.i.V=function(a){m.i.Cj="boolean"==typeof a?a?m.g.re():"":a};
m.i.$s=function(a){var b=[];a=t(a,!1);for(var d=0,e;e=a[d];d++)b[d]=e.id;return b};
m.i.aa=function(a){switch(a.type){case m.i.Ok:var b=new va(null);break;case m.i.$m:b=new wa(null);break;case m.i.Fh:b=new xa(null,"","","","");break;case m.i.Si:b=new ya(null);break;case m.i.Cr:b=new za(null);break;case m.i.Dr:b=new Aa(null);break;case m.i.Er:b=new Ba(null,"");break;case m.i.Vi:b=new x(null);break;case m.i.Mk:b=new Da(null);break;case m.i.Fq:b=new Ea(null);break;case m.i.Nk:b=new Fa(null);break;case m.i.Gq:b=new Ga(null);break;default:throw Error("Unknown event type.");}b.aa(a);b.Fb=
(void 0).id;return b};m.i.Hx=function(a){if(a.type==m.i.Si||a.type==m.i.Ok){var b=ua[a.Fb]||null;if(a=Ha(b,a.dc)){var d=a.getParent();if(d&&d.isEnabled())for(b=t(a,!1),a=0;d=b[a];a++)d.Fe(!0);else if((a.J||a.N)&&!b.hc()){do a.Fe(!1),a=w(a);while(a)}}}};
function Ia(){this.Fb=void 0;this.group=m.i.Cj;this.jc=m.i.jc}Ia.prototype.Fa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};Ia.prototype.aa=function(a){this.group=a.group};Ia.prototype.ti=function(){return!1};Ia.prototype.run=function(){};function Ja(a){a=ua[a.Fb]||null;if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};m.g.xml={};m.g.xml.dw="https://developers.google.com/blockly/xml";m.g.xml.createElement=function(a){return document.createElementNS(m.g.xml.dw,a)};m.g.xml.createTextNode=function(a){return document.createTextNode(a)};m.g.xml.wA=function(a){return(new DOMParser).parseFromString(a,"text/xml")};m.g.xml.pc=function(a){return(new XMLSerializer).serializeToString(a)};function Ka(a){Ka.u.constructor.call(this);this.dc=a.id;this.Fb=a.v.id}g(Ka,Ia);Ka.prototype.Fa=function(){var a=Ka.u.Fa.call(this);a.blockId=this.dc;return a};Ka.prototype.aa=function(a){Ka.u.aa.call(this,a);this.dc=a.blockId};function xa(a,b,d,e,f){a&&(xa.u.constructor.call(this,a),this.element=b,this.name=d,this.oldValue=e,this.newValue=f)}g(xa,Ka);m.i.ce=xa;c=xa.prototype;c.type=m.i.Fh;
c.Fa=function(){var a=xa.u.Fa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};c.aa=function(a){xa.u.aa.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};c.ti=function(){return this.oldValue==this.newValue};
c.run=function(a){var b=Ha(Ja(this),this.dc);if(b)switch(b.Vd&&b.Vd.Ua(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=La(b,this.name))?b.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.hk(a||null);break;case "collapsed":b.ng(a);break;case "disabled":b.Fe(!a);break;case "inline":b.Ei(a);break;case "mutation":var d="";b.Zc&&(d=(d=b.Zc())&&m.I.pc(d));if(b.We){var e=m.I.vf(a||"<mutation/>");b.We(e)}m.i.$(new xa(b,"mutation",null,d,a));break;
default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.dc)};function va(a){a&&(va.u.constructor.call(this,a),this.xml=a.v.Y?m.I.In(a):m.I.Gf(a),this.Mg=m.i.$s(a))}g(va,Ka);m.i.Lk=va;va.prototype.type=m.i.Ok;va.prototype.Fa=function(){var a=va.u.Fa.call(this);a.xml=m.I.pc(this.xml);a.ids=this.Mg;return a};va.prototype.aa=function(a){va.u.aa.call(this,a);this.xml=m.I.vf(a.xml);this.Mg=a.ids};
va.prototype.run=function(a){var b=Ja(this);if(a)a=m.g.xml.createElement("xml"),a.appendChild(this.xml),m.I.Mf(a,b);else{a=0;for(var d;d=this.Mg[a];a++){var e=Ha(b,d);e?e.G(!1,!1):d==this.dc&&console.warn("Can't uncreate non-existent block: "+d)}}};function wa(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");wa.u.constructor.call(this,a);this.Cp=a.v.Y?m.I.In(a):m.I.Gf(a);this.Mg=m.i.$s(a)}}g(wa,Ka);m.i.Eq=wa;wa.prototype.type=m.i.$m;
wa.prototype.Fa=function(){var a=wa.u.Fa.call(this);a.ids=this.Mg;return a};wa.prototype.aa=function(a){wa.u.aa.call(this,a);this.Mg=a.ids};wa.prototype.run=function(a){var b=Ja(this);if(a){a=0;for(var d;d=this.Mg[a];a++){var e=Ha(b,d);e?e.G(!1,!1):d==this.dc&&console.warn("Can't delete non-existent block: "+d)}}else a=m.g.xml.createElement("xml"),a.appendChild(this.Cp),m.I.Mf(a,b)};function ya(a){a&&(ya.u.constructor.call(this,a),a=Ma(this),this.cu=a.qu,this.bu=a.Et,this.zp=a.ps)}g(ya,Ka);
m.i.Pi=ya;c=ya.prototype;c.type=m.i.Si;c.Fa=function(){var a=ya.u.Fa.call(this);this.bh&&(a.newParentId=this.bh);this.ah&&(a.newInputName=this.ah);this.eg&&(a.newCoordinate=Math.round(this.eg.x)+","+Math.round(this.eg.y));return a};c.aa=function(a){ya.u.aa.call(this,a);this.bh=a.newParentId;this.ah=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.eg=new q(Number(a[0]),Number(a[1])))};c.kf=function(){var a=Ma(this);this.bh=a.qu;this.ah=a.Et;this.eg=a.ps};
function Ma(a){var b=Ha(ua[a.Fb]||null,a.dc);a={};var d=b.getParent();if(d){a.qu=d.id;a:{for(var e=0,f;f=d.K[e];e++)if(f.connection&&y(f.connection)==b){b=f;break a}b=null}b&&(a.Et=b.name)}else a.ps=b.ta();return a}c.ti=function(){return this.cu==this.bh&&this.bu==this.ah&&oa(this.zp,this.eg)};
c.run=function(a){var b=Ja(this),d=Ha(b,this.dc);if(d){var e=a?this.bh:this.cu,f=a?this.ah:this.bu;a=a?this.eg:this.zp;var h=null;if(e&&(h=Ha(b,e),!h)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&Na(d);if(a)f=d.ta(),d.moveBy(a.x-f.x,a.y-f.y);else{d=d.J||d.N;if(f){if(b=Oa(h,f))var k=b.connection}else d.type==m.jd&&(k=h.T);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.dc)};m.g.j={};m.g.j.fe="http://www.w3.org/2000/svg";m.g.j.ee="http://www.w3.org/1999/xhtml";m.g.j.zc="http://www.w3.org/1999/xlink";m.g.j.Ag=null;m.g.j.Kn=0;m.g.j.C=function(a,b,d){a=document.createElementNS(m.g.j.fe,a);for(var e in b)a.setAttribute(e,b[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};m.g.j.Ba=function(a,b){var d=a.getAttribute("class")||"";if(-1!=(" "+d+" ").indexOf(" "+b+" "))return!1;d&&(d+=" ");a.setAttribute("class",d+b);return!0};
m.g.j.Oa=function(a,b){var d=a.getAttribute("class");if(-1==(" "+d+" ").indexOf(" "+b+" "))return!1;d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=b||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class");return!0};m.g.j.No=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};m.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};
m.g.j.Og=function(a,b){var d=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");d?b.insertBefore(a,d):b.appendChild(a)};m.g.j.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&16)};m.g.j.ik=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};m.g.j.pk=function(){m.g.j.Kn++;m.g.j.Ag||(m.g.j.Ag={})};m.g.j.qk=function(){m.g.j.Kn--;m.g.j.Kn||(m.g.j.Ag=null)};
m.g.j.Pl=function(a){var b=a.textContent+"\n"+a.className.baseVal,d;if(m.g.j.Ag&&(d=m.g.j.Ag[b]))return d;try{d=m.g.userAgent.Df||m.g.userAgent.Qk?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}m.g.j.Ag&&(m.g.j.Ag[b]=d);return d};m.Ra={};m.Ra.bo=0;m.Ra.wl=null;m.Ra.Lx=function(a){var b=a.v,d=a.S();b.Sc.play("delete");a=Pa(b,d);d=d.cloneNode(!0);d.FA=a.x;d.GA=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");A(b).appendChild(d);d.Nr=d.getBBox();m.Ra.Hs(d,b.w,new Date,b.scale)};m.Ra.Hs=function(a,b,d,e){var f=(new Date-d)/150;1<f?m.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.FA+(b?-1:1)*a.Nr.width*e/2*f)+","+(a.GA+a.Nr.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(m.Ra.Hs,10,a,b,d,e))};
m.Ra.gx=function(a){var b=a.v,d=b.scale;b.Sc.play("click");if(!(1>d)){var e=Pa(b,a.S());a.J?(e.x+=(a.w?3:-3)*d,e.y+=13*d):a.N&&(e.x+=(a.w?-23:23)*d,e.y+=3*d);a=m.g.j.C("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},A(b));m.Ra.ks(a,new Date,d)}};m.Ra.ks=function(a,b,d){var e=(new Date-b)/150;1<e?m.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,m.Ra.bo=setTimeout(m.Ra.ks,10,a,b,d))};
m.Ra.Kx=function(a){a.v.Sc.play("disconnect");if(!(1>a.v.scale)){var b=a.Sb().height;b=Math.atan(10/b)/Math.PI*180;a.w||(b*=-1);m.Ra.Gs(a.S(),b,new Date)}};m.Ra.Gs=function(a,b,d){var e=(new Date-d)/200;1<e?a.qh="":(a.qh="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*b)+")",m.Ra.wl=a,m.Ra.bo=setTimeout(m.Ra.Gs,10,a,b,d));a.setAttribute("transform",a.xf+a.qh)};m.Ra.co=function(){if(m.Ra.wl){clearTimeout(m.Ra.bo);var a=m.Ra.wl;a.qh="";a.setAttribute("transform",a.xf);m.Ra.wl=null}};function Qa(a){this.Fb=a.id;this.group=m.i.Cj;this.jc=!1}g(Qa,Ia);Qa.prototype.type=m.i.Ov;Qa.prototype.Fa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Fb&&(a.workspaceId=this.Fb);return a};Qa.prototype.aa=function(a){this.Fb=a.workspaceId;this.group=a.group};function Ra(a){Ra.u.constructor.call(this);this.qg=a.va();this.Fb=a.v.id}g(Ra,Ia);Ra.prototype.Fa=function(){var a=Ra.u.Fa.call(this);a.varId=this.qg;return a};Ra.prototype.aa=function(a){Ra.u.Fa.call(this);this.qg=a.varId};function za(a){a&&(za.u.constructor.call(this,a),this.Ah=a.type,this.zh=a.name)}g(za,Ra);za.prototype.type=m.i.Cr;za.prototype.Fa=function(){var a=za.u.Fa.call(this);a.varType=this.Ah;a.varName=this.zh;return a};
za.prototype.aa=function(a){za.u.aa.call(this,a);this.Ah=a.varType;this.zh=a.varName};za.prototype.run=function(a){var b=Ja(this);a?b.zd(this.zh,this.Ah,this.qg):b.Eg(this.qg)};function Aa(a){a&&(Aa.u.constructor.call(this,a),this.Ah=a.type,this.zh=a.name)}g(Aa,Ra);Aa.prototype.type=m.i.Dr;Aa.prototype.Fa=function(){var a=Aa.u.Fa.call(this);a.varType=this.Ah;a.varName=this.zh;return a};Aa.prototype.aa=function(a){Aa.u.aa.call(this,a);this.Ah=a.varType;this.zh=a.varName};
Aa.prototype.run=function(a){var b=Ja(this);a?b.Eg(this.qg):b.zd(this.zh,this.Ah,this.qg)};function Ba(a,b){a&&(Ba.u.constructor.call(this,a),this.Bp=a.name,this.wp=b)}g(Ba,Ra);Ba.prototype.type=m.i.Er;Ba.prototype.Fa=function(){var a=Ba.u.Fa.call(this);a.oldName=this.Bp;a.newName=this.wp;return a};Ba.prototype.aa=function(a){Ba.u.aa.call(this,a);this.Bp=a.oldName;this.wp=a.newName};Ba.prototype.run=function(a){var b=Ja(this);a?b.lh(this.qg,this.wp):b.lh(this.qg,this.Bp)};m.I={};m.I.Lm=function(a,b){var d=m.g.xml.createElement("xml"),e=m.I.LA(m.P.Jr(a));e.hasChildNodes()&&d.appendChild(e);var f=Sa(a,!0);e=0;for(var h;h=f[e];e++)d.appendChild(h.Ak(b));a=B(a,!0);for(e=0;f=a[e];e++)d.appendChild(m.I.In(f,b));return d};m.I.LA=function(a){for(var b=m.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=m.g.xml.createElement("variable");f.appendChild(m.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.va();b.appendChild(f)}return b};
m.I.In=function(a,b){var d;a.v.w&&(d=a.v.Hc());b=m.I.Gf(a,b);var e=a.ta();b.setAttribute("x",Math.round(a.v.w?d-e.x:e.x));b.setAttribute("y",Math.round(e.y));return b};m.I.Ux=function(a){var b=!1;a.name&&(a.Ne?b=!0:a.Ld&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),b=!0));return b?(b=m.g.xml.createElement("field"),b.setAttribute("name",a.name),a.zk(b)):null};
m.I.yw=function(a,b){for(var d=0,e;e=a.K[d];d++)for(var f=0,h;h=e.Ma[f];f++)(h=m.I.Ux(h))&&b.appendChild(h)};
m.I.Gf=function(a,b){var d=m.g.xml.createElement(a.Ta?"shadow":"block");d.setAttribute("type",a.type);b||(d.id=a.id);if(a.Zc){var e=a.Zc();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}m.I.yw(a,d);var f=a.Kl();f&&(e=m.g.xml.createElement("comment"),e.appendChild(m.g.xml.createTextNode(f)),"object"==typeof a.Ya&&(e.setAttribute("pinned",a.Ya.isVisible()),f=a.Ya.Gg(),e.setAttribute("h",f.height),e.setAttribute("w",f.width)),d.appendChild(e));a.data&&(e=m.g.xml.createElement("data"),e.appendChild(m.g.xml.createTextNode(a.data)),
d.appendChild(e));f=0;for(var h;h=a.K[f];f++){var k,l=!0;if(h.type!=m.gd){var n=y(h.connection);h.type==m.Ha?k=m.g.xml.createElement("value"):h.type==m.ya&&(k=m.g.xml.createElement("statement"));e=h.connection.Ge;!e||n&&n.Ta||k.appendChild(m.I.Yr(e,b));n&&(k.appendChild(m.I.Gf(n,b)),l=!1);k.setAttribute("name",h.name);l||d.appendChild(k)}}void 0!=a.ff&&a.ff!=a.Xy&&d.setAttribute("inline",a.ff);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.gc()||a.Ta||
d.setAttribute("deletable",!1);a.Wb()||a.Ta||d.setAttribute("movable",!1);a.Sa()||d.setAttribute("editable",!1);if(f=w(a))k=m.g.xml.createElement("next"),k.appendChild(m.I.Gf(f,b)),d.appendChild(k);e=a.T&&a.T.Ge;!e||f&&f.Ta||k.appendChild(m.I.Yr(e,b));return d};
m.I.Yr=function(a,b){for(var d=a=a.cloneNode(!0),e;d;)if(b&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,3==e.nodeType&&""==e.data.trim()&&d.firstChild!=e&&m.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,3==e.nodeType&&""==e.data.trim()&&m.g.j.removeNode(e))}return a};m.I.pc=function(a){return m.g.xml.pc(a)};
m.I.TB=function(a){a=m.I.pc(a).split("<");for(var b="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(b=b.substring(2));a[d]=b+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};m.I.vf=function(a){var b=m.g.xml.wA(a);if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement};
m.I.MB=function(a,b){b.$b(!1);b.clear();a=m.I.Mf(a,b);b.$b(!0);return a};
m.I.Mf=function(a,b){if(a instanceof C){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;b.w&&(e=b.Hc());d=[];m.g.j.pk();var f=a.childNodes.length,h=m.i.Jb();h||m.i.V(!0);b.$b&&b.$b(!1);var k=!0;try{for(var l=0;l<f;l++){var n=a.childNodes[l],p=n.nodeName.toLowerCase();if("block"==p||"shadow"==p&&!m.i.jc){var r=m.I.ai(n,b);d.push(r.id);var u=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,v=n.hasAttribute("y")?parseInt(n.getAttribute("y"),
10):10;isNaN(u)||isNaN(v)||r.moveBy(b.w?e-u:u,v);k=!1}else{if("shadow"==p)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==p)if(b.Y)Ta(n,b,e);else{var z=n,V=b,R=Ua(z),Ca=new Va(V,R.content,R.ot,R.pv,R.id),Uc=parseInt(z.getAttribute("x"),10),nf=parseInt(z.getAttribute("y"),10);isNaN(Uc)||isNaN(nf)||Ca.moveBy(Uc,nf);Wa(Ca)}else if("variables"==p){if(k)m.I.Ox(n,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
k=!1}}}}finally{h||m.i.V(!1),m.g.j.qk()}b.$b&&b.$b(!0);m.i.$(new Qa(b));return d};m.I.GB=function(a,b){if(b.hasOwnProperty("scale")){var d=Xa;try{Xa=0;var e=Ya(b)}finally{Xa=d}}a=m.I.Mf(a,b);if(e&&e.top!=e.bottom){d=e.bottom;var f=e.left;var h=Infinity,k=Infinity;for(e=0;e<a.length;e++){var l=Ha(b,a[e]).ta();l.y<k&&(k=l.y);l.x<h&&(h=l.x)}d=d-k+10;f-=h;var n;b.w&&(n=b.Hc());for(e=0;e<a.length;e++)Ha(b,a[e]).moveBy(b.w?n-f:f,d)}return a};
m.I.ai=function(a,b){if(a instanceof C){var d=a;a=b;b=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}m.i.disable();d=b.Ye();try{var e=m.I.fo(a,b),f=t(e,!1);if(b.Y){Za(e,!0);for(var h=f.length-1;0<=h;h--)f[h].ef();for(h=f.length-1;0<=h;h--)f[h].ka(!1);setTimeout(function(){e.v&&Za(e,!1)},1);$a(e);ab(b)}else for(h=f.length-1;0<=h;h--)f[h].Ng()}finally{m.i.enable()}if(m.i.isEnabled()){a=m.P.Ys(b,d);for(h=0;h<a.length;h++)m.i.$(new za(a[h]));m.i.$(new m.i.Lk(e))}return e};
m.I.Ox=function(a,b){for(var d=0,e;e=a.childNodes[d];d++)if(1==e.nodeType){var f=e.getAttribute("type"),h=e.getAttribute("id");b.zd(e.textContent,f,h)}};
m.I.fo=function(a,b){var d=null,e=a.getAttribute("type");if(!e)throw TypeError("Block type unspecified: "+a.outerHTML);var f=a.getAttribute("id");d=b.vp(e,f);var h=null;f=0;for(var k;k=a.childNodes[f];f++)if(3!=k.nodeType){for(var l=h=null,n=0,p;p=k.childNodes[n];n++)1==p.nodeType&&("block"==p.nodeName.toLowerCase()?h=p:"shadow"==p.nodeName.toLowerCase()&&(l=p));!h&&l&&(h=l);n=k.getAttribute("name");switch(k.nodeName.toLowerCase()){case "mutation":d.We&&(d.We(k),d.ef&&d.ef());break;case "comment":d.hk(k.textContent);
var r=k.getAttribute("pinned");r&&!d.Lc&&setTimeout(function(){d.Ya&&d.Ya.Ua&&d.Ya.Ua("true"==r)},1);h=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);!isNaN(h)&&!isNaN(k)&&d.Ya&&d.Ya.Ua&&d.Ya.mg(h,k);break;case "data":d.data=k.textContent;break;case "title":case "field":m.I.Nx(d,n,k);break;case "value":case "statement":k=Oa(d,n);if(!k){console.warn("Ignoring non-existent input "+n+" in block "+e);break}l&&(k.connection.Ge=l);if(h)if(h=m.I.fo(h,b),h.J)k.connection.connect(h.J);
else if(h.N)k.connection.connect(h.N);else throw TypeError("Child block does not have output or previous statement.");break;case "next":l&&d.T&&(d.T.Ge=l);if(h){if(!d.T)throw TypeError("Next statement does not exist.");if(d.T.isConnected())throw TypeError("Next statement is already connected.");h=m.I.fo(h,b);if(!h.N)throw TypeError("Next block does not have previous statement.");d.T.connect(h.N)}break;default:console.warn("Ignoring unknown tag: "+k.nodeName)}}(f=a.getAttribute("inline"))&&d.Ei("true"==
f);(f=a.getAttribute("disabled"))&&d.Fe("true"!=f&&"disabled"!=f);(f=a.getAttribute("deletable"))&&d.fq("true"==f);(f=a.getAttribute("movable"))&&d.oh("true"==f);(f=a.getAttribute("editable"))&&d.gq("true"==f);(f=a.getAttribute("collapsed"))&&d.ng("true"==f);if("shadow"==a.nodeName.toLowerCase()){a=d.Ze(!1);for(f=0;b=a[f];f++)if(!b.Ta)throw TypeError("Shadow block not allowed non-shadow child.");if(bb(d).length)throw TypeError("Shadow blocks cannot have variable references.");d.kq(!0)}return d};
m.I.Nx=function(a,b,d){var e=La(a,b);e?e.Ws(d):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};m.I.Ex=function(a){for(var b=0,d;d=a.childNodes[b];b++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};m.g.global.Blockly||(m.g.global.Blockly={});m.g.global.Blockly.Xml||(m.g.global.Blockly.Xml={});m.g.global.Blockly.Xml.domToText=m.I.pc;m.g.global.Blockly.Xml.domToWorkspace=m.I.Mf;m.g.global.Blockly.Xml.textToDom=m.I.vf;m.g.global.Blockly.Xml.workspaceToDom=m.I.Lm;
function cb(a,b){this.A=a;this.type=b;a.v.jj&&(this.Od=a.v.jj[b],this.Tn=a.v.jj[m.Lh[b]],this.Ro=!this.Od)}c=cb.prototype;c.ga=null;c.ke=null;c.Ge=null;c.mb=0;c.Ga=0;c.Tf=!1;c.Od=null;c.Tn=null;c.Ro=null;
c.ml=function(a){var b=this,d=b.A,e=a.A;a.isConnected()&&a.disconnect();if(b.isConnected()){var f=y(b),h=b.Ge;b.Ge=null;if(f.Ta)h=m.I.Gf(f),f.G(),f=null;else if(b.type==m.Ha){if(!f.J)throw Error("Orphan block does not have an output connection.");var k=db(e,f);k&&(f.J.connect(k),f=null)}else if(b.type==m.ya){if(!f.N)throw Error("Orphan block does not have a previous connection.");for(k=e;k.T;){var l=w(k);if(l&&!l.Ta)k=l;else{eb(f.N,k.T)&&(k.T.connect(f.N),f=null);break}}}if(f&&(b.disconnect(),m.i.jc)){var n=
m.i.Jb();setTimeout(function(){f.v&&!f.getParent()&&(m.i.V(n),f.J?fb(f.J,b):f.N&&fb(f.N,b),m.i.V(!1))},m.Kk)}b.Ge=h}var p;m.i.isEnabled()&&(p=new m.i.Pi(e));gb(b,a);e.ph(d);p&&(p.kf(),m.i.$(p))};c.G=function(){if(this.isConnected()){this.Ge=null;var a=y(this);a.Ta?a.G():Na(a)}this.Tf&&hb(this.Od,this)};function D(a){return a.type==m.Ha||a.type==m.ya}c.isConnected=function(){return!!this.ga};
function ib(a,b){if(!b)return 3;if(D(a))var d=a.A,e=b.A;else e=a.A,d=b.A;return d&&d==e?1:b.type!=m.Lh[a.type]?2:d&&e&&d.v!==e.v?5:eb(a,b)?d.Ta&&!e.Ta?6:0:4}
function jb(a,b){switch(ib(a,b)){case 0:break;case 1:throw Error("Attempted to connect a block to itself.");case 5:throw Error("Blocks not on same workspace.");case 2:throw Error("Attempt to connect incompatible types.");case 3:throw Error("Target connection is null.");case 4:throw Error("Connection checks failed. "+(a+" expected "+a.ke+", found "+b.ke));case 6:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");}}
c.Wl=function(a){if(a.A.Wf()||0!=ib(this,a))return!1;switch(a.type){case m.jd:return this.ga||-1!=m.sj.indexOf(a)?a=!1:a.ga?(a=y(a),a=a.Wf()?!(a.N&&y(a.N)):!1):a=!0,a;case m.hd:if(a.isConnected()&&!y(a).Wf()||this.isConnected())return!1;break;case m.Ha:if(a.isConnected()&&!y(a).Wb()&&!y(a).Ta)return!1;break;case m.ya:if(a.isConnected()&&!this.A.T&&!y(a).Ta&&y(a).T)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=m.sj.indexOf(a)?!1:!0};
c.connect=function(a){if(this.ga!=a){jb(this,a);var b=m.i.Jb();b||m.i.V(!0);D(this)?this.ml(a):a.ml(this);b||m.i.V(!1)}};function gb(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.ga=b;b.ga=a}function kb(a,b){for(var d=!1,e=0;e<a.K.length;e++){var f=a.K[e].connection;if(f&&f.type==m.Ha&&eb(b.J,f)){if(d)return null;d=f}}return d}function db(a,b){for(var d;d=kb(a,b);)if(a=y(d),!a||a.Ta)return d;return null}
c.disconnect=function(){var a=this.ga;if(!a)throw Error("Source connection not connected.");if(a.ga!=this)throw Error("Target connection not connected to source connection.");if(D(this)){var b=this.A;var d=a.A;a=this}else b=a.A,d=this.A;var e=m.i.Jb();e||m.i.V(!0);this.ao(b,d);a.Yp();e||m.i.V(!1)};c.ao=function(a,b){var d;m.i.isEnabled()&&(d=new m.i.Pi(b));this.ga=this.ga.ga=null;b.ph(null);d&&(d.kf(),m.i.$(d))};
c.Yp=function(){var a=this.A,b=this.Ge;if(a.v&&b&&m.i.jc)if(a=m.I.ai(b,a.v),a.J)this.connect(a.J);else if(a.N)this.connect(a.N);else throw Error("Child block does not have output or previous statement.");};function y(a){return a.isConnected()?a.ga.A:null}function eb(a,b){if(!a.ke||!b.ke)return!0;for(var d=0;d<a.ke.length;d++)if(-1!=b.ke.indexOf(a.ke[d]))return!0;return!1}c.iu=function(){this.isConnected()&&!eb(this,this.ga)&&Na(D(this)?y(this):this.A)};
c.Di=function(a){a?(Array.isArray(a)||(a=[a]),this.ke=a,this.iu()):this.ke=null};c.Zt=function(){return[]};c.te=function(){for(var a=null,b=this.A,d=b.K,e=0;e<b.K.length;e++)if(d[e].connection===this){a=d[e];break}return a};
c.toString=function(){var a=this.A;if(a)if(a.J==this)var b="Output Connection of ";else if(a.N==this)b="Previous Connection of ";else if(a.T==this)b="Next Connection of ";else{b=null;for(var d=0,e;e=a.K[d];d++)if(e.connection==this){b=e;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";d=a.type?'"'+a.type+'" block':"Block";a.id&&(d+=' (id="'+a.id+'")');return b+d};function lb(a,b){lb.u.constructor.call(this,a,b);this.hf=new q(0,0)}g(lb,cb);function mb(a,b){var d=a.mb-b.mb;a=a.Ga-b.Ga;return Math.sqrt(d*d+a*a)}function fb(a,b){if(!a.A.v.hc()){var d=nb(a.A);if(!d.Lc){var e=!1;if(!d.Wb()){d=nb(b.A);if(!d.Wb())return;b=a;e=!0}var f=m.selected==d;f||d.Ph();var h=b.mb+m.mc+Math.floor(Math.random()*m.Ym)-a.mb,k=b.Ga+m.mc+Math.floor(Math.random()*m.Ym)-a.Ga;e&&(k=-k);d.w&&(h=b.mb-m.mc-Math.floor(Math.random()*m.Ym)-a.mb);d.moveBy(h,k);f||d.kh()}}}c=lb.prototype;
c.moveTo=function(a,b){this.Tf&&hb(this.Od,this);this.mb=a;this.Ga=b;this.Ro||ob(this.Od,this)};c.moveBy=function(a,b){this.moveTo(this.mb+a,this.Ga+b)};function pb(a,b){a.moveTo(b.x+a.hf.x,b.y+a.hf.y)}function qb(a,b,d){a.hf.x=b;a.hf.y=d}function rb(a){var b=a.ga.mb-a.mb,d=a.ga.Ga-a.Ga;if(0!=b||0!=d){a=y(a);var e=a.S();if(!e)throw Error("block is not rendered.");e=m.g.nd(e);a.S().setAttribute("transform","translate("+(e.x-b)+","+(e.y-d)+")");sb(a,-b,-d)}}
c.closest=function(a,b){var d=this.Tn;if(d.Ab.length){var e=this.Ga,f=this.mb;this.mb=f+b.x;this.Ga=e+b.y;var h=tb(d,this);b=null;for(var k=a,l,n=h-1;0<=n&&Math.abs(d.Ab[n].Ga-this.Ga)<=a;)l=d.Ab[n],this.Wl(l,k)&&(b=l,k=mb(l,this)),n--;for(;h<d.Ab.length&&Math.abs(d.Ab[h].Ga-this.Ga)<=a;)l=d.Ab[h],this.Wl(l,k)&&(b=l,k=mb(l,this)),h++;this.mb=f;this.Ga=e;a={connection:b,vm:k}}else a={connection:null,vm:a};return a};
c.Ul=function(){var a=this.type==m.Ha||this.type==m.hd?m.g.o.moveBy(0,-5)+m.g.o.ma("v",5)+m.za.Uc.Ti.De+m.g.o.ma("v",5):m.g.o.moveBy(-5,0)+m.g.o.ma("h",5)+m.za.Uc.Me.jf+m.g.o.ma("h",5);var b=this.A.ta();cb.zt=m.g.j.C("path",{"class":"blocklyHighlightedConnectionPath",d:a,transform:"translate("+(this.mb-b.x)+","+(this.Ga-b.y)+")"+(this.A.w?" scale(-1 1)":"")},this.A.S())};
function ub(a){vb(a,!1);var b=[];if(a.type!=m.Ha&&a.type!=m.ya)return b;if(a=y(a)){if(a.isCollapsed()){var d=[];a.J&&d.push(a.J);a.T&&d.push(a.T);a.N&&d.push(a.N)}else d=a.Bd(!0);for(var e=0;e<d.length;e++)b.push.apply(b,ub(d[e]));b.length||(b[0]=a)}return b}function vb(a,b){(a.Ro=b)&&a.Tf?hb(a.Od,a):b||a.Tf||ob(a.Od,a)}c.Wl=function(a,b){return mb(this,a)>b?!1:lb.u.Wl.call(this,a)};c.ao=function(a,b){lb.u.ao.call(this,a,b);a.Y&&a.ka();b.Y&&($a(b),b.ka())};
c.Yp=function(){var a=this.A,b=this.Ge;if(a.v&&b&&m.i.jc){lb.u.Yp.call(this);b=y(this);if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.ef();b.ka(!1);a.Y&&a.ka()}};c.Zt=function(a){return wb(this.Tn,this,a)};c.ml=function(a){lb.u.ml.call(this,a);var b=this.A;a=a.A;b.Y&&$a(b);a.Y&&$a(a);b.Y&&a.Y&&(this.type==m.ya||this.type==m.jd?a.ka():b.ka())};c.iu=function(){this.isConnected()&&!eb(this,this.ga)&&(Na(D(this)?y(this):this.A),this.A.Bc())};
function xb(a){this.ae=m.selected=a;this.m=a.v;this.Ug=this.hp=null;this.ci=yb(this,this.ae);this.Xb=this.bb=null;this.Le=!1;this.Xg=null;this.Uo=!1;this.mi=null;a=this.ae.Bd(!1);var b;a:{for(b=this.ae.T;b;){var d=y(b);if(!d)break a;b=d.T}b=null}b&&b!=this.ae.T&&(a.push(b),this.hp=b,this.Ug=yb(this,b.A));this.Fn=a}
xb.prototype.G=function(){this.m=this.ae=null;this.Fn.length=0;this.Xb=this.bb=null;m.i.disable();try{this.ci&&(this.ci.G(),this.ci=null),this.Ug&&(this.Ug.G(),this.Ug=null)}finally{m.i.enable()}this.mi=null};
xb.prototype.update=function(a,b){var d=this.bb&&this.Xb?m.Hq:m.mc;for(var e=null,f=null,h=0;h<this.Fn.length;h++){var k=this.Fn[h],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.vm)}e=(d={closest:e,local:f,vm:d},!!d.closest)&&b!=m.Lq;if((this.Le=!!b&&!this.ae.getParent()&&this.ae.gc()&&!e)||zb(this,d,a)){m.i.disable();d.closest?(a=this.bb!=d.closest,b=this.Xb!=d.local,this.bb&&this.Xb&&(a||b||this.Le)&&Ab(this)):Ab(this);this.Xb=this.bb=this.Xg=null;if(!this.Le&&(a=d.closest,b=d.local,a))if(a==
this.bb||a.A.Wf())console.log("trying to connect to an insertion marker");else{this.bb=a;this.Xb=b;a=this.bb;b=this.Xb;if(b.type==m.hd)a=a.isConnected()&&!db(this.ae,a.ga.A);else{a:{for(d=0;e=b.A.K[d];d++)if(e.connection&&e.connection.type==m.ya){d=e.connection;break a}d=null}a=b==d?0:!this.ae.T&&b.type==m.jd&&a.isConnected()}if(a)a=this.bb,b=this.Xb,y(a)?(this.mi=y(a),Bb(y(a),!0)):b.type==m.hd&&(this.mi=a.A,a.A.My(a,!0)),this.Uo=!0;else{d=this.Xb;a=this.bb;b=this.hp&&d==this.hp?this.Ug:this.ci;a:{f=
d.A;e=b.Bd(!0);f=f.Bd(!0);if(e.length!=f.length)throw Error("Connection lists did not match in length.");for(h=0;h<f.length;h++)if(f[h]==d){d=e[h];break a}d=null}if(d==this.Xg)throw Error("Made it to connectMarker_ even though the marker isn't changing");b.ka();b.Y=!0;b.S().setAttribute("visibility","visible");d.type!=m.ya&&d.type!=m.Ha||b.moveBy(a.mb-d.mb,a.Ga-d.Ga);d.connect(a);this.Xg=d}this.bb&&this.bb.Ul()}m.i.enable()}};
function yb(a,b){var d=b.type;m.i.disable();try{var e=a.m.vp(d);e.Ku(!0);e.ng(b.isCollapsed());if(b.Zc){var f=b.Zc();f&&e.We(f)}for(a=0;a<b.K.length;a++){var h=b.K[a];for(d=0;d<h.Ma.length;d++){var k=h.Ma[d],l=k.getValue(),n=k.name,p=La(e,n);if(!p)throw Error('Field "'+n+'" not found.');p.setValue(l)}}e.ef();e.S().setAttribute("visibility","hidden")}finally{m.i.enable()}return e}
function zb(a,b,d){var e=b.local,f=b.closest;b=b.vm;if(e&&f){if(a.Xb&&a.bb){if(a.bb==f&&a.Xb==e)return!1;e=a.Xb.mb+d.x-a.bb.mb;a=a.Xb.Ga+d.y-a.bb.Ga;a=Math.sqrt(e*e+a*a);return!(f&&b>a-m.Fv)}if(a.Xb||a.bb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Xb||!a.bb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
function Ab(a){a.bb&&(m.g.j.removeNode(cb.zt),delete cb.zt);if(a.Uo){var b=a.bb;b.type!=m.Ha||b.isConnected()?Bb(a.mi,!1):a.mi.My(b,!1);a.mi=null;a.Uo=!1}else if(a.Xg)if(a.Xg){b=a.Xg;var d=b.A,e=d.T,f=d.N,h=d.J;h=b.type==m.Ha&&!(h&&h.ga);!(b!=e||f&&f.ga)||h?Na(y(b),!1):b.type==m.ya&&b!=e?(e=b.ga,Na(e.A,!1),f=f?f.ga:null,Na(d,!0),f&&f.connect(e)):Na(d,!0);if(b.ga)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Xg=null;d.S().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")}
xb.prototype.ii=function(){var a=[];this.ci&&a.push(this.ci);this.Ug&&a.push(this.Ug);return a};function Cb(a,b){this.eb=a;this.m=b;this.ne=new xb(this.eb);this.Dg=null;this.Le=!1;this.Ie=this.eb.ta();b=[];a=t(a,!1);for(var d=0,e;e=a[d];d++){e=Db(e);for(var f=0;f<e.length;f++)b.push({location:e[f].ni,icon:e[f]})}this.zl=b}Cb.prototype.G=function(){this.Nb=this.m=this.eb=null;this.zl.length=0;this.ne&&(this.ne.G(),this.ne=null)};
function Eb(a,b,d){d=a.zi(d);a.eb.im(ra(a.Ie,d));for(var e=0;e<a.zl.length;e++){var f=a.zl[e];Fb(f.icon,ra(f.location,d))}a.Dg=Gb(a.m,b);a.ne.update(d,a.Dg);a.Le=a.ne.Le;b=a.m.kc;a.Le?(a.eb.jk(!0),a.Dg==m.an&&b&&Hb(b,!0)):(a.eb.jk(!1),b&&Hb(b,!1))}
function Ib(a,b,d){Eb(a,b,d);a.zl=[];m.g.j.qk();m.Ra.co();b=a.zi(d);a.eb.Yt(ra(a.Ie,b));d=a.m.kc;a.Le?(d&&setTimeout(d.close.bind(d),100),a.vj(),a.eb.G(!1,!0)):d&&d.close();a.Le||(sb(a.eb,b.x,b.y),a.eb.og(!1),a.vj(),a.ne.bb?(b=a.ne,b.bb&&(m.i.disable(),Ab(b),m.i.enable(),b.Xb.connect(b.bb),b.ae.Y&&(m.Ra.gx((D(b.Xb)?b.bb:b.Xb).A),Jb(nb(b.ae))))):a.eb.ka(),Kb(a.eb));a.m.$b(!0);(b=a.m.W)&&m.g.j.Oa(b.wc,a.eb.gc()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.i.V(!1)}
Cb.prototype.vj=function(){var a=new m.i.Pi(this.eb);a.zp=this.Ie;a.kf();m.i.$(a)};Cb.prototype.zi=function(a){a=new q(a.x/this.m.scale,a.y/this.m.scale);this.m.Sg&&a.scale(1/this.m.options.$c.scale);return a};Cb.prototype.ii=function(){return this.ne&&this.ne.ii?this.ne.ii():[]};m.Touch={};m.Touch.Ar="ontouchstart"in m.g.global||!!(m.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!m.g.global.navigator||!m.g.global.navigator.maxTouchPoints&&!m.g.global.navigator.msMaxTouchPoints);m.Touch.Ck=null;m.Touch.ge={};
m.g.global.PointerEvent?m.Touch.ge={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:m.Touch.Ar&&(m.Touch.ge={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});m.dm=0;
m.gz=function(a,b){m.cg();a.changedTouches&&1!=a.changedTouches.length||(m.dm=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&Lb(b,a)},m.bw))};m.cg=function(){m.dm&&(clearTimeout(m.dm),m.dm=0)};m.Touch.Se=function(){m.Touch.Ck=null};m.Touch.oq=function(a){return!m.Touch.az(a)||m.Touch.Tw(a)};
m.Touch.Sl=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};m.Touch.Tw=function(a){var b=m.Touch.Sl(a);return void 0!==m.Touch.Ck&&null!==m.Touch.Ck?m.Touch.Ck==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(m.Touch.Ck=b,!0):!1};
m.Touch.jA=function(a){if(m.g.Ja.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};m.Touch.az=function(a){return m.g.Ja.startsWith(a.type,"touch")||m.g.Ja.startsWith(a.type,"mouse")||m.g.Ja.startsWith(a.type,"pointer")};m.Touch.bm=function(a){return m.g.Ja.startsWith(a.type,"touch")||m.g.Ja.startsWith(a.type,"pointer")};
m.Touch.oA=function(a){var b=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)b[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};m.g.Nc={};m.g.Nc.yk=function(a){return a*Math.PI/180};m.g.Nc.cv=function(a){return 180*a/Math.PI};m.g.Nc.dj=function(a,b,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(b,d))};function Mb(a){this.Za=null;this.Yf=!!a}c=Mb.prototype;c.types={cn:"field",SA:"block",fn:"input",yB:"output",$A:"next",zB:"previous",CB:"stack",DB:"workspace"};function E(a,b){a.Za=b;a.kv()}c.kv=function(){};c.next=function(){var a=this.Za;if(!a)return null;(a=a.next())&&a.fc()===Nb&&(a=a.next()||a);a&&E(this,a);return a};c.Hj=function(){var a=this.Za;if(!a)return null;(a=a.Hj())&&a.fc()===Ob&&(a=a.next()||a);a&&E(this,a);return a};
c.Ai=function(){var a=this.Za;if(!a)return null;(a=a.Ai())&&a.fc()===Nb&&(a=a.Ai()||a);a&&E(this,a);return a};c.ak=function(){var a=this.Za;if(!a)return null;(a=a.ak())&&E(this,a);return a};m.Ff={};m.Ff.ug={};m.Ff.ug.yx={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
m.Ff.ug.Mw={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};m.Ff.ug=new function(){var a=m.Ff.ug.Mw;this.Hw=m.Ff.ug.yx;this.Nw=a};function Pb(a){this.Aa=Object.create(null);this.v=a}c=Pb.prototype;c.clear=function(){this.Aa=Object.create(null)};c.Tp=function(a,b){var d=this.Qd(b,a.type),e=F(this.v,!1);m.i.V(!0);try{if(d&&d.va()!=a.va()){var f=a.type;b!=d.name&&Qb(d,b,e);for(b=0;b<e.length;b++)for(var h=void 0,k=e[b],l=a.va(),n=d.va(),p=0;h=k.K[p];p++)for(var r=0,u;u=h.Ma[r];r++)u.wm()&&l==u.getValue()&&u.setValue(n);m.i.$(new Aa(a));this.Aa[f].splice(this.Bj(f).indexOf(a),1)}else Qb(a,b,e)}finally{m.i.V(!1)}};
c.lh=function(a,b){var d=this.af(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.Tp(d,b)};function Qb(a,b,d){m.i.$(new Ba(a,b));a.name=b;for(b=0;b<d.length;b++)for(var e,f=d[b],h=a,k=0;e=f.K[k];k++)for(var l=0,n;n=e.Ma[l];l++)n.wm()&&h.va()==n.getValue()&&Rb(n)}
c.zd=function(a,b,d){var e=this.Qd(a,b);if(e){if(d&&e.va()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.va()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.af(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||m.g.re();b=b||"";e=new Sb(this.v,a,b,e);a=this.Aa[b]||[];a.push(e);delete this.Aa[b];this.Aa[b]=a;return e};
c.Eg=function(a){var b=this.af(a);if(b){var d=b.name,e=this.Ko(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=Tb(f,"NAME");d=m.h.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);m.alert(d);return}var h=this;1<e.length?(d=m.h.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),m.confirm(d,function(k){k&&h.ul(b,e)})):h.ul(b,e)}else console.warn("Can't delete non-existent variable: "+a)};
c.ul=function(a,b){var d=m.i.Jb();d||m.i.V(!0);try{for(var e=0;e<b.length;e++)b[e].G(!0,!1);var f=this.Aa[a.type];b=0;for(var h;h=f[b];b++)if(h.va()==a.va()){f.splice(b,1);m.i.$(new Aa(a));break}}finally{d||m.i.V(!1)}};c.Qd=function(a,b){if(b=this.Aa[b||""])for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a.toLowerCase())return e;return null};c.af=function(a){for(var b=Object.keys(this.Aa),d=0;d<b.length;d++)for(var e=b[d],f=0,h;h=this.Aa[e][f];f++)if(h.va()==a)return h;return null};
c.Bj=function(a){return(a=this.Aa[a||""])?a.slice():[]};c.Jo=function(a){var b=[];a&&a.hg&&(b=Object.keys(a.hg.Aa));a=Object.keys(this.Aa).concat(b);b=!1;for(var d=0;d<a.length;d++)""==a[d]&&(b=!0);b||a.push("");return a};c.Ye=function(){var a=[],b;for(b in this.Aa)a=a.concat(this.Aa[b]);return a};c.Ko=function(a){for(var b=[],d=F(this.v,!1),e=0;e<d.length;e++){var f=bb(d[e]);if(f)for(var h=0;h<f.length;h++)f[h].va()==a&&b.push(d[e])}return b};function Ub(a){this.le=a.id;this.Fb=a.v.id;this.group=m.i.Cj;this.jc=m.i.jc}g(Ub,Ia);Ub.prototype.Fa=function(){var a=Ub.u.Fa.call(this);this.le&&(a.commentId=this.le);return a};Ub.prototype.aa=function(a){Ub.u.aa.call(this,a);this.le=a.commentId};function Ea(a,b,d){a&&(Ea.u.constructor.call(this,a),this.au=b,this.km=d)}g(Ea,Ub);c=Ea.prototype;c.type=m.i.Fq;c.Fa=function(){var a=Ea.u.Fa.call(this);a.newContents=this.km;return a};c.aa=function(a){Ea.u.aa.call(this,a);this.km=a.newValue};
c.ti=function(){return this.au==this.km};c.run=function(a){var b=Vb(Ja(this),this.le);b?b.Cm(a?this.km:this.au):console.warn("Can't change non-existent comment: "+this.le)};function Da(a){a&&(Da.u.constructor.call(this,a),this.xml=a.Ak())}g(Da,Ub);Da.prototype.type=m.i.Mk;Da.prototype.Fa=function(){var a=Da.u.Fa.call(this);a.xml=m.I.pc(this.xml);return a};Da.prototype.aa=function(a){Da.u.aa.call(this,a);this.xml=m.I.vf(a.xml)};Da.prototype.run=function(a){m.i.Jq(this,a)};
m.i.Jq=function(a,b){var d=Ja(a);b?(b=m.g.xml.createElement("xml"),b.appendChild(a.xml),m.I.Mf(b,d)):(d=Vb(d,a.le))?d.G(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.le)};function Ga(a){a&&(Ga.u.constructor.call(this,a),this.xml=a.Ak())}g(Ga,Ub);Ga.prototype.type=m.i.Gq;Ga.prototype.Fa=function(){return Ga.u.Fa.call(this)};Ga.prototype.aa=function(a){Ga.u.aa.call(this,a)};Ga.prototype.run=function(a){m.i.Jq(this,!a)};
function Fa(a){a&&(Fa.u.constructor.call(this,a),this.Qn=a,this.Ap=Wb(a),this.$g=null)}g(Fa,Ub);c=Fa.prototype;c.kf=function(){if(!this.Qn)throw Error("Tried to record the new position of a comment on the same event twice.");this.$g=Wb(this.Qn);this.Qn=null};c.type=m.i.Nk;c.Fa=function(){var a=Fa.u.Fa.call(this);this.$g&&(a.newCoordinate=Math.round(this.$g.x)+","+Math.round(this.$g.y));return a};
c.aa=function(a){Fa.u.aa.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.$g=new q(Number(a[0]),Number(a[1])))};c.ti=function(){return oa(this.Ap,this.$g)};c.run=function(a){var b=Vb(Ja(this),this.le);if(b){a=a?this.$g:this.Ap;var d=Wb(b);b.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.le)};function Va(a,b,d,e,f){this.id=f&&!Vb(a,f)?f:m.g.re();a.Ki.push(this);a.kl[this.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+this.id+'"');a.kl[this.id]=this;this.Kd=new q(0,0);this.Da=d;this.pa=e;this.v=a;this.w=a.w;this.Xj=this.qj=!0;this.Wc=b;this.bp=!0;Wa(this)}c=Va.prototype;
c.G=function(){if(this.v){m.i.isEnabled()&&m.i.$(new Ga(this));var a=this.v;if(!m.g.Yi(a.Ki,this))throw Error("Comment not present in workspace's list of top-most comments.");delete a.kl[this.id];this.v=null}};c.yj=function(){return this.Da};c.Hc=function(){return this.pa};function Wb(a){return new q(a.Kd.x,a.Kd.y)}c.moveBy=function(a,b){var d=new Fa(this);this.Kd.translate(a,b);d.kf();m.i.$(d)};c.gc=function(){return this.qj&&!(this.v&&this.v.options.readOnly)};c.fq=function(a){this.qj=a};
c.Wb=function(){return this.Xj&&!(this.v&&this.v.options.readOnly)};c.oh=function(a){this.Xj=a};c.Do=function(){return this.Wc};c.Cm=function(a){this.Wc!=a&&(m.i.$(new Ea(this,this.Wc,a)),this.Wc=a)};c.Ak=function(a){a=this.zk(a);a.setAttribute("x",Math.round(this.Kd.x));a.setAttribute("y",Math.round(this.Kd.y));a.setAttribute("h",this.Da);a.setAttribute("w",this.pa);return a};c.zk=function(a){var b=m.g.xml.createElement("comment");a||(b.id=this.id);b.textContent=this.Do();return b};
function Wa(a){if(m.i.isEnabled()){var b=m.i.Jb();b||m.i.V(!0);try{m.i.$(new Da(a))}finally{b||m.i.V(!1)}}}function Ua(a){var b=a.getAttribute("h"),d=a.getAttribute("w");return{id:a.getAttribute("id"),ot:b?parseInt(b,10):100,pv:d?parseInt(d,10):100,x:parseInt(a.getAttribute("x"),10),y:parseInt(a.getAttribute("y"),10),content:a.textContent}};function C(a){this.id=m.g.re();ua[this.id]=this;this.options=a||{};this.w=!!this.options.w;this.Xc=!!this.options.Xc;this.na=this.options.na;this.Ji=[];this.Ki=[];this.kl=Object.create(null);this.Mc=[];this.yh=[];this.ek=[];this.Hn=Object.create(null);this.yf=Object.create(null);this.Aa=new Pb(this);this.hg=null;this.cursor=this.rs();this.Wg=this.ss();m.Rl()||m.Mu(m.Ff.ug)}c=C.prototype;c.Y=!1;c.ap=!1;c.$q=1024;c.jj=null;c.rs=function(){return new Mb};c.ss=function(){return new Mb(!0)};
c.G=function(){this.Mc.length=0;this.clear();delete ua[this.id]};c.He=function(a,b){a=a.ta();b=b.ta();return a.y+C.prototype.He.offset*a.x-(b.y+C.prototype.He.offset*b.x)};function Xb(a,b){if(!m.g.Yi(a.Ji,b))throw Error("Block not present in workspace's list of top-most blocks.");}function B(a,b){var d=[].concat(a.Ji);b&&1<d.length&&(a.He.offset=Math.sin(m.g.Nc.yk(3)),a.w&&(a.He.offset*=-1),d.sort(a.He));return d}
function Sa(a,b){var d=[].concat(a.Ki);b&&1<d.length&&(a.He.offset=Math.sin(m.g.Nc.yk(3)),a.w&&(a.He.offset*=-1),d.sort(a.He));return d}function F(a,b){if(b){a=B(a,!0);b=[];for(var d=0;d<a.length;d++)b.push.apply(b,t(a[d],!0))}else for(b=B(a,!1),d=0;d<b.length;d++)b.push.apply(b,b[d].Ze(!1));return b.filter(function(e){return!e.Wf()})}
c.clear=function(){this.ap=!0;try{var a=m.i.Jb();for(a||m.i.V(!0);this.Ji.length;)this.Ji[0].G();for(;this.Ki.length;)this.Ki[this.Ki.length-1].G();a||m.i.V(!1);this.Aa.clear();this.hg&&this.hg.clear()}finally{this.ap=!1}};c.lh=function(a,b){this.Aa.lh(a,b)};c.zd=function(a,b,d){return this.Aa.zd(a,b,d)};c.Ko=function(a){return this.Aa.Ko(a)};c.Eg=function(a){this.Aa.Eg(a)};c.ul=function(a,b){this.Aa.ul(a,b)};c.Qd=function(a,b){return this.Aa.Qd(a,b)};c.af=function(a){return this.Aa.af(a)};c.Bj=function(a){return this.Aa.Bj(a)};
c.Jo=function(){return this.Aa.Jo(this)};c.Ye=function(){return this.Aa.Ye()};c.Hc=function(){return 0};c.vp=function(a,b){return new Yb(this,a,b)};function Zb(a){return isNaN(a.options.rp)?Infinity:a.options.rp-F(a).length}function $b(a,b){if(!ac(a))return!0;var d=0,e;for(e in b){var f=b[e];if(a.options.sp){var h=a.options.sp[e]||Infinity;var k=a.yf[e]?a.yf[e].slice(0):[];h-=k.length}else h=Infinity;if(f>h)return!1;d+=b[e]}return d>Zb(a)?!1:!0}
function ac(a){return Infinity!=a.options.rp||!!a.options.sp}c.vq=function(a){var b=a?this.ek:this.yh,d=a?this.yh:this.ek,e=b.pop();if(e){for(var f=[e];b.length&&e.group&&e.group==b[b.length-1].group;)f.push(b.pop());for(b=0;e=f[b];b++)d.push(e);f=m.i.filter(f,a);m.i.jc=!1;try{for(b=0;e=f[b];b++)e.run(a)}finally{m.i.jc=!0}}};c.Xr=function(){this.yh.length=0;this.ek.length=0;m.i.Vw()};c.Ac=function(a){this.Mc.push(a);return a};c.jh=function(a){m.g.Yi(this.Mc,a)};
function Ha(a,b){return a.Hn[b]||null}function Vb(a,b){return a.kl[b]||null}var ua=Object.create(null);function bc(){var a=[],b;for(b in ua)a.push(ua[b]);return a}C.prototype.clear=C.prototype.clear;C.prototype.clearUndo=C.prototype.Xr;C.prototype.addChangeListener=C.prototype.Ac;C.prototype.removeChangeListener=C.prototype.jh;function cc(a,b,d,e,f,h){this.m=a;this.Wc=b;this.Nu=d;d=dc;this.m.w&&(d=-d);this.Aw=m.g.Nc.yk(d);a.td.appendChild(this.nj(b,!(!f||!h)));this.yb=e;this.mh&&ec(this);f&&h||(b=this.Wc.getBBox(),f=b.width+2*G,h=b.height+2*G);this.mg(f,h);ec(this);fc(this);this.mh=!0;a.options.readOnly||(m.L(this.aj,"mousedown",this,this.Jw),this.Mb&&m.L(this.Mb,"mousedown",this,this.Vp))}var G=6,dc=20,gc=null,hc=null;c=cc.prototype;c.Up=null;function ic(){gc&&(m.oa(gc),gc=null);hc&&(m.oa(hc),hc=null)}
function jc(){m.Touch.Se();ic()}c.mh=!1;c.yb=null;c.lf=0;c.kg=0;c.pa=0;c.Da=0;c.bl=!0;
c.nj=function(a,b){this.ld=m.g.j.C("g",{},null);var d={filter:"url(#"+this.m.options.Ps+")"};m.g.userAgent.$v&&(d={});d=m.g.j.C("g",d,this.ld);this.Jn=m.g.j.C("path",{},d);this.aj=m.g.j.C("rect",{"class":"blocklyDraggable",x:0,y:0,rx:G,ry:G},d);b?(this.Mb=m.g.j.C("g",{"class":this.m.w?"blocklyResizeSW":"blocklyResizeSE"},this.ld),b=2*G,m.g.j.C("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.Mb),m.g.j.C("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.Mb),m.g.j.C("line",
{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-1,y2:2*b/3},this.Mb)):this.Mb=null;this.ld.appendChild(a);return this.ld};c.S=function(){return this.ld};function kc(a,b){a.ld.dataset&&(a.ld.dataset.dc=b)}c.Jw=function(a){var b=this.m.se(a);b&&lc(b,a,this)};c.Fi=function(){};c.gc=function(){return!1};c.Vp=function(a){mc(this);ic();m.g.Zf(a)||(this.m.Gm(a,new q(this.m.w?-this.pa:this.pa,this.Da)),gc=m.L(document,"mouseup",this,jc),hc=m.L(document,"mousemove",this,this.Wp),m.Tb());a.stopPropagation()};
c.Wp=function(a){this.bl=!1;a=nc(this.m,a);this.mg(this.m.w?-a.x:a.x,a.y);this.m.w&&ec(this)};function mc(a){var b=a.ld.parentNode;return b.lastChild!==a.ld?(b.appendChild(a.ld),!0):!1}function oc(a,b,d){var e=a.m.w?a.yb.x-b.x-a.pa:b.x+a.yb.x;b=b.y+a.yb.y;return Math.max(0,Math.min(1,(Math.min(e+a.pa,d.jb+d.Ka)-Math.max(e,d.jb))*(Math.min(b+a.Da,d.wb+d.Qa)-Math.max(b,d.wb))/(a.pa*a.Da)))}function ec(a){var b=a.yb.x;b=a.m.w?b-(a.lf+a.pa):b+a.lf;a.moveTo(b,a.kg+a.yb.y)}
c.moveTo=function(a,b){this.ld.setAttribute("transform","translate("+a+","+b+")")};c.Gg=function(){return{width:this.pa,height:this.Da}};
c.mg=function(a,b){var d=2*G;a=Math.max(a,d+45);b=Math.max(b,d+20);this.pa=a;this.Da=b;this.aj.setAttribute("width",a);this.aj.setAttribute("height",b);this.Mb&&(this.m.w?this.Mb.setAttribute("transform","translate("+2*G+","+(b-d)+") scale(-1 1)"):this.Mb.setAttribute("transform","translate("+(a-d)+","+(b-d)+")"));if(this.mh){if(this.bl){a=this.m.tb();a.jb/=this.m.scale;a.Ka/=this.m.scale;a.wb/=this.m.scale;a.Qa/=this.m.scale;b=-this.pa/4;if(!(this.pa>a.Ka)){if(this.m.w){d=this.yb.x-b;var e=d-this.pa;
var f=a.jb+a.Ka,h=a.jb+H/this.m.scale}else e=b+this.yb.x,d=e+this.pa,h=a.jb,f=a.jb+a.Ka-H/this.m.scale;this.m.w?e<h?b=-(h-this.yb.x+this.pa):d>f&&(b=-(f-this.yb.x)):e<h?b=h-this.yb.x:d>f&&(b=f-this.yb.x-this.pa)}e=b;b=-this.Da/4;if(!(this.Da>a.Qa)){d=this.yb.y+b;f=d+this.Da;h=a.wb;var k=a.wb+a.Qa-H/this.m.scale,l=this.yb.y;d<h?b=h-l:f>k&&(b=k-l-this.Da)}h=b;f=this.Nu.getBBox();b={x:e,y:-this.Da-25};d={x:-this.pa-30,y:h};h={x:f.width,y:h};k={x:e,y:f.height};e=f.width<f.height?h:k;f=f.width<f.height?
k:h;h=oc(this,b,a);k=oc(this,d,a);l=oc(this,e,a);a=Math.max(h,k,l,oc(this,f,a));h==a?(this.lf=b.x,this.kg=b.y):k==a?(this.lf=d.x,this.kg=d.y):l==a?(this.lf=e.x,this.kg=e.y):(this.lf=f.x,this.kg=f.y)}ec(this);fc(this)}this.Up&&this.Up()};
function fc(a){var b=[],d=a.pa/2,e=a.Da/2,f=-a.lf,h=-a.kg;if(d==f&&e==h)b.push("M "+d+","+e);else{h-=e;f-=d;a.m.w&&(f*=-1);var k=Math.sqrt(h*h+f*f),l=Math.acos(f/k);0>h&&(l=2*Math.PI-l);var n=l+Math.PI/2;n>2*Math.PI&&(n-=2*Math.PI);var p=Math.sin(n),r=Math.cos(n),u=a.Gg();n=(u.width+u.height)/5;n=Math.min(n,u.width,u.height)/4;u=1-8/k;f=d+u*f;h=e+u*h;u=d+n*r;var v=e+n*p;d-=n*r;e-=n*p;p=l+a.Aw;p>2*Math.PI&&(p-=2*Math.PI);l=Math.sin(p)*k/4;k=Math.cos(p)*k/4;b.push("M"+u+","+v);b.push("C"+(u+k)+","+
(v+l)+" "+f+","+h+" "+f+","+h);b.push("C"+f+","+h+" "+(d+k)+","+(e+l)+" "+d+","+e)}b.push("z");a.Jn.setAttribute("d",b.join(" "))}c.nf=function(a){this.aj.setAttribute("fill",a);this.Jn.setAttribute("fill",a)};c.G=function(){ic();m.g.j.removeNode(this.ld);this.Nu=this.Wc=this.m=this.Mb=this.aj=this.Jn=this.ld=null};c.im=function(a,b){a?a.wf(b.x,b.y):this.moveTo(b.x,b.y);this.lf=this.m.w?this.yb.x-b.x-this.pa:b.x-this.yb.x;this.kg=b.y-this.yb.y;fc(this)};
c.ta=function(){return new q(this.yb.x+this.lf,this.yb.y+this.kg)};c.Hu=function(a){this.bl=a};function x(a,b,d,e){x.u.constructor.call(this);this.dc=a?a.id:null;this.Fb=a?a.v.id:null;this.element=b;this.oldValue=d;this.newValue=e;this.jc=!1}g(x,Ia);x.prototype.type=m.i.Vi;x.prototype.Fa=function(){var a=x.u.Fa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.dc&&(a.blockId=this.dc);return a};x.prototype.aa=function(a){x.u.aa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.dc=a.blockId};function pc(a,b,d,e){this.top=a;this.bottom=b;this.left=d;this.right=e}pc.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};function qc(a,b,d,e,f){this.B=m.g.j.C("g",{"class":"blocklyComment"},null);this.B.xf="";this.xk=m.g.j.C("rect",{"class":"blocklyCommentRect",x:0,y:0,rx:3,ry:3});this.B.appendChild(this.xk);this.mh=!1;this.Ke=m.g.Vf()&&!!a.zb;qc.u.constructor.call(this,a,b,d,e,f);this.ka()}g(qc,Va);c=qc.prototype;
c.G=function(){if(this.v){if(m.selected==this){this.zf();var a=this.v;a.Bb&&a.Bb.cancel()}m.i.isEnabled()&&m.i.$(new Ga(this));m.g.j.removeNode(this.B);this.uh=this.pg=this.md=this.vb=this.xk=this.B=null;this.yl=!0;m.i.disable();qc.u.G.call(this);m.i.enable()}};c.ef=function(){if(!this.v.Y)throw TypeError("Workspace is headless.");this.v.options.readOnly||this.so||(m.L(this.pg,"mousedown",this,this.su),m.L(this.uh,"mousedown",this,this.su));this.so=!0;rc(this);this.S().parentNode||this.v.td.appendChild(this.S())};
c.su=function(a){var b=this.v.se(a);b&&lc(b,a,this)};c.Fi=function(a){if(!this.v.options.readOnly){var b=[];this.gc()&&this.Wb()&&(b.push(m.sa.Yw(this)),b.push(m.sa.Xw(this)));m.sa.show(a,b,this.w)}};c.select=function(){if(m.selected!=this){var a=null;if(m.selected){a=m.selected.id;m.i.disable();try{m.selected.zf()}finally{m.i.enable()}}a=new x(null,"selected",a,this.id);a.Fb=this.v.id;m.i.$(a);m.selected=this;this.Ph()}};
c.zf=function(){if(m.selected==this){var a=new x(null,"selected",this.id,null);a.Fb=this.v.id;m.i.$(a);m.selected=null;this.kh();sc(this)}};c.Ph=function(){m.g.j.Ba(this.B,"blocklySelected");this.iq()};c.kh=function(){m.g.j.Oa(this.B,"blocklySelected");sc(this)};
c.ta=function(){var a=0,b=0,d=this.Ke?this.v.zb.Jb():null,e=this.S();if(e){do{var f=m.g.nd(e);a+=f.x;b+=f.y;this.Ke&&this.v.zb.Ad.firstChild==e&&(f=this.v.zb.Ol(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.v.td&&e!=d)}return this.Kd=new q(a,b)};c.moveBy=function(a,b){var d=new Fa(this),e=this.ta();this.translate(e.x+a,e.y+b);this.Kd=new q(e.x+a,e.y+b);d.kf();m.i.$(d);ab(this.v)};c.translate=function(a,b){this.Kd=new q(a,b);this.S().setAttribute("transform","translate("+a+","+b+")")};
c.jm=function(){if(this.Ke){var a=this.ta();this.S().removeAttribute("transform");this.v.zb.wf(a.x,a.y);tc(this.v.zb,this.S())}};c.Yt=function(a){this.Ke&&(this.translate(a.x,a.y),this.v.zb.ej(this.v.Pa))};c.im=function(a,b){a?a.wf(b.x,b.y):(this.B.xf="translate("+b.x+","+b.y+")",this.B.setAttribute("transform",this.B.xf+this.B.qh))};c.moveTo=function(a,b){this.translate(a,b)};
c.Il=function(){var a=this.ta(),b=this.Sb(),d=a.y,e=a.y+b.height;if(this.w){var f=a.x-b.width;a=a.x}else f=a.x,a=a.x+b.width;return new pc(d,e,f,a)};function rc(a){a.Wb()?m.g.j.Ba(a.B,"blocklyDraggable"):m.g.j.Oa(a.B,"blocklyDraggable")}c.oh=function(a){qc.u.oh.call(this,a);rc(this)};c.og=function(a){a?(a=this.S(),a.xf="",a.qh="",m.g.j.Ba(this.B,"blocklyDragging")):m.g.j.Oa(this.B,"blocklyDragging")};c.S=function(){return this.B};c.Do=function(){return this.vb?this.vb.value:this.Wc};
c.Cm=function(a){qc.u.Cm.call(this,a);this.vb&&(this.vb.value=a)};c.jk=function(a){a?m.g.j.Ba(this.B,"blocklyDraggingDelete"):m.g.j.Oa(this.B,"blocklyDraggingDelete")};c.Hu=function(){};function Ta(a,b,d){m.i.disable();try{var e=Ua(a),f=new qc(b,e.content,e.ot,e.pv,e.id);b.Y&&(f.ef(),f.ka(!1));if(!isNaN(e.x)&&!isNaN(e.y))if(b.w){var h=d||b.Hc();f.moveBy(h-e.x,e.y)}else f.moveBy(e.x,e.y)}finally{m.i.enable()}Wa(f);return f}
c.Ak=function(a){var b;this.v.w&&(b=this.v.Hc());a=this.zk(a);var d=this.ta();a.setAttribute("x",Math.round(this.v.w?b-d.x:d.x));a.setAttribute("y",Math.round(d.y));a.setAttribute("h",this.yj());a.setAttribute("w",this.Hc());return a};function uc(a,b){this.Ib=a;this.m=b;this.Dg=null;this.Mm=!1;this.Ie=this.Ib.ta();this.Fg=m.g.Vf()&&b.zb?b.zb:null}uc.prototype.G=function(){this.Fg=this.m=this.Ib=null};function vc(a,b,d){d=a.zi(d);a.Ib.im(a.Fg,ra(a.Ie,d));a.Ib.gc()&&(a.Dg=Gb(a.m,b),a.Mm=a.Dg!=m.Kq,b=a.m.kc,a.Mm?(a.Ib.jk(!0),a.Dg==m.an&&b&&Hb(b,!0)):(a.Ib.jk(!1),b&&Hb(b,!1)))}
function wc(a,b,d){vc(a,b,d);b=a.zi(d);b=ra(a.Ie,b);a.Ib.moveTo(b.x,b.y);b=a.m.kc;a.Mm?(b&&setTimeout(b.close.bind(b),100),a.vj(),a.Ib.G(!1,!0)):b&&b.close();a.Mm||(a.Fg&&a.Fg.ej(a.m.td),a.Ib.og&&a.Ib.og(!1),a.vj());a.m.$b(!0);a.m.W&&m.g.j.Oa(a.m.W.wc,a.Ib.gc()?"blocklyToolboxDelete":"blocklyToolboxGrab");m.i.V(!1)}uc.prototype.vj=function(){if(this.Ib.bp){var a=new Fa(this.Ib);a.Ap=this.Ie;a.kf();m.i.$(a)}};
uc.prototype.zi=function(a){a=new q(a.x/this.m.scale,a.y/this.m.scale);this.m.Sg&&a.scale(1/this.m.options.$c.scale);return a};uc.prototype.jm=function(){this.Ib.moveTo(0,0);this.Fg.wf(this.Ie.x,this.Ie.y);tc(this.Fg,this.Ib.S())};m.Uc={};m.Zq=40;m.mr=125;m.Gv=5;m.Pv=10;m.mc=28;m.Hq=m.mc;m.Fv=8;m.Wv="#000000";m.Kk=250;m.Ym=10;m.Cv=30;m.bw=750;m.lw=100;m.Hv=!0;m.Rq=.45;m.Vv=.65;m.xc={width:96,height:124,url:"sprites.png"};m.Ha=1;m.hd=2;m.ya=3;m.jd=4;m.gd=5;m.Ik=-1;m.Um=0;m.Vm=1;m.WA=0;m.XA=1;m.UA=1;m.VA=2;m.Lh=[];m.Lh[m.Ha]=m.hd;m.Lh[m.hd]=m.Ha;m.Lh[m.ya]=m.jd;m.Lh[m.jd]=m.ya;m.yc=0;m.Ef=1;m.Rc=2;m.Oe=3;m.Kq=null;m.an=1;m.Lq=2;m.Br="VARIABLE";m.sw="VARIABLE_DYNAMIC";m.nr="PROCEDURE";m.pr="RENAME_VARIABLE_ID";m.Mq="DELETE_VARIABLE_ID";function xc(a){this.m=a;this.Vu=new q(a.scrollX,a.scrollY)}xc.prototype.G=function(){this.m=null};xc.prototype.Gm=function(){m.selected&&m.selected.zf();yc(this.m)};xc.prototype.Nf=function(a){a=ra(this.Vu,a);this.m.scroll(a.x,a.y)};function zc(a){zc.u.constructor.call(this,a.Qf());this.Db=a.Db;this.Ed=a.Ed}g(zc,xc);zc.prototype.Nf=function(a){a=ra(this.Vu,a);this.Ed?this.Db.set(-a.x):this.Db.set(-a.y)};m.F={};m.F.visible=!1;m.F.Th=!1;m.F.aw=50;m.F.Wt=0;m.F.nk=0;m.F.jp=0;m.F.kp=0;m.F.Ca=null;m.F.sm=null;m.F.dr=0;m.F.er=10;m.F.jw=10;m.F.Uv=750;m.F.jn=5;m.F.qa=null;m.F.Ia=function(){m.F.qa||(m.F.qa=document.createElement("div"),m.F.qa.className="blocklyTooltipDiv",document.body.appendChild(m.F.qa))};m.F.Sh=function(a){m.Hb(a,"mouseover",null,m.F.Qz);m.Hb(a,"mouseout",null,m.F.Pz);a.addEventListener("mousemove",m.F.Hp,!1)};
m.F.Qz=function(a){if(!m.F.Th){for(a=a.currentTarget;"string"!=typeof a.$d&&"function"!=typeof a.$d;)a=a.$d;m.F.Ca!=a&&(m.F.Ea(),m.F.sm=null,m.F.Ca=a);clearTimeout(m.F.Wt)}};m.F.Pz=function(){m.F.Th||(m.F.Wt=setTimeout(function(){m.F.Ca=null;m.F.sm=null;m.F.Ea()},1),clearTimeout(m.F.nk))};
m.F.Hp=function(a){if(m.F.Ca&&m.F.Ca.$d&&!m.F.Th)if(m.F.visible){var b=m.F.jp-a.pageX;a=m.F.kp-a.pageY;Math.sqrt(b*b+a*a)>m.F.jw&&m.F.Ea()}else m.F.sm!=m.F.Ca&&(clearTimeout(m.F.nk),m.F.jp=a.pageX,m.F.kp=a.pageY,m.F.nk=setTimeout(m.F.mA,m.F.Uv))};m.F.Ea=function(){m.F.visible&&(m.F.visible=!1,m.F.qa&&(m.F.qa.style.display="none"));m.F.nk&&clearTimeout(m.F.nk)};m.F.block=function(){m.F.Ea();m.F.Th=!0};m.F.HA=function(){m.F.Th=!1};
m.F.mA=function(){if(!m.F.Th&&(m.F.sm=m.F.Ca,m.F.qa)){m.F.qa.innerHTML="";for(var a=m.F.Ca.$d;"function"==typeof a;)a=a();a=m.g.Ja.rv(a,m.F.aw);a=a.split("\n");for(var b=0;b<a.length;b++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[b]));m.F.qa.appendChild(d)}a=m.F.Ca.w;b=document.documentElement.clientWidth;d=document.documentElement.clientHeight;m.F.qa.style.direction=a?"rtl":"ltr";m.F.qa.style.display="block";m.F.visible=!0;var e=m.F.jp;e=a?e-(m.F.dr+m.F.qa.offsetWidth):
e+m.F.dr;var f=m.F.kp+m.F.er;f+m.F.qa.offsetHeight>d+window.scrollY&&(f-=m.F.qa.offsetHeight+2*m.F.er);a?e=Math.max(m.F.jn-window.scrollX,e):e+m.F.qa.offsetWidth>b+window.scrollX-2*m.F.jn&&(e=b-m.F.qa.offsetWidth-2*m.F.jn);m.F.qa.style.top=f+"px";m.F.qa.style.left=e+"px"}};function Ac(a,b){this.Nb=this.bc=this.rh=this.sh=this.rd=this.Ec=this.Vt=null;this.ts=b;this.Lj=this.Qg=this.Mj=this.Ig=!1;this.Ud=a;this.H=this.tg=this.Md=this.Pe=this.om=this.nm=null;this.Yl=this.Jg=this.Rr=!1;this.ut=!m.Hv}c=Ac.prototype;c.G=function(){m.Touch.Se();m.F.HA();this.ts.Bb=null;this.nm&&m.oa(this.nm);this.om&&m.oa(this.om);this.H=this.Nb=this.bc=this.rh=this.sh=null;this.Md&&(this.Md.G(),this.Md=null);this.tg&&(this.tg.G(),this.tg=null);this.Pe&&(this.Pe.G(),this.Pe=null)};
function Bc(a,b){a.Ec=qa(new q(b.clientX,b.clientY),a.Vt);if(a.Ig)var d=!1;else d=a.Ec,a.Ig=Math.sqrt(d.x*d.x+d.y*d.y)>(a.H?m.Pv:m.Gv),d=a.Ig;if(d){if(a.Rr)throw Error("updateIsDragging_ should only be called once per gesture.");a.Rr=!0;if(a.rd){a.Lj=!0;a.Pe=new uc(a.rd,a.Nb);d=a.Pe;m.i.Jb()||m.i.V(!0);d.m.$b(!1);d.Ib.Hu(!1);d.Fg&&d.jm();d.Ib.og&&d.Ib.og(!0);var e=d.m.W;e&&m.g.j.Ba(e.wc,d.Ib.gc()?"blocklyToolboxDelete":"blocklyToolboxGrab");vc(a.Pe,a.Ud,a.Ec);d=!0}else d=!1;if(!d){if(a.bc)if(a.H?
(a.H.Ht(a.bc)?!Cc(a.H)||a.H.It(a.Ec)?(a.Nb=a.H.wa,Dc(a.Nb),m.i.Jb()||m.i.V(!0),a.rh=null,a.bc=Ec(a.H,a.bc),a.bc.select(),d=!0):d=!1:d=!1,a.Qg=d):a.bc.Wb()&&(a.Qg=!0),a.Qg){a.Md=new Cb(a.bc,a.Nb);d=a.Md;e=a.Ec;var f=a.ut;m.i.Jb()||m.i.V(!0);d.m.Sg&&Jb(d.eb);m.g.j.pk();d.m.$b(!1);m.Ra.co();if(d.eb.getParent()||f&&d.eb.T&&y(d.eb.T))Na(d.eb,f),e=d.zi(e),e=ra(d.Ie,e),d.eb.translate(e.x,e.y),m.Ra.Kx(d.eb);d.eb.og(!0);d.eb.jm();(e=d.m.W)&&m.g.j.Ba(e.wc,d.eb.gc()?"blocklyToolboxDelete":"blocklyToolboxGrab");
Eb(a.Md,a.Ud,a.Ec);d=!0}else d=!1;else d=!1;if(d=!d)if(a.H)d=Cc(a.H);else if(d=a.Nb)d=a.Nb,d=d.options.Yb&&d.options.Yb.Nf;d&&(a.tg=a.H?new zc(a.H):new xc(a.Nb),a.Mj=!0,a.tg.Gm())}m.cg()}a.Ud=b}
c.eo=function(a){m.g.am(a)?this.cancel():(this.Jg=!0,m.Ra.co(),Dc(this.Nb),this.Nb.Sg&&this.Nb.resize(),Fc(this.Nb),this.Ud=a,m.Tb(!!this.H),m.F.block(),this.bc&&(this.bc.select(),!this.bc.Lc&&a.shiftKey&&m.navigation.Fl()),m.g.Zf(a)?Lb(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||m.gz(a,this),this.Vt=new q(a.clientX,a.clientY),this.ut=a.altKey||a.ctrlKey||a.metaKey,this.Sh(a)))};
c.Sh=function(a){this.nm=m.L(document,"mousemove",null,this.Dj.bind(this));this.om=m.L(document,"mouseup",null,this.Tl.bind(this));a.preventDefault();a.stopPropagation()};c.Dj=function(a){Bc(this,a);this.Mj?this.tg.Nf(this.Ec):this.Qg?Eb(this.Md,this.Ud,this.Ec):this.Lj&&vc(this.Pe,this.Ud,this.Ec);a.preventDefault();a.stopPropagation()};
c.Tl=function(a){Bc(this,a);m.cg();if(this.Yl)console.log("Trying to end a gesture recursively.");else{this.Yl=!0;if(this.Lj)wc(this.Pe,a,this.Ec);else if(this.Qg)Ib(this.Md,a,this.Ec);else if(this.Mj){var b=this.tg;b.Nf(this.Ec);Gc(b.m)}else if(this.rd&&!this.Ig)this.rd.iq&&this.rd.iq(),this.rd.select&&this.rd.select();else if(Hc(this))this.sh.Zd(),Ic(this);else if(this.rh&&!this.Ig&&!Hc(this))this.H&&this.H.Rh?this.bc.isEnabled()&&(m.i.Jb()||m.i.V(!0),Kb(Ec(this.H,this.bc))):m.i.$(new x(this.rh,
"click",void 0,void 0)),Ic(this),m.i.V(!1);else if(!(this.rh||this.rd||this.sh||this.Ig))if(m.ze=!1,b=this.ts,b.cursor.Ea(),a.shiftKey){var d=m.g.fA(b,new q(a.clientX,a.clientY));d=Jc(b,d);E(b.cursor,d);m.ze=!0}else m.selected&&m.selected.zf();a.preventDefault();a.stopPropagation();this.G()}};c.cancel=function(){if(!this.Yl){m.cg();if(this.Lj)wc(this.Pe,this.Ud,this.Ec);else if(this.Qg)Ib(this.Md,this.Ud,this.Ec);else if(this.Mj){var a=this.tg;a.Nf(this.Ec);Gc(a.m)}this.G()}};
function Lb(a,b){a.bc?(Ic(a),m.Tb(a.H),a.bc.Fi(b)):a.rd?a.rd.Fi(b):a.Nb&&!a.H&&(m.Tb(),a.Nb.Fi(b));b.preventDefault();b.stopPropagation();a.G()}function Kc(a,b,d){if(a.Jg)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Nb||(a.Nb=d);a.Ud=b;a.eo(b)}function Lc(a,b,d){if(a.Jg)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.H||(a.H=d);Kc(a,b,d.Qf())}
function lc(a,b,d){if(a.Jg)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");a.rd||(a.rd=d);a.Ud=b}function Ic(a){a.bc&&!a.H&&Jb(a.bc)}function Mc(a,b){a.rh||a.rd||(a.rh=b,b.Lc&&b!=nb(b)?Nc(a,nb(b)):Nc(a,b))}function Nc(a,b){b.Ta?Nc(a,b.getParent()):a.bc=b}function Hc(a){if(a.sh){var b=a.sh;b=!!b.A&&b.A.Sa()&&!!b.Zd&&"function"===typeof b.Zd}else b=!1;return b&&!a.Ig&&(!a.H||!a.H.Rh)}c.hc=function(){return this.Mj||this.Qg||this.Lj};
c.ii=function(){return this.Md?this.Md.ii():[]};function Oc(){for(var a=bc(),b=0,d;d=a[b];b++)if(d.Bb)return!0;return!1};function Pc(a,b,d){this.lb=new sa(0,0);this.setValue(a);this.Km=b;this.gj(d)}c=Pc.prototype;c.name=void 0;c.St=50;c.Va=null;c.fv=null;c.A=null;c.Rd=!0;c.sg=!0;c.Km=null;c.fl=null;c.Ld=!0;c.Ne=!1;c.gj=function(a){if(a){var b=a.tooltip;"string"==typeof b&&(b=m.g.Lb(a.tooltip));b&&this.sf(b)}};c.lq=function(a){if(this.A)throw Error("Field already bound to a block.");this.A=a};
c.ra=function(){this.pe||(this.pe=m.g.j.C("g",{},null),this.isVisible()||(this.pe.style.display="none"),this.A.S().appendChild(this.pe),this.ue(),this.Af(),this.sf(this.fv),m.F.Sh(this.fl||this.S()),this.Ut=m.L(this.fl||this.S(),"mousedown",this,this.fg),this.Ng())};c.ue=function(){Qc(this);Rc(this)};function Qc(a){a.lb.height=Math.max(a.lb.height,16);a.lb.width=Math.max(a.lb.width,10);a.kd=m.g.j.C("rect",{rx:4,ry:4,x:0,y:0,height:a.lb.height,width:a.lb.width},a.pe)}
function Rc(a){a.Eb=m.g.j.C("text",{"class":"blocklyText",y:12.5,x:a.kd?5:0},a.pe);a.Ii=document.createTextNode("");a.Eb.appendChild(a.Ii)}c.Ng=function(){};c.Ws=function(a){this.setValue(a.textContent)};c.zk=function(a){a.textContent=this.getValue();return a};c.G=function(){Sc(this);m.M.So(this);this.Ut&&m.oa(this.Ut);m.g.j.removeNode(this.pe)};
c.Af=function(){var a=this.fl||this.S();this.Ld&&a&&(this.A.Sa()?(m.g.j.Ba(a,"blocklyEditableText"),m.g.j.Oa(a,"blocklyNonEditableText"),a.style.cursor=this.Pk):(m.g.j.Ba(a,"blocklyNonEditableText"),m.g.j.Oa(a,"blocklyEditableText"),a.style.cursor=""))};c.isVisible=function(){return this.sg};c.Ua=function(a){if(this.sg!=a){this.sg=a;var b=this.S();b&&(b.style.display=a?"block":"none")}};c.ht=function(){return this.Km};c.S=function(){return this.pe};c.Jd=function(){};
c.Ee=function(){this.Ii.nodeValue=Tc(this);var a=m.g.j.Pl(this.Eb);this.kd&&(a+=10,this.kd.setAttribute("width",a));this.lb.width=a};c.Pf=function(){if(!this.isVisible())return new sa(0,0);this.Rd?(this.Ee(),this.Rd=!1):this.sg&&0==this.lb.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Ee());return this.lb};
function Vc(a){var b=a.kd.getBBox(),d=b.height*a.A.v.scale;b=b.width*a.A.v.scale;a=m.g.style.Ml(a.kd);return{top:a.y,bottom:a.y+d,left:a.x,right:a.x+b}}function Tc(a){var b=a.ub();if(!b)return"\u00a0";b.length>a.St&&(b=b.substring(0,a.St-2)+"\u2026");b=b.replace(/\s/g,"\u00a0");a.A&&a.A.w&&(b+="\u200f");return b}c.ub=function(){if(this.Ql){var a=this.Ql.call(this);if(null!==a)return String(a)}return String(this.getValue())};c.rf=function(){throw Error("setText method is deprecated");};
function Rb(a){a.Rd=!0;a.A&&a.A.Y&&(a.A.ka(),a.A.Bc())}c.setValue=function(a){if(null!==a){var b=this.oc(a);a=Wc(this,a,b);if(!(a instanceof Error)){if(b=this.ht())if(b=b.call(this,a),a=Wc(this,a,b),a instanceof Error)return;b=this.getValue();b!==a&&(this.A&&m.i.isEnabled()&&m.i.$(new m.i.ce(this.A,"field",this.name,b,a)),this.Ve(a),this.Rd&&Rb(this))}}};function Wc(a,b,d){if(null===d)return a.Ks(),a.Rd&&Rb(a),Error();void 0!==d&&(b=d);return b}c.getValue=function(){return this.Va};c.oc=function(a){return a};
c.Ve=function(a){this.Va=a;this.Rd=!0};c.Ks=function(){};c.fg=function(a){if(this.A&&this.A.v&&(a=this.A.v.se(a))){if(a.Jg)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.sh||(a.sh=this)}};c.sf=function(a){var b=this.fl||this.S();b?b.$d=a||""===a?a:this.A:this.fv=a};c.wm=function(){return!1};c.te=function(){for(var a=null,b=this.A,d=b.K,e=0;e<b.K.length;e++)for(var f=d[e],h=f.Ma,k=0;k<h.length;k++)if(h[k]===this){a=f;break}return a};c.dh=function(){return!1};m.qc={};m.qc.hv={};m.qc.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'". The type must be a non-empty string.');if(!b||"function"!=typeof b.aa)throw Error('Field "'+b+'" must have a fromJson function');a=a.toLowerCase();m.qc.hv[a]=b};
m.qc.aa=function(a){var b=m.qc.hv[a.type.toLowerCase()];return b?b.aa(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};function Xc(){}var Yc;function Zc(){Yc||(Yc=new Xc);return Yc}Xc.prototype.$t=0;function $c(){this.Am=ad;this.oi=null;this.Ub=!1;this.Re=this.sb=this.Wd=this.Ca=null}$c.prototype.Py=Zc();var ad=!1;c=$c.prototype;c.va=function(){return this.oi||(this.oi="blockly:"+(this.Py.$t++).toString(36))};c.ca=function(){return this.Ca};c.ph=function(a){if(this==a)throw Error("Unable to set parent component");var b;if(b=a&&this.Wd&&this.oi){b=this.Wd;var d=this.oi;b=b.Re&&d?b.Re[d]||null:null}if(b&&this.Wd!=a)throw Error("Unable to set parent component");this.Wd=a};c.getParent=function(){return this.Wd};
c.Ia=function(){this.Ca=document.createElement("div")};c.ka=function(a){this.Ee(a)};c.Ee=function(a,b){if(this.Ub)throw Error("Component already rendered");this.Ca||this.Ia();a?a.insertBefore(this.Ca,b||null):document.body.appendChild(this.Ca);this.Wd&&!this.Wd.Ub||this.Pd()};c.Pd=function(){this.Ub=!0;bd(this,function(a){!a.Ub&&a.ca()&&a.Pd()})};c.Xe=function(){bd(this,function(a){a.Ub&&a.Xe()});this.Ub=!1};c.G=function(){this.yl||(this.yl=!0,this.rj())};
c.rj=function(){this.Ub&&this.Xe();bd(this,function(a){a.G()});this.Ca&&m.g.j.removeNode(this.Ca);this.Wd=this.Ca=this.Re=this.sb=null};
c.Xi=function(a,b,d){if(a.Ub&&(d||!this.Ub))throw Error("Component already rendered");if(0>b||b>cd(this))throw Error("Child component index out of bounds");this.Re&&this.sb||(this.Re={},this.sb=[]);this.Re[a.va()]=a;if(a.getParent()==this){var e=this.sb.indexOf(a);-1<e&&this.sb.splice(e,1)}a.ph(this);this.sb.splice(b,0,a);a.Ub&&this.Ub&&a.getParent()==this?(d=this.Ca,b=d.childNodes[b]||null,b!=a.ca()&&d.insertBefore(a.ca(),b)):d?(this.Ca||this.Ia(),b=I(this,b+1),a.Ee(this.Ca,b?b.Ca:null)):this.Ub&&
!a.Ub&&a.Ca&&a.Ca.parentNode&&1==a.Ca.parentNode.nodeType&&a.Pd()};c.Tg=function(){null==this.Am&&(this.Am=m.g.style.Tg(this.Ub?this.Ca:document.body));return this.Am};function dd(a,b){if(a.Ub)throw Error("Component already rendered");a.Am=b}function ed(a){return!!a.sb&&0!=a.sb.length}function cd(a){return a.sb?a.sb.length:0}function I(a,b){return a.sb?a.sb[b]||null:null}function bd(a,b,d){if(a.sb)for(var e=0;e<a.sb.length;e++)b.call(d,a.sb[e],e)}
c.removeChild=function(a,b){if(a){var d="string"===typeof a||a instanceof String?String(a):a.va();a=this.Re&&d?this.Re[d]||null:null;d&&a&&(delete this.Re[d],d=this.sb.indexOf(a),-1<d&&this.sb.splice(d,1),b&&(a.Xe(),a.Ca&&m.g.j.removeNode(a.Ca)),a.ph(null))}if(!a)throw Error("Child is not in parent component");return a};m.g.Z={};m.g.Z.zv="aria-";m.g.Z.tn="role";m.g.Z.ad=function(a,b){b?a.setAttribute(m.g.Z.tn,b):m.g.Z.$z(a)};m.g.Z.cC=function(a){return a.getAttribute(m.g.Z.tn)||null};m.g.Z.$z=function(a){a.removeAttribute(m.g.Z.tn)};m.g.Z.Xa=function(a,b,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(m.g.Z.gy(b),d)};m.g.Z.gy=function(a){return m.g.Z.zv+a};function fd(){$c.call(this);this.rc=-1}g(fd,$c);c=fd.prototype;c.Ia=function(){var a=document.createElement("div");a.setAttribute("id",this.va());this.Ca=a;a.setAttribute("class","goog-menu goog-menu-vertical");a.setAttribute("style","user-select: none;");a.tabIndex=0;m.g.Z.ad(a,this.$p||"menu")};c.focus=function(){var a=this.ca();a&&(a.focus(),m.g.j.Ba(a,"focused"))};c.blur=function(){var a=this.ca();a&&(a.blur(),m.g.j.Oa(a,"focused"))};c.ad=function(a){this.$p=a};
c.Pd=function(){fd.u.Pd.call(this);bd(this,function(a){if(a.Ub){var b=a.ca();b=b.id||(b.id=a.va());this.Uh||(this.Uh={});this.Uh[b]=a}},this);this.En()};c.Xe=function(){gd(this,-1);fd.u.Xe.call(this)};c.rj=function(){fd.u.rj.call(this);this.Vn()};c.En=function(){var a=this.ca();this.mz=m.L(a,"mouseover",this,this.Fy,!0);this.dl=m.L(a,"click",this,this.xy,!0);this.jz=m.L(a,"mouseenter",this,this.Cy,!0);this.kz=m.L(a,"mouseleave",this,this.Ey,!0);this.Yj=m.L(a,"keydown",this,this.Lo)};
c.Vn=function(){m.oa(this.mz);m.oa(this.dl);m.oa(this.jz);m.oa(this.kz);m.oa(this.Yj)};c.Uh=null;function hd(a,b){if(a.Uh)for(var d=a.ca();b&&b!==d;){var e=b.id;if(e in a.Uh)return a.Uh[e];b=b.parentNode}return null}function id(a){(a=I(a,a.rc))&&a.pf(!1)}function gd(a,b){var d=I(a,b);d?(d.pf(!0),a.rc=b,a.To&&a.To(d)):-1<a.rc&&(I(a,a.rc).pf(!1),a.To&&a.To(),a.rc=-1);d&&m.g.style.aq(d.ca(),a.ca())}c.pf=function(a){gd(this,this.sb&&a?this.sb.indexOf(a):-1)};
function jd(a){kd(a,function(b,d){return(b+1)%d},a.rc)}function ld(a){kd(a,function(b,d){b--;return 0>b?d-1:b},a.rc)}function kd(a,b,d){var e=cd(a);d=b.call(a,0>d?-1:d,e);for(var f=0;f<=e;){var h=I(a,d);if(h&&h.isEnabled()){gd(a,d);break}f++;d=b.call(a,d,e)}}c.Fy=function(a){(a=hd(this,a.target))&&a.isEnabled()&&I(this,this.rc)!==a&&(id(this),this.pf(a))};c.xy=function(a){var b=hd(this,a.target),d;if(d=b)b.isEnabled()&&(b.pf(!0),md(b)),d=void 0;d&&a.preventDefault()};c.Cy=function(){this.focus()};
c.Ey=function(){this.ca()&&(this.blur(),id(this),gd(this,-1))};c.Lo=function(a){return 0!=cd(this)&&nd(this,a)?(a.preventDefault(),a.stopPropagation(),!0):!1};function nd(a,b){var d=I(a,a.rc);if(d&&"function"==typeof d.Lo&&d.Lo(b))return!0;if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!1;switch(b.keyCode){case od:d&&md(d);break;case pd:id(a);ld(a);break;case qd:id(a);jd(a);break;default:return!1}return!0};function rd(a,b){$c.call(this);this.Wc=a;this.setValue(b);this.Cl=!0}g(rd,$c);c=rd.prototype;
c.Ia=function(){var a=document.createElement("div");a.setAttribute("id",this.va());this.Ca=a;a.setAttribute("class","goog-menuitem goog-option "+(this.Cl?"":"goog-menuitem-disabled ")+(this.Mn?"goog-option-selected ":"")+(this.Tg()?"goog-menuitem-rtl ":""));a.setAttribute("style","user-select: none");var b=document.createElement("div");b.setAttribute("class","goog-menuitem-content");b.setAttribute("style","user-select: none;");a.appendChild(b);if(this.cj){var d=document.createElement("div");d.setAttribute("class",
"goog-menuitem-checkbox");d.setAttribute("style","user-select: none;")}else d=null;d&&b.appendChild(d);d=this.Wc;"string"===typeof d&&(d=document.createTextNode(d));b.appendChild(d);m.g.Z.ad(a,this.$p||(this.cj?"menuitemcheckbox":"menuitem"));m.g.Z.Xa(a,"selected",this.cj&&this.Mn||!1)};c.setValue=function(a){this.Va=a};c.getValue=function(){return this.Va};c.ad=function(a){this.$p=a};
function sd(a,b){if(a.cj){a.Mn=b;var d=a.ca();d&&a.isEnabled()&&(b?(m.g.j.Ba(d,"goog-option-selected"),m.g.Z.Xa(d,"selected",!0)):(m.g.j.Oa(d,"goog-option-selected"),m.g.Z.Xa(d,"selected",!1)))}}c.pf=function(a){var b=this.ca();b&&this.isEnabled()&&(a?m.g.j.Ba(b,"goog-menuitem-highlight"):m.g.j.Oa(b,"goog-menuitem-highlight"))};c.isEnabled=function(){return this.Cl};c.Fe=function(a){this.Cl=a;(a=this.ca())&&(this.Cl?m.g.j.Oa(a,"goog-menuitem-disabled"):m.g.j.Ba(a,"goog-menuitem-disabled"))};
function md(a){a.cj&&sd(a,!a.Mn);a.Hr&&a.Hr.call(a.ww,a)}function td(a,b,d){a.Hr=b;a.ww=d};m.g.Mi={};m.g.Mi.Pf=function(a){a=a.ca();var b=m.g.style.Pf(a);b.height=a.scrollHeight;return b};m.g.Mi.Ir=function(a,b,d){b.left+=d.width;b.right+=d.width;a.left+=d.width;a.right+=d.width};function ud(a,b){"function"!=typeof a&&vd(a);this.Yg=a;this.rq=this.Op=null;a=this.Yg;if(Array.isArray(a)){for(var d=!1,e=0;e<a.length;e++){var f=a[e][0];"string"==typeof f?a[e][0]=m.g.Lb(f):(null!=f.alt&&(a[e][0].alt=m.g.Lb(f.alt)),d=!0)}if(!(d||2>a.length)){f=[];for(e=0;e<a.length;e++)f.push(a[e][0]);var h=m.g.Ja.nq(f);e=m.g.Ja.$w(f,h);d=m.g.Ja.ax(f,h);if((e||d)&&!(h<=e+d)){e&&(this.Op=f[0].substring(0,e-1));d&&(this.rq=f[0].substr(1-d));f=[];for(h=0;h<a.length;h++){var k=a[h][0],l=a[h][1];k=k.substring(e,
k.length-d);f[h]=[k,l]}this.Yg=f}}}a=this.getOptions()[0];this.fk=-1;ud.u.constructor.call(this,a[1],b);this.gk=null}g(ud,Pc);ud.aa=function(a){return new ud(a.options)};ud.prototype.Ne=!0;var wd=m.g.userAgent.Eh?"\u25bc":"\u25be";c=ud.prototype;c.Pk="default";c.Fd=null;c.ue=function(){ud.u.ue.call(this);this.Fd=m.g.j.C("image",{y:5},this.pe);this.Qh=m.g.j.C("tspan",{},this.Eb);this.Qh.appendChild(document.createTextNode(this.A.w?wd+" ":" "+wd));this.A.w?this.Eb.insertBefore(this.Qh,this.Ii):this.Eb.appendChild(this.Qh)};
c.Zd=function(){m.M.show(this,this.A.w,this.wq.bind(this));this.xi=this.Gk();this.xi.ka(m.M.qa);m.g.j.Ba(this.xi.ca(),"blocklyDropdownMenu");var a=this.xi,b=m.g.jt(),d=Vc(this);this.A.w?d.right+=25:d.left-=25;a=m.g.Mi.Pf(a);var e=.45*document.documentElement.clientHeight;a.height>e&&(a.height=e);this.A.w&&m.g.Mi.Ir(b,d,a);m.M.vu(b,d,a,this.A.w);this.xi.focus();this.gk&&m.g.style.aq(this.gk.ca(),this.xi.ca())};
c.Gk=function(){var a=new fd;dd(a,this.A.w);a.ad("listbox");for(var b=this.getOptions(),d=0;d<b.length;d++){var e=b[d][0],f=b[d][1];if("object"==typeof e){var h=new Image(e.width,e.height);h.src=e.src;h.alt=e.alt||"";e=h}e=new rd(e);e.ad("option");dd(e,this.A.w);e.setValue(f);e.cj=!0;a.Xi(e,cd(a),!0);sd(e,f==this.Va);f==this.Va&&(this.gk=e);td(e,this.By,this)}m.g.Z.Xa(a.ca(),"activedescendant",this.gk?this.gk.va():"");return a};c.wq=function(){this.xi.G()};c.By=function(a){m.M.So(this);this.ju(a)};
c.ju=function(a){this.setValue(a.getValue())};c.getOptions=function(){if("function"==typeof this.Yg){var a=this.Yg.call(this);vd(a);return a}return this.Yg};c.oc=function(a){for(var b=!1,d=this.getOptions(),e=0,f;f=d[e];e++)if(f[1]==a){b=!0;break}return b?a:(this.A&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.A.type+", Field name: "+this.name+", Value: "+a),null)};
c.Ve=function(a){ud.u.Ve.call(this,a);a=this.getOptions();for(var b=0,d;d=a[b];b++)d[1]==this.Va&&(this.fk=b)};c.Jd=function(){this.A&&this.Qh&&(this.Qh.style.fill=this.A.Ta?xd(this.A):this.A.Hf)};
c.Ee=function(){this.Ii.nodeValue="";this.Fd.style.display="none";var a=this.getOptions(),b=0<=this.fk&&a[this.fk][0];if(b&&"object"==typeof b){this.Fd.style.display="";this.Fd.setAttributeNS(m.g.j.zc,"xlink:href",b.src);this.Fd.setAttribute("height",b.height);this.Fd.setAttribute("width",b.width);a=m.g.j.Pl(this.Qh);var d=Number(b.width);this.lb.height=Number(b.height)+10;this.lb.width=d+a+10;this.A.w?(b=4,this.Fd.setAttribute("x",5+a),this.Eb.setAttribute("x",b)):(b=d+a+5+1,this.Eb.setAttribute("text-anchor",
"end"),this.Eb.setAttribute("x",b),this.Fd.setAttribute("x",5))}else this.Ii.nodeValue=Tc(this),this.Eb.setAttribute("text-anchor","start"),this.Eb.setAttribute("x",5),this.lb.height=16,this.lb.width=m.g.j.Pl(this.Eb)+10;this.kd.setAttribute("height",this.lb.height);this.kd.setAttribute("width",this.lb.width)};c.Ql=function(){if(0>this.fk)return null;var a=this.getOptions()[this.fk][0];return"object"==typeof a?a.alt:a};
function vd(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");for(var b=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(b=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+e[0]+" in: ",e)):(b=!0,console.error("Invalid option["+
d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(b)throw TypeError("Found invalid FieldDropdown options.");}m.qc.register("field_dropdown",ud);m.za={};var J={NONE:0,cn:1,Pq:2,Sq:4,vn:8,Aq:16,Vq:32,Oq:64,fn:128,Tq:256,vr:512,Ev:1024,pn:2048,mn:4096,hw:8192,Zm:16384,hn:32768,gn:65536,sn:131072,rn:262144,Yq:524288,qr:1048576,Bn:2097152,Xm:4194304,Uq:8388608};J.ZA=J.hn|J.gn;J.BB=J.sn|J.rn;J.yp=16777216;J.fc=function(){J.hasOwnProperty(void 0)||(J[void 0]=J.yp,J.yp<<=1);return J[void 0]};J.ve=function(a){return a.type&J.cn};J.xe=function(a){return a.type&J.Pq};J.ye=function(a){return a.type&J.Sq};J.Hd=function(a){return a.type&J.vn};
J.fC=function(a){return a.type&J.Vq};J.Na=function(a){return a.type&J.fn};J.Sd=function(a){return a.type&J.Oq};J.Vb=function(a){return a.type&J.Tq};J.Td=function(a){return a.type&J.vr};J.gf=function(a){return a.type&J.pn};J.Gd=function(a){return a.type&J.mn};J.ep=function(a){return a.type&(J.pn|J.mn)};J.pd=function(a){return a.type&J.gn};J.fp=function(a){return a.type&J.rn};J.Rg=function(a){return a.type&J.hn};J.hC=function(a){return a.type&J.sn};J.eC=function(a){return a.type&J.Zm};
J.si=function(a){return a.type&J.Yq};J.iC=function(a){return a.type&J.qr};J.Zy=function(a){return a.type&J.Aq};J.Oj=function(a){return a.type&J.Bn};J.Jj=function(a){return a.type&J.Xm};J.Kt=function(a){return a.type&(J.Bn|J.Xm)};J.gC=function(a){return a.type&J.Uq};function yd(){this.height=this.width=0;this.type=J.NONE;this.je=this.ba=0;this.s=m.za.ei();this.ic=this.s.Vk};function zd(a){zd.u.constructor.call(this);this.js=a;this.shape=this.s.mq(a);this.type|=J.Ev}g(zd,yd);function Ad(a){Ad.u.constructor.call(this,a);this.type|=J.hw;this.height=this.shape.height;this.width=this.shape.width;this.Nd=this.s.al;this.Oc=this.width}g(Ad,zd);function Bd(a){Bd.u.constructor.call(this,a);this.type|=J.pn;this.height=this.shape.height;this.width=this.shape.width}g(Bd,zd);
function Cd(a){Cd.u.constructor.call(this,a);this.type|=J.mn;this.height=this.shape.height;this.width=this.shape.width}g(Cd,zd);function Dd(a){Dd.u.constructor.call(this,a.connection);this.type|=J.fn;this.input=a;this.align=a.align;if(this.hj=a.connection&&y(a.connection)?y(a.connection):null){var b=this.hj.Sb();this.ij=b.width;this.ol=b.height}else this.ol=this.ij=0;this.connection=a.connection;this.Nd=0}g(Dd,zd);
function Ed(a){Ed.u.constructor.call(this,a);this.type|=J.Tq;this.hj?(this.width=this.ij+this.s.Gb,this.height=this.ol+this.s.Gb):(this.height=this.s.Kv,this.width=this.shape.width+this.s.Lv);this.Nd=this.s.al;this.kj=this.shape.height;this.Bg=this.shape.width}g(Ed,Dd);function Fd(a){Fd.u.constructor.call(this,a);this.type|=J.vr;this.height=this.hj?this.ol+this.s.Gb+this.s.pw:this.s.Mv;this.width=this.s.Vk+this.shape.width}g(Fd,Dd);
function Gd(a){Gd.u.constructor.call(this,a);this.type|=J.Oq;this.height=this.hj?this.ol-2*this.s.al:this.shape.height;this.width=this.shape.width+this.s.Nv;this.Nd=this.s.al;this.kj=this.shape.height;this.Bg=this.shape.width}g(Gd,Dd);function Hd(a){Hd.u.constructor.call(this);this.icon=a;this.isVisible=a.isVisible();this.type|=J.Sq;a=new sa(Id.prototype.$k,Id.prototype.$k-2);this.height=a.height;this.width=a.width}g(Hd,yd);function Jd(){Jd.u.constructor.call(this);this.type|=J.Yq;this.height=this.s.Gh.height;this.width=this.s.Gh.width}g(Jd,yd);function Kd(a){Kd.u.constructor.call(this);this.Rs=a;this.Sa=a.Ld&&!!a.A&&a.A.Sa();this.Yx=a instanceof Ld&&a.Zx;this.type|=J.cn;a=this.Rs.Pf();this.height=a.height;this.width=a.width}
g(Kd,yd);function Md(){Md.u.constructor.call(this);this.type|=J.Pq;this.height=this.s.yg.height;this.width=this.s.yg.width;this.ac=this.height}g(Md,yd);function Nd(a){Nd.u.constructor.call(this);this.type=(a&&"left"!=a?J.sn:J.hn)|J.Zm;this.height=this.s.Me.height;this.width=this.s.xb}g(Nd,yd);function Od(a){Od.u.constructor.call(this);this.type=(a&&"left"!=a?J.rn:J.gn)|J.Zm;this.width=this.s.X;this.height=this.s.Me.height}g(Od,yd);
function Pd(a){Pd.u.constructor.call(this);this.type=this.type|J.vn|J.Vq;this.width=a;this.height=this.s.mw}g(Pd,yd);function Qd(){this.type=J.qr;this.elements=[];this.ba=this.Qc=this.Pc=this.minWidth=this.minHeight=this.width=this.height=0;this.rt=this.Po=this.Qo=this.Kb=this.bf=!1;this.s=m.za.ei();this.ic=this.s.Vk}Qd.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function Rd(a){for(var b=a.elements.length-1,d;d=a.elements[b];b--)if(J.Na(d))return d;return null}function Sd(a){for(var b=0,d;d=a.elements[b];b++)if(J.Hd(d))return d;return null}
Qd.prototype.ji=function(){for(var a=this.elements.length-1,b;b=this.elements[a];a--)if(J.Hd(b))return b;return null};function Td(){Td.u.constructor.call(this);this.type|=J.Bn;this.ac=0;this.connection=null}g(Td,Qd);
Td.prototype.ih=function(a){var b=a.cf?"cap"===a.cf:!1,d=!!a.N;this.Fj(a)?this.elements.push(new Nd):this.elements.push(new Od);b?(b=new Md,this.elements.push(b),this.ac=b.ac):d&&(this.connection=new Bd(a.N),this.elements.push(this.connection));a.K.length&&a.K[0].type==m.ya&&!a.isCollapsed()?this.minHeight=this.s.ua:this.minHeight=this.s.Pb};Td.prototype.Fj=function(a){var b=a.cf?"cap"===a.cf:!1,d=a.N&&y(a.N);return!!a.J||b||d&&w(d)==a};
Td.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b;b=this.elements[a];a++)this.width+=b.width,J.Hd(b)||(J.xe(b)&&(this.ac=b.ac,this.height+=b.height),this.height=Math.max(this.height,b.height));this.Pc=this.width};function Ud(){Ud.u.constructor.call(this);this.type|=J.Xm;this.st=!1;this.connection=null;this.fh=0}g(Ud,Qd);
Ud.prototype.ih=function(a){this.st=!!a.T;this.minHeight=a.K.length&&a.K[a.K.length-1].type==m.ya?this.s.ua:this.s.Me.height;this.Fj(a)?this.elements.push(new Nd):this.elements.push(new Od);this.st&&(this.connection=new Cd(a.T),this.elements.push(this.connection))};Ud.prototype.Fj=function(a){return!!a.J||!!w(a)};
Ud.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b;b=this.elements[a];a++)this.width+=b.width,J.Hd(b)||(J.Gd(b)&&(this.height+=b.height,this.fh=b.height),this.height=Math.max(this.height,b.height));this.Pc=this.width};function Vd(a,b){this.type=this.type|J.vn|J.Aq;this.width=b;this.height=a;this.Us=!1;this.Pc=0;this.elements=[new Pd(b)]}g(Vd,Qd);Vd.prototype.measure=function(){};function Wd(){Wd.u.constructor.call(this);this.type|=J.Uq;this.hs=0}
g(Wd,Qd);Wd.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,d;d=this.elements[b];b++)this.width+=d.width,J.Na(d)&&(J.Td(d)?a+=d.ij:J.Sd(d)&&0!=d.ij&&(a+=d.ij-d.Bg)),J.Hd(d)||(this.height=Math.max(this.height,d.height));this.hs=a;this.Pc=this.width+a};Wd.prototype.ji=function(){if(this.bf||this.Kb)for(var a=this.elements,b=a.length-1,d;d=a[b];b--)if(!J.Hd(d)&&J.Na(d))return a[b-1];return Wd.u.ji.call(this)};function Xd(a){this.R=a;this.J=a.J?new Ad(a.J):null;this.Zl=Yd(a)&&!a.isCollapsed();this.isCollapsed=a.isCollapsed();this.Wf=a.Wf();this.w=a.w;this.Gi=this.width=this.Cf=this.height=0;this.rows=[];this.wt=[];this.cd=new Td;this.Tc=new Ud;this.ac=this.Oc=0;this.s=m.za.ei()}c=Xd.prototype;
c.measure=function(){this.cd.ih(this.R);this.rows.push(this.cd);var a=new Wd,b=Db(this.R);if(b.length)for(var d=0,e;e=b[d];d++){var f=new Hd(e);this.isCollapsed&&e.Zr?this.wt.push(f):a.elements.push(f)}e=void 0;for(d=0;b=this.R.K[d];d++)if(b.isVisible()){this.pq(b,e)&&(this.rows.push(a),a=new Wd);for(e=0;f=b.Ma[e];e++)a.elements.push(new Kd(f,b));e=b;f=a;this.Zl&&e.type==m.Ha?(f.elements.push(new Ed(e)),f.Qo=!0):e.type==m.ya?(f.elements.push(new Fd(e)),f.Kb=!0):e.type==m.Ha?(f.elements.push(new Gd(e)),
f.bf=!0):e.type==m.gd&&(f.Po=!0);e=b}this.isCollapsed&&(a.rt=!0,a.elements.push(new Jd));a.elements.length&&this.rows.push(a);this.Tc.ih(this.R);this.rows.push(this.Tc);for(a=0;d=this.rows[a];a++)for(b=d.elements,d.elements=[],J.Oj(d)||J.Jj(d)||d.elements.push(new Pd(this.zj(null,b[0]))),e=0;e<b.length;e++)d.elements.push(b[e]),d.elements.push(new Pd(this.zj(b[e],b[e+1])));for(e=b=d=a=0;f=this.rows[e];e++)f.measure(),d=Math.max(d,f.width),f.Kb&&(a=Math.max(a,f.width-Rd(f).width)),b=Math.max(b,f.Pc);
this.Gi=a;this.width=d;for(e=0;f=this.rows[e];e++)f.Kb&&(f.Gi=this.Gi);this.Cf=Math.max(d,b);this.J&&(this.Oc=this.J.width,this.width+=this.J.width,this.Cf+=this.J.width);for(a=0;d=this.rows[a];a++)d.Qo||(d.Kb?(b=Rd(d),e=d.width-b.width,f=this.Gi-this.Oc,(e=f-e)&&this.Wi(d,e),e=d.width,f=this.width-this.Oc,b.width+=f-e,d.width+=f-e,d.Pc=Math.max(d.width,this.Gi+d.hs)):(b=this.width-this.Oc-d.width)&&this.Wi(d,b));a=this.rows;this.rows=[];for(d=0;d<a.length;d++)this.rows.push(a[d]),d!=a.length-1&&
this.rows.push(Zd(this,a[d],a[d+1]));this.wo()};c.pq=function(a,b){return b?a.type==m.ya?!0:a.type==m.Ha||a.type==m.gd?!this.Zl:!1:!1};c.zj=function(a,b){if(a&&J.Na(a)&&!b){if(J.Sd(a))return this.s.xb;if(J.Vb(a))return this.s.ua;if(J.Td(a))return this.s.xb}return this.s.Pb};c.Wi=function(a,b){var d=a.ji();d&&(d.width+=b,a.width+=b)};function Zd(a,b,d){a=new Vd(a.Io(b,d),a.width-a.Oc);b.Kb&&(a.Us=!0);return a}c.Io=function(){return this.s.Pb};
c.xj=function(a,b){var d=a.Qc;return d=J.Gd(b)?d+(a.height-a.fh+b.height/2):d+a.height/2};c.wo=function(){for(var a=0,b=0,d=0,e;e=this.rows[d];d++){e.Qc=b;e.ba=this.Oc;b+=e.height;a=Math.max(a,e.Pc);for(var f=e.ba,h=0,k;k=e.elements[h];h++)k.ba=f,k.je=this.xj(e,k),f+=k.width}this.Cf=a+this.Oc;this.height=b;this.ac=this.cd.ac};function $d(){this.me=[];this.uf=null;this.La={Px:!0,Cw:!0}}function ae(a,b){if(a.La.hx){if(b.type==m.Ha){var d=4;var e="magenta";var f="none"}else b.type==m.hd?(d=2,f=e="magenta"):b.type==m.ya?(d=4,e="goldenrod",f="none"):b.type==m.jd&&(d=2,f=e="goldenrod");a.me.push(m.g.j.C("circle",{"class":"blockRenderDebug",cx:b.hf.x,cy:b.hf.y,r:d,fill:f,stroke:e},a.uf))}};function be(a,b){this.R=a;this.la=b;a.ta();this.Zo=this.O="";this.gh=new ce;this.s=m.za.ei()}c=be.prototype;
c.draw=function(){for(var a=0,b;b=this.la.wt[a];a++)b.icon.Yc.setAttribute("display","none");this.Bl();for(a=1;a<this.la.rows.length-2;a++)b=this.la.rows[a],b.rt?this.tj(b):b.Kb?this.mo(b):b.bf?this.no(b):this.lo(b);this.Al();this.jo();for(a=0;b=this.la.rows[a];a++)for(var d=0,e;e=b.elements[d];d++)if(J.Vb(e))this.io(e);else if(J.ye(e)||J.ve(e)){if(J.ve(e))var f=e.Rs.S();else J.ye(e)&&(f=e.icon.Yc);var h=e.je-e.height/2,k=e.ba,l="";this.la.w&&(k=-(k+e.width),e.Yx&&(k+=e.width,l="scale(-1 1)"));J.ye(e)?
(f.setAttribute("display","block"),f.setAttribute("transform","translate("+k+","+h+")"),de(e.icon)):f.setAttribute("transform","translate("+k+","+h+")"+l);this.la.Wf&&f.setAttribute("display","none")}this.gh.Wu=[this.O];this.gh.Dt=[this.Zo];f=this.R;a=this.gh;b=a.Wu.join(" ")+"\n"+a.Dt.join(" ");f.uc.setAttribute("d",b);f.vh.setAttribute("d",b);b=a.yt.join(" ")+"\n"+a.xt.join(" ");f.tf.setAttribute("d",b);f.w&&(f.uc.setAttribute("transform","scale(-1 1)"),f.tf.setAttribute("transform","scale(-1 1)"),
f.vh.setAttribute("transform","translate(1,1) scale(-1 1)"));if(m.za.JA){f=this.R.Au;b=this.R;a=this.la;for(d=0;e=f.me[d];d++)m.g.j.removeNode(e);f.me=[];f.uf=b.S();f.Xz="#"+Math.floor(16777215*Math.random()).toString(16);for(e=d=0;h=a.rows[e];e++){if(J.Zy(h))f.La.rC&&f.me.push(m.g.j.C("rect",{"class":"rowSpacerRect blockRenderDebug",x:a.w?-(h.ba+h.width):h.ba,y:d,width:h.width,height:h.height,stroke:"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},f.uf));else{var n,p=f,r=h;l=d;k=a.w;
for(var u=0;n=r.elements[u];u++)if(J.Hd(n)){if(p.La.UB){var v=n.ba;k&&(v=-(v+n.width));var z=Math.min(n.height,r.height);p.me.push(m.g.j.C("rect",{"class":"elemSpacerRect blockRenderDebug",x:v,y:n.je-z/2,width:n.width,height:z,stroke:"pink",fill:"pink","fill-opacity":"0.5","stroke-width":"1px"},p.uf))}}else v=p,v.La.Px&&(z=n.ba,k&&(z=-(z+n.width)),v.me.push(m.g.j.C("rect",{"class":"rowRenderingRect blockRenderDebug",x:z,y:n.je-n.height/2,width:n.width,height:n.height,stroke:"black",fill:"none","stroke-width":"1px"},
v.uf))),J.Na(n)&&v.La.hx&&ae(v,n.connection);p.La.rows&&(p.me.push(m.g.j.C("rect",{"class":"elemRenderingRect blockRenderDebug",x:k?-(r.ba+r.width):r.ba,y:l,width:r.width,height:r.height,stroke:"red",fill:"none","stroke-width":"1px"},p.uf)),J.Kt(r)||p.La.ex&&p.me.push(m.g.j.C("rect",{"class":"connectedBlockWidth blockRenderDebug",x:k?-(r.ba+r.Pc):r.ba,y:l,width:r.Pc,height:r.height,stroke:p.Xz,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},p.uf)))}d+=h.height}b.N&&ae(f,b.N);b.T&&ae(f,
b.T);b.J&&ae(f,b.J);f.La.Cw&&(b=a.w?-a.width:0,f.me.push(m.g.j.C("rect",{"class":"blockBoundingBox blockRenderDebug",x:b,y:0,width:a.width,height:a.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},f.uf)),f.La.ex&&(b=a.w?-a.Cf:0,f.me.push(m.g.j.C("rect",{"class":"blockRenderDebug",x:b,y:0,width:a.Cf,height:a.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},f.uf))))}this.R.height=this.la.height+this.s.Gb;this.R.width=this.la.Cf+this.s.Gb};
c.Bl=function(){var a=this.la.cd,b=a.elements;ee(this);this.O+=m.g.o.moveBy(a.ba,this.la.ac);for(var d=0,e;e=b[d];d++)J.pd(e)?this.O+=this.s.Mh.Bk:J.gf(e)?this.O+=e.shape.jf:J.xe(e)?this.O+=this.s.yg.path:J.Hd(e)&&(this.O+=m.g.o.ma("h",e.width));this.O+=m.g.o.ma("v",a.height)};c.tj=function(a){this.O+=this.s.Gh.path+m.g.o.ma("v",a.height-this.s.Gh.height)};
c.no=function(a){var b=Rd(a),d=Rd(a);if(d.connection){var e=a.ba+a.width+this.s.Gb;this.la.w&&(e*=-1);qb(d.connection,e,a.Qc)}this.O+=m.g.o.ma("H",b.ba+b.width)+b.shape.De+m.g.o.ma("v",a.height-b.kj)};
c.mo=function(a){var b=Rd(a);this.O+=m.g.o.ma("H",b.ba+b.ic+b.shape.width)+(b.shape.qm+m.g.o.ma("h",-(b.ic-this.s.Tk.width))+this.s.Tk.Mp)+m.g.o.ma("v",a.height-2*this.s.Tk.height)+this.s.Tk.pm+m.g.o.ma("H",a.ba+a.width);b=Rd(a);if(b.connection){var d=a.ba+a.Gi+b.ic;d=this.la.w?-1*d:d+this.s.Gb;qb(b.connection,d,a.Qc+this.s.Gb)}};c.lo=function(a){this.O+=m.g.o.ma("V",a.Qc+a.height)};
c.Al=function(){var a=this.la.Tc,b=a.elements;fe(this);this.O+=m.g.o.ma("v",a.height-a.fh);for(var d=b.length-1,e;e=b[d];d--)J.Gd(e)?this.O+=e.shape.qm:J.Rg(e)?this.O+=m.g.o.ma("H",a.ba):J.pd(e)?this.O+=this.s.Mh.$i:J.Hd(e)&&(this.O+=m.g.o.ma("h",-1*e.width))};c.jo=function(){var a=this.la.J;if(this.la.J){var b=this.la.Oc;qb(this.R.J,this.la.w?-b:b,this.la.J.Nd)}a&&(this.O+=m.g.o.ma("V",a.Nd+a.height)+a.shape.rm);this.O+="z"};
c.io=function(a){var b=a.width,d=a.height,e=a.Nd,f=a.kj+e;this.Zo+=m.g.o.moveTo(a.ba+a.Bg,a.je-d/2)+m.g.o.ma("v",e)+a.shape.De+m.g.o.ma("v",d-f)+m.g.o.ma("h",b-a.Bg)+m.g.o.ma("v",-d)+"z";b=a.je-a.height/2;a.connection&&(d=a.ba+a.Bg+this.s.Gb,this.la.w&&(d*=-1),qb(a.connection,d,b+a.Nd+this.s.Gb))};function ee(a){var b=a.la.cd;if(b.connection){var d=b.ba+b.ic;qb(b.connection.js,a.la.w?-d:d,0)}}
function fe(a){var b=a.la.Tc;if(b.connection){b=b.connection;var d=b.ba;qb(b.js,(a.la.w?-d:d)+a.s.Gb/2,b.je-b.height/2+a.s.Gb)}};m.g.o={};m.g.o.U=function(a,b){return" "+a+","+b+" "};m.g.o.curve=function(a,b){return" "+a+b.join("")};m.g.o.moveTo=function(a,b){return" M "+a+","+b+" "};m.g.o.moveBy=function(a,b){return" m "+a+","+b+" "};m.g.o.lineTo=function(a,b){return" l "+a+","+b+" "};m.g.o.line=function(a){return" l"+a.join("")};m.g.o.ma=function(a,b){return" "+a+" "+b+" "};m.g.o.arc=function(a,b,d,e){return a+" "+d+" "+d+" "+b+e};function ge(){this.xb=0;this.un=3;this.Pb=5;this.Ih=8;this.ua=10;this.zr=this.Pb;this.Gb=1;this.An=15;this.al=5;this.yr=8;this.on=15;this.nn=4;this.ln=12;this.Nq=16;this.X=8;this.Vk=15;this.pw=0;this.yn=20;this.Bq=4;this.nw=15;this.ow=100;this.mw=15;this.Jh=24;this.Lv=14.5;this.Kv=this.An+11;this.Nv=2;this.Mv=this.Jh;this.rr=m.g.o.moveBy(0,0);this.Yv=12;this.Zv=6}c=ge.prototype;
c.ra=function(){this.Gh=this.np();this.Me=this.em();this.yg=this.pp();this.Ti=this.op();var a=this.X,b=m.g.o.arc("a","0 0,0",a,m.g.o.U(-a,a)),d=m.g.o.arc("a","0 0,0",a,m.g.o.U(a,a));this.Tk={width:a,height:a,Mp:b,pm:d};this.Mh=this.Rt()};c.np=function(){var a=this.Yv,b=this.Zv,d=m.g.o.line([m.g.o.U(6,3),m.g.o.U(-12,6),m.g.o.U(6,3)]);return{height:a,width:b,path:d}};c.pp=function(){var a=this.nw,b=this.ow,d=m.g.o.curve("c",[m.g.o.U(30,-a),m.g.o.U(70,-a),m.g.o.U(b,0)]);return{height:a,width:b,path:d}};
c.op=function(){function a(h){h=h?-1:1;var k=-h,l=d/2,n=m.g.o.U(b,h*l);return m.g.o.curve("c",[m.g.o.U(0,h*(l+2.5)),m.g.o.U(-b,k*(l+.5)),m.g.o.U(-b,h*l)])+m.g.o.curve("s",[m.g.o.U(b,2.5*k),n])}var b=this.yr,d=this.An,e=a(!0),f=a(!1);return{width:b,height:d,De:f,rm:e}};c.em=function(){function a(k){return m.g.o.line([m.g.o.U(k*e,d),m.g.o.U(3*k,0),m.g.o.U(k*e,-d)])}var b=this.on,d=this.nn,e=(b-3)/2,f=a(1),h=a(-1);return{width:b,height:d,jf:f,qm:h}};
c.Rt=function(){var a=this.X,b=m.g.o.moveBy(0,a)+m.g.o.arc("a","0 0,1",a,m.g.o.U(a,-a));a=m.g.o.arc("a","0 0,1",a,m.g.o.U(-a,-a));return{Bk:b,$i:a}};c.mq=function(a){switch(a.type){case m.Ha:case m.hd:return this.Ti;case m.jd:case m.ya:return this.Me;default:throw Error("Unknown connection type");}};m.YB={};function he(){this.Vh=m.za.ei();this.Kh=.5;this.rr=m.g.o.moveBy(this.Kh,this.Kh);this.Xv=ie(this);this.iw=je(this);this.Ti=this.op();this.Me=this.em();this.Gh=this.np();this.yg=this.pp()}
function ie(a){var b=a.Vh.X;a=a.Kh;var d=(1-Math.SQRT1_2)*(b+a)-a,e=m.g.o.moveBy(d,d)+m.g.o.arc("a","0 0,0",b,m.g.o.U(-d-a,b-d)),f=m.g.o.arc("a","0 0,0",b+a,m.g.o.U(b+a,b+a)),h=m.g.o.moveBy(d,-d)+m.g.o.arc("a","0 0,0",b+a,m.g.o.U(b-d,d+a));return{width:b+a,height:b,Mp:function(k){return k?e:""},pm:function(k){return k?f:h}}}
function je(a){var b=a.Vh.X;a=a.Kh;var d=(1-Math.SQRT1_2)*(b-a)+a,e=m.g.o.moveBy(d,d)+m.g.o.arc("a","0 0,1",b-a,m.g.o.U(b-d,-d+a)),f=m.g.o.moveBy(a,b)+m.g.o.arc("a","0 0,1",b-a,m.g.o.U(b,-b+a)),h=-d,k=m.g.o.moveBy(d,h)+m.g.o.arc("a","0 0,1",b-a,m.g.o.U(-d+a,-h-b));return{height:b,Bk:function(l){return l?e:f},$i:function(){return k}}}
he.prototype.op=function(){var a=this.Vh.yr,b=this.Vh.An,d=m.g.o.moveBy(-2,-b+3.4)+m.g.o.lineTo(-.45*a,-2.1),e=m.g.o.ma("v",2.5)+m.g.o.moveBy(.97*-a,2.5)+m.g.o.curve("q",[m.g.o.U(.05*-a,10),m.g.o.U(.3*a,9.5)])+m.g.o.moveBy(.67*a,-1.9)+m.g.o.ma("v",2.5),f=m.g.o.ma("v",-1.5)+m.g.o.moveBy(-.92*a,-.5)+m.g.o.curve("q",[m.g.o.U(-.19*a,-5.5),m.g.o.U(0,-11)])+m.g.o.moveBy(.92*a,1),h=m.g.o.moveBy(-5,b-.7)+m.g.o.lineTo(.46*a,-2.1);return{width:a,height:b,rm:function(k){return k?d:f},De:function(k){return k?
e:h}}};he.prototype.em=function(){return{jf:m.g.o.ma("h",this.Kh)+this.Vh.Me.jf}};he.prototype.np=function(){return{jf:m.g.o.lineTo(5.1,2.6)+m.g.o.moveBy(-10.2,6.8)+m.g.o.lineTo(5.1,2.6)}};he.prototype.pp=function(){var a=this.Vh.yg.height,b=m.g.o.moveBy(25,-8.7)+m.g.o.curve("c",[m.g.o.U(29.7,-6.2),m.g.o.U(57.2,-.5),m.g.o.U(75,8.7)]),d=m.g.o.curve("c",[m.g.o.U(17.8,-9.2),m.g.o.U(45.3,-14.9),m.g.o.U(75,-8.7)])+m.g.o.moveTo(100.5,a+.5);return{path:function(e){return e?b:d}}};function ke(a,b){this.la=a;this.gh=b;this.$a=this.gh.yt;this.Wy=this.gh.xt;this.cc=this.la.w;this.s=m.za.ei();this.Sf=m.za.qy();this.Jc=this.Sf.Kh;this.Kp=this.Sf.iw;this.pi=this.Sf.Xv;this.dk=this.Sf.Ti;this.yz=this.Sf.Me;this.rA=this.Sf.yg;this.Lt=this.Sf.Gh}ke.prototype.tj=function(a){this.la.w&&(this.$a.push("H",a.width-this.Jc),this.$a.push(this.Lt.jf),this.$a.push(m.g.o.ma("v",a.height-this.Lt.height-this.Jc)))};
function le(a,b){var d=b.ba+b.width-a.Jc;b.Us&&a.$a.push("H",d);a.cc&&(a.$a.push("H",d),b.height>a.Jc&&a.$a.push("V",b.Qc+b.height-a.Jc))};function me(a){me.u.constructor.call(this,a)}g(me,Xd);c=me.prototype;c.pq=function(a,b){return b?a.type==m.ya?!0:a.type==m.Ha||a.type==m.gd?!this.Zl:!1:!1};
c.zj=function(a,b){if(!a)return b&&J.ve(b)&&b.Sa?this.s.Pb:b&&J.Vb(b)?this.s.Ih:b&&J.Td(b)?this.s.yn:this.s.ua;if(!J.Na(a)&&!b)return J.ve(a)&&a.Sa?this.s.Pb:J.ye(a)?2*this.s.ua+1:J.xe(a)?this.s.xb:J.ep(a)?this.s.ua:J.pd(a)?this.s.ln:J.si(a)?this.s.xb:this.s.ua;if(J.Na(a)&&!b){if(J.Sd(a))return this.s.xb;if(J.Vb(a))return this.s.ua;if(J.Td(a))return this.s.xb}if(!J.Na(a)&&b&&J.Na(b)){if(a.Sa){if(J.Vb(b)||J.Sd(b))return this.s.un}else{if(J.Vb(b)||J.Sd(b))return this.s.Ih;if(J.Td(b))return this.s.ua}return this.s.ua-
1}if(J.ye(a)&&!J.Na(b))return this.s.ua;if(J.Vb(a)&&!J.Na(b))return b.Sa?this.s.Pb:this.s.ua;if(J.Rg(a)&&b){if(J.xe(b))return this.s.xb;if(J.gf(b))return b.ic;if(J.Gd(b))return a=(this.w?1:-1)*this.s.Gb/2,b.ic+a}if(J.pd(a)&&b){if(J.gf(b))return b.ic-this.s.X;if(J.Gd(b))return a=(this.w?1:-1)*this.s.Gb/2,b.ic-this.s.X+a}return!J.Na(a)&&!J.Na(b)&&a.Sa==b.Sa||b&&J.si(b)?this.s.ua:this.s.Pb};
c.Wi=function(a,b){var d=a.elements,e=Sd(a),f=a.ji();if(a.bf||a.Kb)f=d[d.length-3],a.Pc+=b;(d=Rd(a))?d.align==m.Ik?f.width+=b:d.align==m.Um?(e.width+=b/2,f.width+=b/2):d.align==m.Vm&&(e.width+=b):f.width+=b;a.width+=b};c.Io=function(a,b){return J.Oj(a)&&J.Jj(b)?this.s.Nq:J.Oj(a)||J.Jj(b)?this.s.xb:a.bf&&b.bf?this.s.ua:!a.Kb&&b.Kb?this.s.Bq:a.Kb&&b.Kb||b.Po?this.s.ua:this.s.Pb};
c.xj=function(a,b){var d=a.Qc;if(J.ve(b)||J.ye(b)){if(d+=b.height/2,a.Qo||a.Kb)d+=this.s.zr}else d=J.Vb(b)?d+b.height/2:J.Gd(b)?d+(a.height-a.fh+b.height/2):d+a.height/2;return d};c.wo=function(){for(var a=0,b=0,d=0,e;e=this.rows[d];d++){e.Qc=b;e.ba=this.Oc;b+=e.height;a=Math.max(a,e.Pc);var f=b-this.cd.ac;e==this.Tc&&f<this.s.Jh&&(f=this.s.Jh-f,this.Tc.height+=f,b+=f);f=e.ba;for(var h=0,k;k=e.elements[h];h++)k.ba=f,k.je=this.xj(e,k),f+=k.width}this.Cf=a+this.Oc;this.height=b;this.ac=this.cd.ac};function ne(a,b){ne.u.constructor.call(this,a,b);this.df=new ke(b,this.gh)}g(ne,be);c=ne.prototype;c.Bl=function(){var a=this.df,b=this.la.cd;a.$a.push(m.g.o.moveBy(b.ba,a.la.ac));for(var d=0,e;e=b.elements[d];d++)J.Rg(e)?a.$a.push(a.Sf.rr):J.pd(e)?a.$a.push(a.Kp.Bk(a.cc)):J.gf(e)?a.$a.push(a.yz.jf):J.xe(e)?a.$a.push(a.rA.path(a.cc)):J.Hd(e)&&0!=e.width&&a.$a.push("H",e.ba+e.width-a.Jc);a.$a.push("H",b.ba+b.width-a.Jc);le(this.df,this.la.cd);ne.u.Bl.call(this)};
c.tj=function(a){this.df.tj(a);ne.u.tj.call(this,a)};c.no=function(a){var b=this.df,d=Rd(a);if(b.cc){var e=a.height-d.kj;d=m.g.o.moveTo(d.ba+d.width-b.Jc,a.Qc)+b.dk.De(b.cc)+m.g.o.ma("v",e)}else d=m.g.o.moveTo(d.ba+d.width,a.Qc)+b.dk.De(b.cc);b.$a.push(d);ne.u.no.call(this,a)};
c.mo=function(a){var b=this.df,d=Rd(a);if(b.cc){var e=a.height-2*b.pi.height;d=m.g.o.moveTo(d.ba,a.Qc)+b.pi.Mp(b.cc)+m.g.o.ma("v",e)+b.pi.pm(b.cc)+m.g.o.lineTo(a.width-d.ba-b.pi.width,0)}else d=m.g.o.moveTo(d.ba,a.Qc+a.height)+b.pi.pm(b.cc)+m.g.o.lineTo(a.width-d.ba-b.pi.width,0);b.$a.push(d);ne.u.mo.call(this,a)};c.lo=function(a){le(this.df,a);ne.u.lo.call(this,a)};
c.Al=function(){var a=this.df,b=this.la.Tc,d=b.Qc+b.height-b.fh;if(a.cc)a.$a.push("V",d-a.Jc);else{var e=a.la.Tc.elements[0];J.Rg(e)?a.$a.push(m.g.o.moveTo(b.ba+a.Jc,d-a.Jc)):J.pd(e)&&(a.$a.push(m.g.o.moveTo(b.ba,d)),a.$a.push(a.Kp.$i()))}ne.u.Al.call(this)};
c.jo=function(){var a=this.df,b=a.la.J;b&&(b=b.Nd+b.height,a.cc?a.$a.push(m.g.o.moveTo(a.la.Oc,b)):(a.$a.push(m.g.o.moveTo(a.la.Oc+a.Jc,a.la.height-a.Jc)),a.$a.push("V",b)),a.$a.push(a.dk.rm(a.cc)));a.cc||(b=a.la.cd,J.pd(b.elements[0])?a.$a.push("V",a.Kp.height):a.$a.push("V",b.ac+a.Jc));ne.u.jo.call(this)};
c.io=function(a){var b=this.df,d=b.Jc,e=a.ba+a.Bg,f=a.je-a.height/2,h=a.width-a.Bg,k=f+d;if(b.cc){f=a.Nd-d;var l=a.height-(a.Nd+a.kj)+d;d=m.g.o.moveTo(e-d,k)+m.g.o.ma("v",f)+b.dk.De(b.cc)+m.g.o.ma("v",l)+m.g.o.ma("h",h)}else d=m.g.o.moveTo(a.ba+a.width+d,k)+m.g.o.ma("v",a.height)+m.g.o.ma("h",-h)+m.g.o.moveTo(e,f+a.Nd)+b.dk.De(b.cc);b.Wy.push(d);ne.u.io.call(this,a)};m.uC={};function oe(a){oe.u.constructor.call(this,a)}g(oe,Xd);c=oe.prototype;c.pq=function(a,b){return b?a.type==m.ya?!0:a.type==m.Ha||a.type==m.gd?!this.Zl:!1:!1};
c.zj=function(a,b){if(!a)return b&&J.ve(b)&&b.Sa?this.s.Pb:b&&J.Vb(b)?this.s.Ih:b&&J.Td(b)?this.s.yn:this.s.ua;if(!J.Na(a)&&!b)return J.ve(a)&&a.Sa?this.s.Pb:J.ye(a)?2*this.s.ua+1:J.xe(a)?this.s.xb:J.ep(a)?this.s.ua:J.pd(a)?this.s.ln:J.si(a)?this.s.xb:this.s.ua;if(J.Na(a)&&!b){if(J.Sd(a))return this.s.xb;if(J.Vb(a))return this.s.ua;if(J.Td(a))return this.s.xb}if(!J.Na(a)&&b&&J.Na(b)){if(a.Sa){if(J.Vb(b)||J.Sd(b))return this.s.un}else{if(J.Vb(b)||J.Sd(b))return this.s.Ih;if(J.Td(b))return this.s.ua}return this.s.ua-
1}if(J.ye(a)&&!J.Na(b))return this.s.ua;if(J.Vb(a)&&!J.Na(b))return b.Sa?this.s.Pb:this.s.ua;if(J.Rg(a)&&b){if(J.xe(b))return this.s.xb;if(J.gf(b))return b.ic;if(J.Gd(b))return a=(this.w?1:-1)*this.s.Gb/2,b.ic+a}if(J.pd(a)&&b){if(J.gf(b))return b.ic-this.s.X;if(J.Gd(b))return a=(this.w?1:-1)*this.s.Gb/2,b.ic-this.s.X+a}return!J.Na(a)&&!J.Na(b)&&a.Sa==b.Sa||b&&J.si(b)?this.s.ua:this.s.Pb};
c.Wi=function(a,b){var d=a.elements,e=Sd(a),f=a.ji();if(a.bf||a.Kb)f=d[d.length-3],a.Pc+=b;(d=Rd(a))?d.align==m.Ik?f.width+=b:d.align==m.Um?(e.width+=b/2,f.width+=b/2):d.align==m.Vm&&(e.width+=b):f.width+=b;a.width+=b};c.Io=function(a,b){return J.Oj(a)&&J.Jj(b)?this.s.Nq:J.Oj(a)||J.Jj(b)?this.s.xb:a.bf&&b.bf?this.s.ua:!a.Kb&&b.Kb?this.s.Bq:a.Kb&&b.Kb||b.Po?this.s.ua:this.s.Pb};
c.xj=function(a,b){var d=a.Qc;return d=J.ve(b)&&a.Kb?d+(this.s.zr+b.height/2):J.Gd(b)?d+(a.height-a.fh+b.height/2):d+a.height/2};c.wo=function(){for(var a=0,b=0,d=0,e;e=this.rows[d];d++){e.Qc=b;e.ba=this.Oc;b+=e.height;a=Math.max(a,e.Pc);var f=b-this.cd.ac;e==this.Tc&&f<this.s.Jh&&(f=this.s.Jh-f,this.Tc.height+=f,b+=f);f=e.ba;for(var h=0,k;k=e.elements[h];h++)k.ba=f,k.je=this.xj(e,k),f+=k.width}this.Cf=a+this.Oc;this.height=b;this.ac=this.cd.ac};m.wC={};function pe(){pe.u.constructor.call(this)}g(pe,Td);pe.prototype.ih=function(a){pe.u.ih.call(this,a);this.elements.push(new Od("right"))};pe.prototype.Fj=function(){return!1};function qe(){qe.u.constructor.call(this)}g(qe,Ud);qe.prototype.ih=function(a){qe.u.ih.call(this,a);this.elements.push(new Od("right"))};qe.prototype.Fj=function(){return!1};function re(a){re.u.constructor.call(this,a);this.cd=new pe;this.Tc=new qe}g(re,Xd);
re.prototype.zj=function(a,b){if(!a)return b&&J.ve(b)&&b.Sa?this.s.Pb:b&&J.Vb(b)?this.s.Ih:b&&J.Td(b)?this.s.yn:this.s.ua;if(!J.Na(a)&&!b)return J.ve(a)&&a.Sa?this.s.Pb:J.ye(a)?2*this.s.ua+1:J.xe(a)?this.s.xb:J.ep(a)?this.s.ua:J.pd(a)?this.s.ln:J.fp(a)||J.si(a)?this.s.xb:this.s.ua;if(J.Na(a)&&!b){if(J.Sd(a))return this.s.xb;if(J.Vb(a))return this.s.ua;if(J.Td(a))return this.s.xb}if(!J.Na(a)&&b&&J.Na(b)){if(a.Sa){if(J.Vb(b)||J.Sd(b))return this.s.un}else{if(J.Vb(b)||J.Sd(b))return this.s.Ih;if(J.Td(b))return this.s.ua}return this.s.ua-
1}if(J.ye(a)&&!J.Na(b))return this.s.ua;if(J.Vb(a)&&!J.Na(b))return b.Sa?this.s.Pb:this.s.ua;if(J.Rg(a)&&b){if(J.xe(b))return this.s.xb;if(J.gf(b))return b.ic;if(J.Gd(b))return a=(this.w?1:-1)*this.s.Gb/2,b.ic+a}if(J.pd(a)&&b){if(J.gf(b))return b.ic-this.s.X;if(J.Gd(b))return a=(this.w?1:-1)*this.s.Gb/2,b.ic-this.s.X+a}return!J.Na(a)&&!J.Na(b)&&a.Sa==b.Sa||b&&J.si(b)?this.s.ua:this.s.Pb};
re.prototype.Wi=function(a,b){var d=a.ji();J.Kt(a)&&(d=a.elements[a.elements.length-3]);d&&(d.width+=b,a.width+=b)};function se(a,b){se.u.constructor.call(this,a,b)}g(se,be);se.prototype.Bl=function(){var a=this.la.cd,b=a.elements;ee(this);this.O+=m.g.o.moveBy(a.ba,this.la.ac);for(var d=0,e;e=b[d];d++)J.pd(e)?this.O+=this.s.Mh.Bk:J.fp(e)?this.O+=this.s.Mh.EA:J.gf(e)?this.O+=e.shape.jf:J.xe(e)?this.O+=this.s.yg.path:J.Hd(e)&&(this.O+=m.g.o.ma("h",e.width));this.O+=m.g.o.ma("v",a.height)};
se.prototype.Al=function(){var a=this.la.Tc,b=a.elements;fe(this);this.O+=m.g.o.ma("v",a.height-a.fh);for(var d=b.length-1,e;e=b[d];d--)J.Gd(e)?this.O+=e.shape.qm:J.Rg(e)?this.O+=m.g.o.ma("H",a.ba):J.pd(e)?this.O+=this.s.Mh.$i:J.fp(e)?this.O+=this.s.Mh.Iw:J.Hd(e)&&(this.O+=m.g.o.ma("h",-1*e.width))};function te(){te.u.constructor.call(this);this.X=4;this.on=36;this.nn=8;this.Vk=12;this.Jh=48;this.Gb=0}g(te,ge);te.prototype.ra=function(){te.u.ra.call(this);this.rw=ue()};function ue(){function a(d){d=d?-1:1;return m.g.o.lineTo(-20,20*d/2)+m.g.o.lineTo(20,20*d/2)}var b=a(!0);return{width:20,height:20,De:a(!1),rm:b}}
te.prototype.mq=function(a){var b=a.ke;switch(a.type){case m.Ha:case m.hd:return b&&-1!=b.indexOf("Boolean")?m.za.Uc.rw:m.za.Uc.Ti;case m.jd:case m.ya:return this.Me;default:throw Error("Unknown type");}};
te.prototype.em=function(){function a(p){return m.g.o.curve("c",[m.g.o.U(p*f/2,0),m.g.o.U(p*f*3/4,k/2),m.g.o.U(p*f,k)])+m.g.o.line([m.g.o.U(p*f,h)])+m.g.o.curve("c",[m.g.o.U(p*f/4,k/2),m.g.o.U(p*f/2,k),m.g.o.U(p*f,k)])+m.g.o.ma("h",p*e)+m.g.o.curve("c",[m.g.o.U(p*f/2,0),m.g.o.U(p*f*3/4,-(k/2)),m.g.o.U(p*f,-k)])+m.g.o.line([m.g.o.U(p*f,-h)])+m.g.o.curve("c",[m.g.o.U(p*f/4,-(k/2)),m.g.o.U(p*f/2,-k),m.g.o.U(p*f,-k)])}var b=this.on,d=this.nn,e=b/3,f=e/3,h=d/2,k=h/2,l=a(1),n=a(-1);return{width:b,height:d,
jf:l,qm:n}};te.prototype.Rt=function(){var a=this.X,b=m.g.o.moveBy(0,a)+m.g.o.arc("a","0 0,1",a,m.g.o.U(a,-a)),d=m.g.o.arc("a","0 0,1",a,m.g.o.U(a,a)),e=m.g.o.arc("a","0 0,1",a,m.g.o.U(-a,-a));a=m.g.o.arc("a","0 0,1",a,m.g.o.U(-a,a));return{Bk:b,EA:d,Iw:a,$i:e}};m.za.Ci="geras";m.za.JA=!1;m.za.ra=function(){"geras"==m.za.Ci?(m.za.Uc=new ge,m.za.Uc.ra(),m.za.Ly=new he):"thrasos"==m.za.Ci?(m.za.Uc=new ge,m.za.Uc.ra()):"zelos"==m.za.Ci&&(m.za.Uc=new te,m.za.Uc.ra())};m.za.ka=function(a){a.Au||(a.Au=new $d);if("geras"==m.za.Ci){var b=new me(a);b.measure();(new ne(a,b)).draw()}else"thrasos"==m.za.Ci?(b=new oe(a),b.measure(),(new be(a,b)).draw()):"zelos"==m.za.Ci&&(b=new re(a),b.measure(),(new se(a,b)).draw())};m.za.ei=function(){return m.za.Uc};m.za.qy=function(){return m.za.Ly};m.ob=Object.create(null);function Id(a){this.R=a}c=Id.prototype;c.Zr=!0;c.$k=17;c.hb=null;c.ni=null;function ve(a){a.Yc||(a.Yc=m.g.j.C("g",{"class":"blocklyIconGroup"},null),a.R.Lc&&m.g.j.Ba(a.Yc,"blocklyIconGroupReadonly"),a.ho(a.Yc),a.R.S().appendChild(a.Yc),m.L(a.Yc,"mouseup",a,a.Vo),a.Af())}c.G=function(){m.g.j.removeNode(this.Yc);this.Yc=null;this.Ua(!1);this.R=null};c.Af=function(){};c.isVisible=function(){return!!this.hb};c.Vo=function(a){this.R.v.hc()||this.R.Lc||m.g.Zf(a)||this.Ua(!this.isVisible())};
c.Jd=function(){this.isVisible()&&this.hb.nf(this.R.Hf)};function Fb(a,b){a.ni=b;a.isVisible()&&(a=a.hb,a.yb=b,a.mh&&ec(a))}function de(a){var b=a.R.ta(),d=m.g.nd(a.Yc);b=new q(b.x+d.x+a.$k/2,b.y+d.y+a.$k/2);oa(a.ni,b)||Fb(a,b)};function we(a){we.u.constructor.call(this,a);ve(this)}g(we,Id);c=we.prototype;c.Ob="";c.pa=160;c.Da=80;c.ho=function(a){m.g.j.C("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);m.g.j.C("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);m.g.j.C("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
c.oj=function(){this.md=m.g.j.C("foreignObject",{x:G,y:G},null);var a=document.createElementNS(m.g.j.ee,"body");a.setAttribute("xmlns",m.g.j.ee);a.className="blocklyMinimalBody";var b=document.createElementNS(m.g.j.ee,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.R.w?"RTL":"LTR");a.appendChild(b);this.vb=b;this.md.appendChild(a);m.L(b,"mouseup",this,this.xA,!0,!0);m.L(b,"wheel",this,function(d){d.stopPropagation()});m.L(b,"change",this,function(){this.Ob!=b.value&&(m.i.$(new m.i.ce(this.R,
"comment",null,this.Ob,b.value)),this.Ob=b.value)});setTimeout(b.focus.bind(b),0);return this.md};c.Af=function(){this.isVisible()&&(this.Ua(!1),this.Ua(!0));Id.prototype.Af.call(this)};c.xm=function(){if(this.isVisible()){var a=this.hb.Gg(),b=2*G;this.md.setAttribute("width",a.width-b);this.md.setAttribute("height",a.height-b);this.vb.style.width=a.width-b-4+"px";this.vb.style.height=a.height-b-4+"px"}};
c.Ua=function(a){if(a!=this.isVisible())if(m.i.$(new x(this.R,"commentOpen",!a,a)),!this.R.Sa()&&!this.vb||m.g.userAgent.Df)xe.prototype.Ua.call(this,a);else{var b=this.ub(),d=this.Gg();a?(this.hb=new cc(this.R.v,this.oj(),this.R.uc,this.ni,this.pa,this.Da),kc(this.hb,this.R.id),a=this.xm.bind(this),this.hb.Up=a,this.Jd()):(this.hb.G(),this.md=this.vb=this.hb=null);this.rf(b);this.mg(d.width,d.height)}};c.xA=function(){mc(this.hb)&&this.vb.focus()};
c.Gg=function(){return this.isVisible()?this.hb.Gg():{width:this.pa,height:this.Da}};c.mg=function(a,b){this.vb?this.hb.mg(a,b):(this.pa=a,this.Da=b)};c.ub=function(){return this.vb?this.vb.value:this.Ob};c.rf=function(a){this.Ob!=a&&(m.i.$(new m.i.ce(this.R,"comment",null,this.Ob,a)),this.Ob=a);this.vb&&(this.vb.value=a)};c.G=function(){m.i.isEnabled()&&this.rf("");this.R.Ya=null;Id.prototype.G.call(this)};function ye(){this.Ab=[]}function ob(a,b){if(b.Tf)throw Error("Connection already in database.");b.A.Lc||(a.Ab.splice(tb(a,b),0,b),b.Tf=!0)}function ze(a,b){if(!a.Ab.length)return-1;var d=tb(a,b);if(d>=a.Ab.length)return-1;for(var e=b.Ga,f=d;0<=f&&a.Ab[f].Ga==e;){if(a.Ab[f]==b)return f;f--}for(;d<a.Ab.length&&a.Ab[d].Ga==e;){if(a.Ab[d]==b)return d;d++}return-1}
function tb(a,b){if(!a.Ab.length)return 0;for(var d=0,e=a.Ab.length;d<e;){var f=Math.floor((d+e)/2);if(a.Ab[f].Ga<b.Ga)d=f+1;else if(a.Ab[f].Ga>b.Ga)e=f;else{d=f;break}}return d}function hb(a,b){if(!b.Tf)throw Error("Connection not in database.");var d=ze(a,b);if(-1==d)throw Error("Unable to find connection in connectionDB.");b.Tf=!1;a.Ab.splice(d,1)}
function wb(a,b,d){function e(p){var r=h-f[p].mb,u=k-f[p].Ga;Math.sqrt(r*r+u*u)<=d&&n.push(f[p]);return u<d}var f=a.Ab,h=b.mb,k=b.Ga;a=0;for(var l=b=f.length-2;a<l;)f[l].Ga<k?a=l:b=l,l=Math.floor((a+b)/2);var n=[];b=a=l;if(f.length){for(;0<=a&&e(a);)a--;do b++;while(b<f.length&&e(b))}return n};function Ae(a,b){Ae.u.constructor.call(this,b);this.m=a;this.Uc=new ge;this.Uc.ra()}g(Ae,Mb);c=Ae.prototype;c.Wd=null;c.If=null;c.S=function(){return this.B};
c.Ia=function(){this.B=m.g.j.C("g",{"class":this.Yf?"blocklyMarker":"blocklyCursor"},null);var a=this.Yf?"#4286f4":"#cc0a0a";this.Sn=m.g.j.C("g",{width:100,height:5},this.B);this.Jf=m.g.j.C("rect",{x:"0",y:"0",fill:a,width:100,height:5,style:"display: none;"},this.Sn);this.Kf=m.g.j.C("rect",{"class":"blocklyVerticalCursor",x:"0",y:"0",rx:"10",ry:"10",style:"display: none;",stroke:a},this.Sn);this.pj=m.g.j.C("path",{width:100,height:5,transform:"",style:"display: none;",fill:a},this.Sn);this.Yf||(m.g.j.C("animate",
{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.Jf),m.g.j.C("animate",{attributeType:"XML",attributeName:"fill",dur:"1s",values:"#cc0a0a;transparent;transparent;",repeatCount:"indefinite"},this.pj));return this.B};function Be(a,b){if(b!=a.Wd){var d=a.S(),e=null;if(b){if(a.Yf){for(var f=0,h;h=b.childNodes[f];f++)m.g.j.No(h,"blocklyCursor")&&(e=h);b.insertBefore(d,e)}else b.appendChild(d);a.Wd=b}}}
function Ce(a,b,d,e){a.Jf.setAttribute("x",b);a.Jf.setAttribute("y",d);a.Jf.setAttribute("width",e)}function De(a,b,d,e,f){a.Kf.setAttribute("x",b);a.Kf.setAttribute("y",d);a.Kf.setAttribute("width",e);a.Kf.setAttribute("height",f)}function Ee(a){a.Ea();a.If.style.display=""}c.Ea=function(){this.Jf.style.display="none";this.Kf.style.display="none";this.pj.style.display="none"};
c.kv=function(){if(this.Za){var a=this.Za;if(a.fc()===Fe)a=this.Za.ea,this.If=this.Kf,Be(this,a.S()),De(this,0,0,a.width,a.height),Ee(this);else if(a.ea.type===m.Ha||a.fc()===Ob){a=this.Za.ea;this.If=this.pj;var b=m.g.o.moveTo(0,0)+this.Uc.mq(a).De;this.pj.setAttribute("d",b);Be(this,a.A.S());this.pj.setAttribute("transform","translate("+a.hf.x+","+a.hf.y+")"+(a.A.w?" scale(-1 1)":""));Ee(this)}else if(a.ea.type===m.ya){a=this.Za.ea;b=a.hf.y;var d=a.A.Sb().width;this.If=this.Jf;Be(this,a.A.S());Ce(this,
0,b,d);Ee(this)}else a.fc()===Ge?(a=this.Za.ea,b=a.A.Sb().width,this.If=this.Jf,Be(this,a.A.S()),Ce(this,0,0,b),Ee(this)):a.fc()===He?(a=this.Za.ea,b=a.kd.width.baseVal.value,d=a.kd.height.baseVal.value,this.If=this.Kf,Be(this,a.S()),De(this,0,0,b,d),Ee(this)):a.fc()===Ie?(a=this.Za.Oi,this.If=this.Jf,Be(this,this.m.Pa),Ce(this,a.x,a.y,100),Ee(this)):a.fc()===K&&(a=this.Za.ea,d=a.Sb(),b=d.width+10,d=d.height+10,this.If=this.Kf,Be(this,a.S()),De(this,-5,-5,b,d),Ee(this))}};
c.next=function(){return this.Yf?null:Ae.u.next.call(this)};c.Hj=function(){return this.Yf?null:Ae.u.Hj.call(this)};c.Ai=function(){return this.Yf?null:Ae.u.Ai.call(this)};c.ak=function(){return this.Yf?null:Ae.u.ak.call(this)};c.G=function(){this.B&&m.g.j.removeNode(this.B)};function Je(a,b){this.ki=a;this.qq=b.spacing;this.Ot=b.length;this.dz=(this.mp=a.firstChild)&&this.mp.nextSibling;this.nA=b.snap}Je.prototype.lg=1;Je.prototype.G=function(){this.ki=null};Je.prototype.update=function(a){this.lg=a;var b=this.qq*a||100;this.ki.setAttribute("width",b);this.ki.setAttribute("height",b);b=Math.floor(this.qq/2)+.5;var d=b-this.Ot/2,e=b+this.Ot/2;b*=a;d*=a;e*=a;Ke(this.mp,a,d,e,b,b);Ke(this.dz,a,b,b,d,e)};
function Ke(a,b,d,e,f,h){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",h))}Je.prototype.moveTo=function(a,b){this.ki.setAttribute("x",a);this.ki.setAttribute("y",b);(m.g.userAgent.Df||m.g.userAgent.Qk)&&this.update(this.lg)};function Le(a){var b=!!a.readOnly;if(b)var d=null,e=!1,f=!1,h=!1,k=!1,l=!1,n=!1;else{d=Me(a.toolbox||null);e=!(!d||!d.getElementsByTagName("category").length);f=a.trashcan;void 0===f&&(f=e);var p=a.maxTrashcanContents;f?void 0===p&&(p=32):p=0;h=a.collapse;void 0===h&&(h=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);n=a.sounds;void 0===n&&(n=!0)}var r=!!a.rtl,u=a.horizontalLayout;void 0===u&&(u=!1);var v=a.toolboxPosition;v="end"===v?!1:!0;v=u?v?m.yc:m.Ef:v==r?m.Oe:m.Rc;var z=a.css;
void 0===z&&(z=!0);var V="https://blockly-demo.appspot.com/static/media/";a.media?V=a.media:a.path&&(V=a.path+"media/");var R=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,Ca=a.theme||m.Ff.ug,Uc=a.keyMap||m.ib.fb.kx();this.w=r;this.gg=R;this.collapse=h;this.Zw=k;this.disable=l;this.readOnly=b;this.rp=a.maxBlocks||Infinity;this.sp=a.maxInstances;this.Xd=V;this.qt=e;b=a.move||{};h={};h.scrollbars=void 0===b.scrollbars&&void 0===a.scrollbars?e:!!b.scrollbars||!!a.scrollbars;h.Bh=h.scrollbars&&void 0!==
b.wheel?!!b.wheel:!1;h.Nf=h.scrollbars?void 0===b.drag?!0:!!b.drag:!1;this.Yb=h;this.tt=f;this.wi=p;this.Jy=n;this.Iy=z;this.Xc=u;this.Ae=d;d=a.grid||{};e={};e.spacing=Number(d.spacing)||0;e.cb=d.colour||"#888";e.length=Number(d.length)||1;e.tC=0<e.spacing&&!!d.snap;this.mt=e;a=a.zoom||{};d={};d.controls=void 0===a.controls?!1:!!a.controls;d.Bh=void 0===a.wheel?!1:!!a.wheel;d.Uu=void 0===a.startScale?1:Number(a.startScale);d.Uj=void 0===a.maxScale?3:Number(a.maxScale);d.Vj=void 0===a.minScale?.3:
Number(a.minScale);d.eA=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);this.ab=d;this.na=v;this.yA=Ca;this.fb=Uc}Le.prototype.$c=null;Le.prototype.qf=null;Le.prototype.tb=null;function Me(a){if(a){if("string"!=typeof a&&(m.g.userAgent.Df&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=m.I.vf(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};function Ne(a){this.m=a;this.od=new Oe(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.ud=new Oe(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.mj=m.g.j.C("rect",{height:H,width:H,"class":"blocklyScrollbarBackground"},null);m.g.j.Og(this.mj,a.td)}Ne.prototype.gb=null;Ne.prototype.G=function(){m.g.j.removeNode(this.mj);this.gb=this.m=this.mj=null;this.od.G();this.od=null;this.ud.G();this.ud=null};
Ne.prototype.resize=function(){var a=this.m.tb();if(a){var b=!1,d=!1;this.gb&&this.gb.Ka==a.Ka&&this.gb.Qa==a.Qa&&this.gb.rb==a.rb&&this.gb.qb==a.qb?(this.gb&&this.gb.Vc==a.Vc&&this.gb.jb==a.jb&&this.gb.ec==a.ec||(b=!0),this.gb&&this.gb.Cc==a.Cc&&this.gb.wb==a.wb&&this.gb.Rb==a.Rb||(d=!0)):d=b=!0;b&&this.od.resize(a);d&&this.ud.resize(a);this.gb&&this.gb.Ka==a.Ka&&this.gb.qb==a.qb||this.mj.setAttribute("x",this.ud.tc.x);this.gb&&this.gb.Qa==a.Qa&&this.gb.rb==a.rb||this.mj.setAttribute("y",this.od.tc.y);
this.gb=a}};Ne.prototype.set=function(a,b){var d={};a*=this.od.Zb;b*=this.ud.Zb;var e=this.ud.Id,f=a/this.od.Id;d.x=isNaN(f)?0:f;e=b/e;d.y=isNaN(e)?0:e;this.m.qf(d);Pe(this.od,a);Pe(this.ud,b)};
function Oe(a,b,d,e){this.m=a;this.yi=d||!1;this.Lg=b;this.gb=null;this.nj(e);this.tc=new q(0,0);a=H;b?(this.sd.setAttribute("height",a),this.Be.setAttribute("height",a),this.Je.setAttribute("height",a-5),this.Je.setAttribute("y",2.5),this.Rj="width",this.tu="x"):(this.sd.setAttribute("width",a),this.Be.setAttribute("width",a),this.Je.setAttribute("width",a-5),this.Je.setAttribute("x",2.5),this.Rj="height",this.tu="y");this.mu=m.L(this.sd,"mousedown",this,this.Iz);this.nu=m.L(this.Je,"mousedown",
this,this.Jz)}var Qe,Re;c=Oe.prototype;c.Jp=new q(0,0);c.Tu=0;c.Id=0;c.Rf=0;c.Ej=0;c.$f=!0;c.Cg=!0;var H=15;m.Touch.Ar&&(H=25);Oe.prototype.G=function(){Se();m.oa(this.mu);this.mu=null;m.oa(this.nu);this.nu=null;m.g.j.removeNode(this.Be);this.m=this.Je=this.sd=this.B=this.Be=null};function Pe(a,b){a.Ej=b;a.Je.setAttribute(a.tu,a.Ej)}function Te(a,b){a.Id=b;a.Be.setAttribute(a.Rj,a.Id);a.sd.setAttribute(a.Rj,a.Id)}Ne.prototype.nh=function(a){this.od.nh(a);this.ud.nh(a)};
function Ue(a,b,d){a.tc.x=b;a.tc.y=d;m.g.j.ik(a.Be,"translate("+(a.tc.x+a.Jp.x)+"px,"+(a.tc.y+a.Jp.y)+"px)")}c=Oe.prototype;c.resize=function(a){if(!a&&(a=this.m.tb(),!a))return;var b=this.gb;a&&b&&a.Ka==b.Ka&&a.Qa==b.Qa&&a.jb==b.jb&&a.wb==b.wb&&a.rb==b.rb&&a.qb==b.qb&&a.Vc==b.Vc&&a.Cc==b.Cc&&a.ec==b.ec&&a.Rb==b.Rb||(this.gb=a,this.Lg?Ve(this,a):We(this,a),Xe(this))};function Ve(a,b){var d=b.Ka-1;a.yi&&(d-=H);Te(a,Math.max(0,d));d=b.qb+.5;a.yi&&a.m.w&&(d+=H);Ue(a,d,b.rb+b.Qa-H-.5);Ye(a,b)}
function Ye(a,b){a.yi||a.Ua(a.Id<b.Vc);a.Zb=a.Id/b.Vc;if(-Infinity==a.Zb||Infinity==a.Zb||isNaN(a.Zb))a.Zb=0;a.Rf=Math.max(0,b.Ka*a.Zb);a.Je.setAttribute(a.Rj,a.Rf);Pe(a,Ze(a,(b.jb-b.ec)*a.Zb))}function We(a,b){var d=b.Qa-1;a.yi&&(d-=H);Te(a,Math.max(0,d));d=b.qb+.5;a.m.w||(d+=b.Ka-H-1);Ue(a,d,b.rb+.5);$e(a,b)}
function $e(a,b){a.yi||a.Ua(a.Id<b.Cc);a.Zb=a.Id/b.Cc;if(-Infinity==a.Zb||Infinity==a.Zb||isNaN(a.Zb))a.Zb=0;a.Rf=Math.max(0,b.Qa*a.Zb);a.Je.setAttribute(a.Rj,a.Rf);Pe(a,Ze(a,(b.wb-b.Rb)*a.Zb))}
c.nj=function(a){var b="blocklyScrollbar"+(this.Lg?"Horizontal":"Vertical");a&&(b+=" "+a);this.Be=m.g.j.C("svg",{"class":b},null);this.B=m.g.j.C("g",{},this.Be);this.sd=m.g.j.C("rect",{"class":"blocklyScrollbarBackground"},this.B);a=Math.floor((H-5)/2);this.Je=m.g.j.C("rect",{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.B);m.g.j.Og(this.Be,A(this.m))};c.isVisible=function(){return this.$f};c.nh=function(a){var b=a!=this.Cg;this.Cg=a;b&&this.Ek()};
c.Ua=function(a){var b=a!=this.isVisible();if(this.yi)throw Error("Unable to toggle visibility of paired scrollbars.");this.$f=a;b&&this.Ek()};c.Ek=function(){this.Cg&&this.isVisible()?this.Be.setAttribute("display","block"):this.Be.setAttribute("display","none")};
c.Iz=function(a){Fc(this.m);m.Touch.Se();Se();if(m.g.Zf(a))a.stopPropagation();else{var b=m.g.Wj(a,A(this.m),af(this.m));b=this.Lg?b.x:b.y;var d=m.g.Aj(this.Je);d=this.Lg?d.x:d.y;var e=this.Ej,f=.95*this.Rf;b<=d?e-=f:b>=d+this.Rf&&(e+=f);Pe(this,Ze(this,e));Xe(this);a.stopPropagation();a.preventDefault()}};
c.Jz=function(a){Fc(this.m);Se();m.g.Zf(a)?a.stopPropagation():(this.qA=this.Ej,yc(this.m),this.Tu=this.Lg?a.clientX:a.clientY,Qe=m.L(document,"mouseup",this,this.Rz),Re=m.L(document,"mousemove",this,this.Oz),a.stopPropagation(),a.preventDefault())};c.Oz=function(a){Pe(this,Ze(this,this.qA+((this.Lg?a.clientX:a.clientY)-this.Tu)));Xe(this)};c.Rz=function(){Gc(this.m);m.Touch.Se();Se()};function Se(){m.Tb(!0);Qe&&(m.oa(Qe),Qe=null);Re&&(m.oa(Re),Re=null)}
function Ze(a,b){return b=0>=b||isNaN(b)||a.Id<a.Rf?0:Math.min(b,a.Id-a.Rf)}function Xe(a){var b=a.Ej/a.Id;isNaN(b)&&(b=0);var d={};a.Lg?d.x=b:d.y=b;a.m.qf(d)}c.set=function(a){Pe(this,Ze(this,a*this.Zb));Xe(this)};function bf(a,b){bf.u.constructor.call(this,a,b);this.$l=!1;this.yd={};this.Su=this.ck=0;this.Ip=null}g(bf,Ac);c=bf.prototype;c.eo=function(a){bf.u.eo.call(this,a);!this.Yl&&m.Touch.bm(a)&&cf(this,a)};c.Sh=function(a){this.Ip=m.L(document,"mousedown",null,this.Hy.bind(this),!0);this.nm=m.L(document,"mousemove",null,this.Dj.bind(this),!0);this.om=m.L(document,"mouseup",null,this.Tl.bind(this),!0);a.preventDefault();a.stopPropagation()};
c.Hy=function(a){!this.hc()&&m.Touch.bm(a)&&(cf(this,a),this.$l&&m.cg())};c.Dj=function(a){if(this.hc())m.Touch.oq(a)&&bf.u.Dj.call(this,a);else if(this.$l){if(m.Touch.bm(a)){this.yd[m.Touch.Sl(a)]=df(this,a);var b=Object.keys(this.yd);if(2==b.length){b=pa(this.yd[b[0]],this.yd[b[1]])/this.Su;if(0<this.ck&&Infinity>this.ck){var d=b-this.ck;d=0<d?5*d:6*d;var e=this.Nb,f=m.g.Wj(a,A(e),af(e));e.zoom(f.x,f.y,d)}this.ck=b;a.preventDefault()}}m.cg()}else bf.u.Dj.call(this,a)};
c.Tl=function(a){if(m.Touch.bm(a)&&!this.hc()){var b=m.Touch.Sl(a);this.yd[b]&&delete this.yd[b];2>Object.keys(this.yd).length&&(this.yd={},this.ck=0)}!this.$l||this.hc()?m.Touch.oq(a)&&bf.u.Tl.call(this,a):(a.preventDefault(),a.stopPropagation(),this.G())};c.G=function(){bf.u.G.call(this);this.Ip&&m.oa(this.Ip)};function cf(a,b){a.yd[m.Touch.Sl(b)]=df(a,b);var d=Object.keys(a.yd);2==d.length&&(a.Su=pa(a.yd[d[0]],a.yd[d[1]]),a.$l=!0,b.preventDefault())}
function df(a,b){return a.Nb?new q(b.pageX?b.pageX:b.changedTouches[0].pageX,b.pageY?b.pageY:b.changedTouches[0].pageY):null};function ef(a){this.m=a;this.Mo=!1;this.Wh=[];0>=this.m.options.wi||(a={scrollbars:!0,Ue:this.m.options.Ue,$c:this.m,w:this.m.w,gg:this.m.options.gg},this.m.Xc?(a.na=this.m.na==m.yc?m.Ef:m.yc,this.H=new ff(a)):(a.na=this.m.na==m.Oe?m.Rc:m.Oe,this.H=new gf(a)),this.m.Ac(hf(this)))}c=ef.prototype;c.zg=47;c.Jk=44;c.Hh=16;c.kn=20;c.Ri=20;c.Uk=10;c.wn=0;c.xn=32;c.Tv=.1;c.cp=!1;c.hm=0;c.B=null;c.Hm=null;c.lp=0;c.ag=0;c.Qj=0;c.Li=0;
c.Ia=function(){this.B=m.g.j.C("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=m.g.j.C("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.B);m.g.j.C("rect",{width:this.zg,height:this.Jk,y:this.Hh},b);var d=m.g.j.C("image",{width:m.xc.width,x:-this.wn,height:m.xc.height,y:-this.xn,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.B);d.setAttributeNS(m.g.j.zc,"xlink:href",this.m.options.Xd+m.xc.url);b=m.g.j.C("clipPath",{id:"blocklyTrashLidClipPath"+a},this.B);
m.g.j.C("rect",{width:this.zg,height:this.Hh},b);this.Hm=m.g.j.C("image",{width:m.xc.width,x:-this.wn,height:m.xc.height,y:-this.xn,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.B);this.Hm.setAttributeNS(m.g.j.zc,"xlink:href",this.m.options.Xd+m.xc.url);m.L(this.B,"mouseup",this,this.click);m.Hb(d,"mouseover",this,this.nz);m.Hb(d,"mouseout",this,this.lz);this.Cn();return this.B};
c.ra=function(a){0<this.m.options.wi&&(m.g.j.Og(this.H.Ia("svg"),A(this.m)),this.H.ra(this.m),this.H.Ht=function(){return!0});this.Bf=this.kn+a;Hb(this,!1);return this.Bf+this.Jk+this.Hh};c.G=function(){this.B&&(m.g.j.removeNode(this.B),this.B=null);this.m=this.Hm=null;clearTimeout(this.lp)};
c.position=function(){if(this.Bf){var a=this.m.tb();a&&(this.Qj=a.na==m.Rc||this.m.Xc&&!this.m.w?a.Ka+a.qb-this.zg-this.Ri-H:this.Ri+H,this.Li=a.na==m.Ef?this.Bf:a.Qa+a.rb-(this.Jk+this.Hh)-this.Bf,this.B.setAttribute("transform","translate("+this.Qj+","+this.Li+")"))}};c.di=function(){if(!this.B)return null;var a=this.B.getBoundingClientRect(),b=a.top+this.xn-this.Uk;a=a.left+this.wn-this.Uk;return new pc(b,b+this.Hh+this.Jk+2*this.Uk,a,a+this.zg+2*this.Uk)};
function Hb(a,b){a.cp!=b&&(clearTimeout(a.lp),a.cp=b,a.Cn())}c.Cn=function(){this.ag+=this.cp?.2:-.2;this.ag=Math.min(Math.max(this.ag,this.hm),1);jf(this,45*this.ag);this.B.style.opacity=.4+.4*this.ag;this.ag>this.hm&&1>this.ag&&(this.lp=setTimeout(this.Cn.bind(this),20))};function jf(a,b){var d=a.m.na==m.Oe||a.m.Xc&&a.m.w;a.Hm.setAttribute("transform","rotate("+(d?-b:b)+","+(d?4:a.zg-4)+","+(a.Hh-2)+")")}c.close=function(){Hb(this,!1)};
c.click=function(){if(this.Mo){for(var a=[],b=0,d;d=this.Wh[b];b++)a[b]=m.I.vf(d);this.H.show(a)}};c.nz=function(){this.Mo&&Hb(this,!0)};c.lz=function(){Hb(this,!1)};
function hf(a){return function(b){if(!(0>=a.m.options.wi)&&b.type==m.i.Av&&"shadow"!=b.Cp.tagName.toLowerCase()){for(var d=b=b.Cp.cloneNode(!0);d;){d.removeAttribute&&(d.removeAttribute("x"),d.removeAttribute("y"),d.removeAttribute("id"));var e=d.firstChild||d.nextSibling;if(!e)for(e=d.parentNode;e;){if(e.nextSibling){e=e.nextSibling;break}e=e.parentNode}d=e}b=m.I.pc(b);-1==a.Wh.indexOf(b)&&(a.Wh.unshift(b),a.Wh.length>a.m.options.wi&&a.Wh.splice(a.m.options.wi,a.Wh.length-a.m.options.wi),a.Mo=!0,
a.hm=a.Tv,jf(a,45*a.hm))}}};function Sb(a,b,d,e){this.v=a;this.name=b;this.type=d||"";this.oi=e||m.g.re();m.i.$(new za(this))}Sb.prototype.va=function(){return this.oi};function kf(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};m.P={};m.P.wg=m.Br;m.P.Jr=function(a){var b=F(a,!1);a=Object.create(null);for(var d=0;d<b.length;d++){var e=bb(b[d]);if(e)for(var f=0;f<e.length;f++){var h=e[f],k=h.va();k&&(a[k]=h)}}b=[];for(k in a)b.push(a[k]);return b};m.P.FB=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};m.P.zq={};
m.P.xw=function(a){a=F(a,!1);for(var b=Object.create(null),d=0,e;e=a[d];d++){var f=e.aC;!f&&e.ny&&(f=e.ny,m.P.zq[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),m.P.zq[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)b[e[f]]=!0}return Object.keys(b)};
m.P.Of=function(a){var b=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");lf(a,"CREATE_VARIABLE",function(e){m.P.Xh(e.wa)});b.push(d);a=m.P.zo(a);return b=b.concat(a)};
m.P.zo=function(a){a=a.Bj("");var b=[];if(0<a.length){var d=a[a.length-1];if(m.ob.variables_set){var e=m.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",m.ob.math_change?8:24);e.appendChild(m.P.wj(d));b.push(e)}m.ob.math_change&&(e=m.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",m.ob.variables_get?20:8),e.appendChild(m.P.wj(d)),d=m.I.vf('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),b.push(e));if(m.ob.variables_get){a.sort(kf);d=0;for(var f;f=a[d];d++)e=m.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(m.P.wj(f)),b.push(e)}}return b};
m.P.by=function(a){a=a.Ye();var b="";if(a.length)for(var d=1,e=0,f="ijkmnopqrstuvwxyzabcdefgh".charAt(e);!b;){for(var h=!1,k=0;k<a.length;k++)if(a[k].name.toLowerCase()==f){h=!0;break}h?(e++,25==e&&(e=0,d++),f="ijkmnopqrstuvwxyzabcdefgh".charAt(e),1<d&&(f+=d)):b=f}else b="i";return b};
m.P.Xh=function(a,b,d){function e(h){m.P.xu(m.h.NEW_VARIABLE_TITLE,h,function(k){if(k){var l=m.P.sz(k,a);if(l){var n=k.toLowerCase();if(l.type==f)var p=m.h.VARIABLE_ALREADY_EXISTS.replace("%1",n);else p=m.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,p=p.replace("%1",n).replace("%2",l.type);m.alert(p,function(){e(k)})}else a.zd(k,f),b&&b(k)}else b&&b(null)})}var f=d||"";e("")};na("Blockly.Variables.createVariableButtonHandler",m.P.Xh);m.P.zd=m.P.Xh;na("Blockly.Variables.createVariable",m.P.zd);
m.P.Tp=function(a,b){function d(e){var f=m.h.RENAME_VARIABLE_TITLE.replace("%1",b.name);m.P.xu(f,e,function(h){if(h){var k=m.P.uz(h,b.type,a);k?(k=m.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",h.toLowerCase()).replace("%2",k.type),m.alert(k,function(){d(h)})):a.lh(b.va(),h)}})}d("")};m.P.xu=function(a,b,d){m.prompt(a,b,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==m.h.RENAME_VARIABLE||e==m.h.NEW_VARIABLE)&&(e=null);d(e)})};
m.P.uz=function(a,b,d){d=d.Aa.Ye();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=b)return f;return null};m.P.sz=function(a,b){b=b.Aa.Ye();a=a.toLowerCase();for(var d=0,e;e=b[d];d++)if(e.name.toLowerCase()==a)return e;return null};m.P.wj=function(a){var b=m.g.xml.createElement("field");b.setAttribute("name","VAR");b.setAttribute("id",a.va());b.setAttribute("variabletype",a.type);b.appendChild(m.g.xml.createTextNode(a.name));return b};
m.P.bt=function(a,b,d,e){var f=m.P.Qd(a,b,d,e);f||(f=m.P.mx(a,b,d,e));return f};m.P.Qd=function(a,b,d,e){var f=a.hg;if(b){var h=a.af(b);!h&&f&&(h=f.af(b));if(h)return h}if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");h=a.Qd(d,e);!h&&f&&(h=f.Qd(d,e))}return h};m.P.mx=function(a,b,d,e){var f=a.hg;d||(d=m.P.by(a.we?a.wh:a));return f?f.zd(d,e,b):a.zd(d,e,b)};
m.P.Ys=function(a,b){a=a.Ye();var d=[];if(b.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==b.indexOf(f)&&d.push(f)}return d};m.wd={};m.wd.Cz=function(a){m.P.Xh(a.wa,null,"String")};m.wd.Bz=function(a){m.P.Xh(a.wa,null,"Number")};m.wd.Az=function(a){m.P.Xh(a.wa,null,"Colour")};
m.wd.Of=function(a){var b=[],d=document.createElement("button");d.setAttribute("text",m.h.NEW_STRING_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(d);d=document.createElement("button");d.setAttribute("text",m.h.NEW_NUMBER_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(d);d=document.createElement("button");d.setAttribute("text",m.h.NEW_COLOUR_VARIABLE);d.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");b.push(d);lf(a,"CREATE_VARIABLE_STRING",m.wd.Cz);
lf(a,"CREATE_VARIABLE_NUMBER",m.wd.Bz);lf(a,"CREATE_VARIABLE_COLOUR",m.wd.Az);a=m.wd.zo(a);return b=b.concat(a)};
m.wd.zo=function(a){a=a.Ye();var b=[];if(0<a.length){if(m.ob.variables_set_dynamic){var d=a[a.length-1],e=m.g.xml.createElement("block");e.setAttribute("type","variables_set_dynamic");e.setAttribute("gap",24);e.appendChild(m.P.wj(d));b.push(e)}if(m.ob.variables_get_dynamic){a.sort(kf);d=0;for(var f;f=a[d];d++)e=m.g.xml.createElement("block"),e.setAttribute("type","variables_get_dynamic"),e.setAttribute("gap",8),e.appendChild(m.P.wj(f)),b.push(e)}}return b};function mf(a){this.Lp=a;this.Ui=Object.create(null)}c=mf.prototype;c.ip=null;c.G=function(){this.Ui=this.Lp=null};c.load=function(a,b){if(a.length){try{var d=new m.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var h=a[f],k=h.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new m.g.global.Audio(h);break}}e&&e.play&&(this.Ui[b]=e)}};
c.preload=function(){for(var a in this.Ui){var b=this.Ui[a];b.volume=.01;var d=b.play();void 0!==d?d.then(b.pause).catch(function(){}):b.pause();if(m.g.userAgent.vg||m.g.userAgent.Wq)break}};c.play=function(a,b){var d=this.Ui[a];d?(a=new Date,null!=this.ip&&a-this.ip<m.lw||(this.ip=a,d=m.g.userAgent.vg||m.g.userAgent.Eh?d:d.cloneNode(),d.volume=void 0===b?1:b,d.play())):this.Lp&&this.Lp.Sc.play(a,b)};c=qc.prototype;c.Sb=function(){return{width:this.Hc(),height:this.yj()}};
c.ka=function(){if(!this.mh){var a=this.Sb();this.oj();this.B.appendChild(this.md);this.uh=m.g.j.C("rect",{"class":"blocklyCommentHandleTarget",x:0,y:0});this.B.appendChild(this.uh);this.pg=m.g.j.C("rect",{"class":"blocklyCommentTarget",x:0,y:0,rx:3,ry:3});this.B.appendChild(this.pg);this.Mb=m.g.j.C("g",{"class":this.w?"blocklyResizeSW":"blocklyResizeSE"},this.B);m.g.j.C("polygon",{points:"0,x x,x x,0".replace(/x/g,(8).toString())},this.Mb);m.g.j.C("line",{"class":"blocklyResizeLine",x1:8/3,y1:7,
x2:7,y2:8/3},this.Mb);m.g.j.C("line",{"class":"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.Mb);this.gc()&&(this.Lf=m.g.j.C("g",{"class":"blocklyCommentDeleteIcon"},this.B),this.Bs=m.g.j.C("circle",{"class":"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.Lf),m.g.j.C("line",{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.Lf),m.g.j.C("line",{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.Lf));of(this,a.width,a.height);this.vb.value=this.Wc;this.mh=
!0;this.Mb&&m.L(this.Mb,"mousedown",this,this.Vp);this.gc()&&(m.L(this.Lf,"mousedown",this,this.Bx),m.L(this.Lf,"mouseout",this,this.Cx),m.L(this.Lf,"mouseup",this,this.Dx))}};
c.oj=function(){this.md=m.g.j.C("foreignObject",{x:0,y:10,"class":"blocklyCommentForeignObject"},null);var a=document.createElementNS(m.g.j.ee,"body");a.setAttribute("xmlns",m.g.j.ee);a.className="blocklyMinimalBody";var b=document.createElementNS(m.g.j.ee,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.w?"RTL":"LTR");a.appendChild(b);this.vb=b;this.md.appendChild(a);m.L(b,"wheel",this,function(d){d.stopPropagation()});m.L(b,"change",this,function(){this.Cm(b.value)});return this.md};
c.Vp=function(a){pf(this);m.g.Zf(a)||(this.v.Gm(a,new q(this.v.w?-this.pa:this.pa,this.Da)),this.eh=m.L(document,"mouseup",this,this.bA),this.Zj=m.L(document,"mousemove",this,this.Wp),m.Tb());a.stopPropagation()};c.Bx=function(a){m.g.j.Ba(this.Bs,"blocklyDeleteIconHighlighted");a.stopPropagation()};c.Cx=function(){m.g.j.Oa(this.Bs,"blocklyDeleteIconHighlighted")};c.Dx=function(a){this.G(!0,!0);a.stopPropagation()};function pf(a){a.eh&&(m.oa(a.eh),a.eh=null);a.Zj&&(m.oa(a.Zj),a.Zj=null)}
c.bA=function(){m.Touch.Se();pf(this)};c.Wp=function(a){this.bl=!1;a=nc(this.v,a);of(this,this.w?-a.x:a.x,a.y)};
function of(a,b,d){b=Math.max(b,45);d=Math.max(d,30);a.pa=b;a.Da=d;a.xk.setAttribute("width",b);a.xk.setAttribute("height",d);a.pg.setAttribute("width",b);a.pg.setAttribute("height",d);a.uh.setAttribute("width",b);a.uh.setAttribute("height",10);a.w&&(a.xk.setAttribute("transform","scale(-1 1)"),a.pg.setAttribute("transform","scale(-1 1)"));a.Mb&&(a.w?(a.Mb.setAttribute("transform","translate("+(-b+8)+","+(d-8)+") scale(-1 1)"),a.Lf.setAttribute("transform","translate("+(-b+8)+",-8) scale(-1 1)")):
(a.Mb.setAttribute("transform","translate("+(b-8)+","+(d-8)+")"),a.Lf.setAttribute("transform","translate("+(b-8)+",-8)")));b=a.Sb();a.md.setAttribute("width",b.width);a.md.setAttribute("height",b.height-10);a.w&&a.md.setAttribute("x",-b.width);a.vb.style.width=b.width-4+"px";a.vb.style.height=b.height-4-10+"px"}
c.iq=function(){var a=this;this.Gl=!0;setTimeout(function(){a.yl||(a.vb.focus(),m.g.j.Ba(a.B,"blocklyFocused"),m.g.j.Ba(a.pg,"blocklyCommentTargetFocused"),m.g.j.Ba(a.uh,"blocklyCommentHandleTargetFocused"))},0)};function sc(a){a.Gl=!1;setTimeout(function(){a.yl||(a.vb.blur(),m.g.j.Oa(a.B,"blocklyFocused"),m.g.j.Oa(a.pg,"blocklyCommentTargetFocused"),m.g.j.Oa(a.uh,"blocklyCommentHandleTargetFocused"))},0)};function qf(a){this.lj=a;this.Ia()}c=qf.prototype;c.Wa=null;c.Ad=null;c.lj=null;c.Ia=function(){this.Wa||(this.Wa=m.g.j.C("svg",{xmlns:m.g.j.fe,"xmlns:html":m.g.j.ee,"xmlns:xlink":m.g.j.zc,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.lj.appendChild(this.Wa))};c.wf=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.Wa.style.display="block";m.g.j.ik(this.Wa,"translate3d("+a+"px, "+b+"px, 0px)")};c.Ol=function(){return m.g.nd(this.Wa)};
c.ej=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.Wa.childNodes[0],d=this.Wa.childNodes[1];if(!(b&&d&&m.g.j.No(b,"blocklyBlockCanvas")&&m.g.j.No(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Bi?m.g.j.Og(b,this.Bi):a.insertBefore(b,a.firstChild);m.g.j.Og(d,b);this.Wa.style.display="none";if(this.Wa.childNodes.length)throw Error("Drag surface was not cleared.");m.g.j.ik(this.Wa,
"");this.Bi=null};
function rf(a){this.m=a}c=rf.prototype;c.zg=32;c.Qq=110;c.kn=20;c.Ri=20;c.B=null;c.Qj=0;c.Li=0;c.Ia=function(){this.B=m.g.j.C("g",{},null);var a=String(Math.random()).substring(2);sf(this,a);tf(this,a);this.m.Wb()&&uf(this,a);return this.B};c.ra=function(a){this.Bf=this.kn+a;return this.Bf+this.Qq};c.G=function(){this.B&&(m.g.j.removeNode(this.B),this.B=null);this.m=null};
c.position=function(){if(this.Bf){var a=this.m.tb();a&&(this.Qj=a.na==m.Rc||this.m.Xc&&!this.m.w?a.Ka+a.qb-this.zg-this.Ri-H:this.Ri+H,a.na==m.Ef?(this.Li=this.Bf,this.Nm.setAttribute("transform","translate(0, 34)"),this.Om&&this.Om.setAttribute("transform","translate(0, 77)")):(this.Li=a.Qa+a.rb-this.Qq-this.Bf,this.Nm.setAttribute("transform","translate(0, 43)"),this.yq.setAttribute("transform","translate(0, 77)")),this.B.setAttribute("transform","translate("+this.Qj+","+this.Li+")"))}};
function sf(a,b){var d=a.m;a.yq=m.g.j.C("g",{"class":"blocklyZoom"},a.B);var e=m.g.j.C("clipPath",{id:"blocklyZoomoutClipPath"+b},a.yq);m.g.j.C("rect",{width:32,height:32},e);a=m.g.j.C("image",{width:m.xc.width,height:m.xc.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+b+")"},a.yq);a.setAttributeNS(m.g.j.zc,"xlink:href",d.options.Xd+m.xc.url);m.L(a,"mousedown",null,function(f){Fc(d);vf(d,-1);m.Touch.Se();f.stopPropagation();f.preventDefault()})}
function tf(a,b){var d=a.m;a.Nm=m.g.j.C("g",{"class":"blocklyZoom"},a.B);var e=m.g.j.C("clipPath",{id:"blocklyZoominClipPath"+b},a.Nm);m.g.j.C("rect",{width:32,height:32},e);a=m.g.j.C("image",{width:m.xc.width,height:m.xc.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+b+")"},a.Nm);a.setAttributeNS(m.g.j.zc,"xlink:href",d.options.Xd+m.xc.url);m.L(a,"mousedown",null,function(f){Fc(d);vf(d,1);m.Touch.Se();f.stopPropagation();f.preventDefault()})}
function uf(a,b){var d=a.m;a.Om=m.g.j.C("g",{"class":"blocklyZoom"},a.B);var e=m.g.j.C("clipPath",{id:"blocklyZoomresetClipPath"+b},a.Om);m.g.j.C("rect",{width:32,height:32},e);a=m.g.j.C("image",{width:m.xc.width,height:m.xc.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+b+")"},a.Om);a.setAttributeNS(m.g.j.zc,"xlink:href",d.options.Xd+m.xc.url);m.L(a,"mousedown",null,function(f){Fc(d);d.setScale(d.options.ab.Uu);m.g.j.Ba(d.Pa,"blocklyCanvasTransitioning");m.g.j.Ba(d.td,"blocklyCanvasTransitioning");
if(d.Wb()){var h=d.tb(),k=(h.Vc-h.Ka)/2,l=(h.Cc-h.Qa)/2;k=-k-h.ec;l=-l-h.Rb;d.scroll(k,l)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.");setTimeout(d.Rx.bind(d),500);m.Touch.Se();f.stopPropagation();f.preventDefault()})};
function wf(a,b,d){wf.u.constructor.call(this,a);this.tb=a.tb||xf;this.qf=a.qf||yf;var e=[];e[m.Ha]=new ye;e[m.hd]=new ye;e[m.ya]=new ye;e[m.jd]=new ye;this.jj=e;b&&(this.zb=b);d&&(this.Ch=d);this.Jm=this.Ch&&m.g.Vf();this.Gj=[];this.Sc=new mf(a.$c);this.Dd=this.options.nt?new Je(a.nt,a.mt):null;m.P&&m.P.Of&&zf(this,m.Br,m.P.Of);m.wd&&m.wd.Of&&zf(this,m.sw,m.wd.Of);m.pb&&m.pb.Of&&zf(this,m.nr,m.pb.Of);m.za.ra()}g(wf,C);c=wf.prototype;c.zm=null;c.Y=!0;c.$f=!0;c.we=!1;c.Sg=!1;c.Xp=!0;c.scrollX=0;
c.scrollY=0;c.Ms=null;c.scale=1;c.kc=null;c.kb=null;c.H=null;c.W=null;c.Bb=null;c.zb=null;c.Ch=null;c.Jm=!1;c.Xl=!1;c.Yo=null;c.Mt=null;c.xo={};c.uq={};c.fs=null;c.wh=null;c.Gt=null;c.$o=!0;c.rs=function(){return new Ae(this)};c.ss=function(){return new Ae(this,!0)};function af(a){if(a.$o){var b=A(a).getScreenCTM();b&&(a.Gt=b.inverse(),a.$o=!1)}return a.Gt}c.Fk=function(){this.$o=!0};c.isVisible=function(){return this.$f};
function Pa(a,b){var d=0,e=0,f=1;if(m.g.j.containsNode(a.Pa,b)||m.g.j.containsNode(a.td,b))f=a.scale;do{var h=m.g.nd(b);if(b==a.Pa||b==a.td)f=1;d+=h.x*f;e+=h.y*f;b=b.parentNode}while(b&&b!=A(a));return new q(d,e)}function ta(a){if(!a.Yo)for(var b=a.B;b;){if(-1!=(" "+(b.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Yo=b;break}b=b.parentNode}return a.Yo}
c.Ia=function(a){this.B=m.g.j.C("g",{"class":"blocklyWorkspace"},null);a&&(this.sd=m.g.j.C("rect",{height:"100%",width:"100%","class":a},this.B),"blocklyMainBackground"==a&&this.Dd&&(this.sd.style.fill="url(#"+this.Dd.ki.id+")"));this.Pa=m.g.j.C("g",{"class":"blocklyBlockCanvas"},this.B);this.td=m.g.j.C("g",{"class":"blocklyBubbleCanvas"},this.B);this.we||(m.L(this.B,"mousedown",this,this.fg,!1,!0),m.L(this.B,"wheel",this,this.Tz));this.options.qt&&(this.W=new Af(this));this.Dd&&this.Dd.update(this.scale);
Bf(this);a=this.cursor.Ia();this.B.appendChild(a);a=this.Wg.Ia();this.B.appendChild(a);return this.B};
c.G=function(){this.Y=!1;this.Bb&&this.Bb.cancel();wf.u.G.call(this);this.B&&(m.g.j.removeNode(this.B),this.B=null);this.td=this.Pa=null;this.W&&(this.W.G(),this.W=null);this.H&&(this.H.G(),this.H=null);this.kc&&(this.kc.G(),this.kc=null);this.kb&&(this.kb.G(),this.kb=null);this.Dh&&(this.Dh.G(),this.Dh=null);this.Wg&&this.Wg.G();this.cursor&&this.cursor.G();this.Sc&&(this.Sc.G(),this.Sc=null);this.Dd&&(this.Dd.G(),this.Dd=null);this.xo=this.uq=this.jj=null;if(!this.options.$c){var a=A(this).parentNode;
a&&m.g.j.removeNode(a)}this.zm&&(m.oa(this.zm),this.zm=null)};c.vp=function(a,b){return new L(this,a,b)};function Cf(a){a.kc=new ef(a);var b=a.kc.Ia();a.B.insertBefore(b,a.Pa)}function Df(a){a.Dh=new rf(a);var b=a.Dh.Ia();a.B.appendChild(b)}function Ef(a,b){var d={Ue:a.options.Ue,$c:a,w:a.w,gg:a.options.gg,Xc:a.Xc,na:a.options.na};a.H=a.Xc?new ff(d):new gf(d);a.H.Rh=!1;return a.H.Ia(b)}function Ff(a){return a.H?a.H:a.W?a.W.H:null}
function ab(a){if(a.Xp&&a.Y){if(a.kb){var b=a.tb();Ye(a.kb.od,b);$e(a.kb.ud,b)}a.Fk()}}c.resize=function(){this.W&&this.W.position();this.H&&this.H.position();this.kc&&this.kc.position();this.Dh&&this.Dh.position();this.kb&&this.kb.resize();this.Fk();Bf(this)};function Dc(a){var b=m.g.oy();oa(a.Mt,b)||(a.Mt=b,a.Fk(),Bf(a))}function A(a){if(a.Pr)return a.Pr;for(var b=a.B;b;){if("svg"==b.tagName)return a.Pr=b;b=b.parentNode}return null}
c.translate=function(a,b){if(this.Jm&&this.Xl)this.Ch.wf(a,b);else{var d="translate("+a+","+b+") scale("+this.scale+")";this.Pa.setAttribute("transform",d);this.td.setAttribute("transform",d)}if(this.zb){d=this.zb;var e=this.scale;d.lg=e;d.Ad.setAttribute("transform","translate("+a.toFixed(0)+","+b.toFixed(0)+") scale("+e+")")}this.Dd&&this.Dd.moveTo(a,b)};
function Gc(a){if(a.Jm){a.Xl=!1;var b=a.Ch.Ol();a.Ch.ej(a.B);b="translate("+b.x+","+b.y+") scale("+a.scale+")";a.Pa.setAttribute("transform",b);a.td.setAttribute("transform",b)}}
function yc(a){if(a.Jm&&!a.Xl){a.Xl=!0;var b=a.Pa.previousSibling,d=parseInt(A(a).getAttribute("width"),10),e=parseInt(A(a).getAttribute("height"),10),f=m.g.nd(a.Pa),h=a.Ch,k=a.Pa,l=a.td,n=a.scale;if(h.Wa.childNodes.length)throw Error("Already dragging a block.");h.Bi=b;k.setAttribute("transform","translate(0, 0) scale("+n+")");l.setAttribute("transform","translate(0, 0) scale("+n+")");h.Wa.setAttribute("width",d);h.Wa.setAttribute("height",e);h.Wa.appendChild(k);h.Wa.appendChild(l);h.Wa.style.display=
"block";a.Ch.wf(f.x,f.y)}}c.Hc=function(){var a=this.tb();return a?a.Ka/this.scale:0};c.Ua=function(a){this.kb&&this.kb.nh(a);Ff(this)&&Ff(this).nh(a);A(this).style.display=a?"block":"none";this.W&&(this.W.wc.style.display=a?"block":"none");a?(this.ka(),this.W&&this.W.position()):m.Tb(!0);this.$f=a};c.ka=function(){for(var a=F(this,!1),b=a.length-1;0<=b;b--)a[b].ka(!1);if(this.Bb)for(a=this.Bb.ii(),b=0;b<a.length;b++)a[b].ka(!1)};
function Gf(a,b){var d=M;if(void 0===b){for(var e=0,f;f=d.Gj[e];e++)f.pf(!1);d.Gj.length=0}if(f=a?Ha(d,a):null)(a=void 0===b||b)?-1==d.Gj.indexOf(f)&&d.Gj.push(f):m.g.Yi(d.Gj,f),f.pf(a)}
function Hf(a){var b=m.fj;if(a.Y&&!(b.getElementsByTagName("block").length>=Zb(a)))if(a.Bb&&a.Bb.cancel(),"comment"==b.tagName.toLowerCase()){m.i.disable();try{var d=Ta(b,a),e=parseInt(b.getAttribute("x"),10),f=parseInt(b.getAttribute("y"),10);isNaN(e)||isNaN(f)||(a.w&&(e=-e),d.moveBy(e+50,f+50))}finally{m.i.enable()}d.select()}else a:{m.i.disable();try{var h=m.I.ai(b,a),k=m.navigation.dg.Za;if(m.ze&&k){m.navigation.Ft(h,k.ea);break a}var l=parseInt(b.getAttribute("x"),10),n=parseInt(b.getAttribute("y"),
10);if(!isNaN(l)&&!isNaN(n)){a.w&&(l=-l);do{b=!1;var p=F(a,!1);d=0;for(var r;r=p[d];d++){var u=r.ta();if(1>=Math.abs(l-u.x)&&1>=Math.abs(n-u.y)){b=!0;break}}if(!b){var v=h.Bd(!1);d=0;for(var z;z=v[d];d++)if(z.closest(m.mc,new q(l,n)).connection){b=!0;break}}b&&(l=a.w?l-m.mc:l+m.mc,n+=2*m.mc)}while(b);h.moveBy(l,n)}}finally{m.i.enable()}m.i.isEnabled()&&!h.Ta&&m.i.$(new m.i.Lk(h));h.select()}}function If(a){if((a=a.we?a.wh:a)&&!a.Bb&&a.W&&a.W.H){a=a.W;var b=a.vc.qd;b&&b.ie&&a.H.show(b.ie)}}
c.lh=function(a,b){wf.u.lh.call(this,a,b);If(this)};c.Eg=function(a){wf.u.Eg.call(this,a);If(this)};c.zd=function(a,b,d){a=wf.u.zd.call(this,a,b,d);If(this);return a};function Bf(a){a.As=a.kc&&a.B.parentNode?a.kc.di():null;a.zs=a.H?a.H.di():a.W?a.W.di():null}function Gb(a,b){return a.As&&a.As.contains(b.clientX,b.clientY)?m.an:a.zs&&a.zs.contains(b.clientX,b.clientY)?m.Lq:m.Kq}c.fg=function(a){var b=this.se(a);b&&Kc(b,a,this)};
c.Gm=function(a,b){a=m.g.Wj(a,A(this),af(this));a.x/=this.scale;a.y/=this.scale;this.Ms=qa(b,a)};function nc(a,b){b=m.g.Wj(b,A(a),af(a));b.x/=a.scale;b.y/=a.scale;return ra(a.Ms,b)}c.hc=function(){return null!=this.Bb&&this.Bb.hc()};function Jf(a){return a.options.Yb&&a.options.Yb.scrollbars||a.options.Yb&&a.options.Yb.Bh||a.options.Yb&&a.options.Yb.Nf||a.options.ab&&a.options.ab.controls||a.options.ab&&a.options.ab.Bh}
c.Wb=function(){return this.options.Yb&&this.options.Yb.scrollbars||this.options.Yb&&this.options.Yb.Bh||this.options.Yb&&this.options.Yb.Nf||this.options.ab&&this.options.ab.Bh};
c.Tz=function(a){if(Oc())a.preventDefault(),a.stopPropagation();else{var b=this.options.ab&&this.options.ab.Bh,d=this.options.Yb&&this.options.Yb.Bh;if(b||d){var e=m.g.Ho(a);!b||!a.ctrlKey&&d?(b=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(b=this.scrollX-e.y,d=this.scrollY),this.scroll(b,d)):(e=-e.y/50,b=m.g.Wj(a,A(this),af(this)),this.zoom(b.x,b.y,e));a.preventDefault()}}};
function Ya(a){var b=B(a,!1);a=Sa(a,!1);b=b.concat(a);if(!b.length)return new pc(0,0,0,0);a=b[0].Il();for(var d=1;d<b.length;d++){var e=b[d].Il();e.top<a.top&&(a.top=e.top);e.bottom>a.bottom&&(a.bottom=e.bottom);e.left<a.left&&(a.left=e.left);e.right>a.right&&(a.right=e.right)}return a}c.Uw=function(){this.$b(!1);m.i.V(!0);for(var a=B(this,!0),b=0,d=0,e;e=a[d];d++)if(e.Wb()){var f=e.ta();e.moveBy(-f.x,b-f.y);Kf(e);b=e.ta().y+e.Sb().height+25}m.i.V(!1);this.$b(!0)};
c.Fi=function(a){function b(z){if(z.gc())v=v.concat(t(z,!1));else{z=z.Ze(!1);for(var V=0;V<z.length;V++)b(z[V])}}function d(){m.i.V(h);var z=v.shift();z&&(z.v?(z.G(!1,!0),setTimeout(d,10)):d());m.i.V(!1)}if(!this.options.readOnly&&!this.we){var e=[],f=B(this,!0),h=m.g.re(),k=this,l={};l.text=m.h.UNDO;l.enabled=0<this.yh.length;l.Qb=this.vq.bind(this,!1);e.push(l);l={};l.text=m.h.REDO;l.enabled=0<this.ek.length;l.Qb=this.vq.bind(this,!0);e.push(l);this.Wb()&&(l={},l.text=m.h.CLEAN_UP,l.enabled=1<f.length,
l.Qb=this.Uw.bind(this),e.push(l));if(this.options.collapse){for(var n=l=!1,p=0;p<f.length;p++)for(var r=f[p];r;)r.isCollapsed()?l=!0:n=!0,r=w(r);var u=function(z){for(var V=0,R=0;R<f.length;R++)for(var Ca=f[R];Ca;)setTimeout(Ca.ng.bind(Ca,z),V),Ca=w(Ca),V+=10};n={enabled:n};n.text=m.h.COLLAPSE_ALL;n.Qb=function(){u(!0)};e.push(n);l={enabled:l};l.text=m.h.EXPAND_ALL;l.Qb=function(){u(!1)};e.push(l)}var v=[];for(p=0;p<f.length;p++)b(f[p]);l={text:1==v.length?m.h.DELETE_BLOCK:m.h.DELETE_X_BLOCKS.replace("%1",
String(v.length)),enabled:0<v.length,Qb:function(){k.Bb&&k.Bb.cancel();2>v.length?d():m.confirm(m.h.DELETE_ALL_BLOCKS.replace("%1",v.length),function(z){z&&d()})}};e.push(l);this.fs&&this.fs(e);m.sa.show(a,e,this.w)}};
c.jv=function(a){if(a=Me(a)){if(!this.options.Ae)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.W)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.Ae=a;a=this.W.tm(a);Lf(this.W);this.W.position();Mf(this.W.vc,a)}else{if(!this.H)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.Ae=a;this.H.show(a.childNodes)}}else if(this.options.Ae)throw Error("Can't nullify an existing toolbox.");
};function Fc(a){if(a.options.$c)Fc(a.options.$c);else{m.Sj=a;document.activeElement&&document.activeElement.blur();try{A(a).focus()}catch(b){try{A(a).parentNode.setActive()}catch(d){A(a).parentNode.focus()}}}}
c.zoom=function(a,b,d){if(!this.we&&!this.Sg){d=Math.pow(this.options.ab.eA,d);var e=this.scale*d;if(this.scale!=e){e>this.options.ab.Uj?d=this.options.ab.Uj/this.scale:e<this.options.ab.Vj&&(d=this.options.ab.Vj/this.scale);var f=this.Pa.getCTM(),h=A(this).createSVGPoint();h.x=a;h.y=b;h=h.matrixTransform(f.inverse());a=h.x;b=h.y;f=f.translate(a*(1-d),b*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}}};
function vf(a,b){var d=a.tb();if(a.H){var e=d.vA/2;d=d.uA/2}else e=d.Ka/2+d.qb,d=d.Qa/2+d.rb;a.zoom(e,d,b)}c.Rx=function(){m.g.j.Oa(this.Pa,"blocklyCanvasTransitioning");m.g.j.Oa(this.td,"blocklyCanvasTransitioning")};
c.setScale=function(a){this.options.ab.Uj&&a>this.options.ab.Uj?a=this.options.ab.Uj:this.options.ab.Vj&&a<this.options.ab.Vj&&(a=this.options.ab.Vj);this.scale=a;m.Tb(!1);this.H&&(this.H.Rp(),Bf(this));this.Dd&&this.Dd.update(this.scale);a=this.tb();this.scrollX-=a.qb;this.scrollY-=a.rb;a.jb+=a.qb;a.wb+=a.rb;this.scroll(this.scrollX,this.scrollY);this.kb&&(this.H?(Ve(this.kb.od,a),We(this.kb.ud,a)):(Ye(this.kb.od,a),$e(this.kb.ud,a)))};
c.scroll=function(a,b){m.Tb(!0);var d=this.tb(),e=d.Vc+d.ec-d.Ka,f=d.Cc+d.Rb-d.Qa;a=Math.min(a,-d.ec);b=Math.min(b,-d.Rb);a=Math.max(a,-e);b=Math.max(b,-f);this.scrollX=a;this.scrollY=b;this.kb&&(Pe(this.kb.od,-(a+d.ec)*this.kb.od.Zb),Pe(this.kb.ud,-(b+d.Rb)*this.kb.ud.Zb));a+=d.qb;b+=d.rb;this.translate(a,b)};function Nf(a){var b=0,d=0;a&&(b=a.Hc(),d=a.yj());return{width:b,height:d}}
function Of(a){var b=Ya(a),d=a.scale;a=b.top*d;var e=b.bottom*d,f=b.left*d;b=b.right*d;return{top:a,bottom:e,left:f,right:b,width:b-f,height:e-a}}
function xf(){var a=Nf(this.W),b=Nf(this.H),d=m.Zu(A(this)),e=d.height,f=d.width;if(this.W)if(this.na==m.yc||this.na==m.Ef)e-=a.height;else{if(this.na==m.Rc||this.na==m.Oe)f-=a.width}else if(this.H)if(this.na==m.yc||this.na==m.Ef)e-=b.height;else if(this.na==m.Rc||this.na==m.Oe)f-=b.width;if(Jf(this)){var h=Of(this);var k=f,l=e,n=k/2,p=l/2,r=Math.min(h.left-n,h.right-k),u=Math.min(h.top-p,h.bottom-l);h={left:r,top:u,height:Math.max(h.bottom+p,h.top+l)-u,width:Math.max(h.right+n,h.left+k)-r}}else h=
Of(this);k=0;this.W&&this.na==m.Rc?k=a.width:this.H&&this.na==m.Rc&&(k=b.width);l=0;this.W&&this.na==m.yc?l=a.height:this.H&&this.na==m.yc&&(l=b.height);return{Cc:h.height,Vc:h.width,Rb:h.top,ec:h.left,Qa:e,Ka:f,wb:-this.scrollY,jb:-this.scrollX,rb:l,qb:k,uA:d.height,vA:d.width,ev:a.width,dv:a.height,XB:b.width,WB:b.height,na:this.na}}
function yf(a){var b=this.tb();"number"==typeof a.x&&(this.scrollX=-b.Vc*a.x-b.ec);"number"==typeof a.y&&(this.scrollY=-b.Cc*a.y-b.Rb);this.translate(this.scrollX+b.qb,this.scrollY+b.rb)}c.$b=function(a){var b=!this.Xp&&a;this.Xp=a;b&&ab(this)};c.clear=function(){this.$b(!1);wf.u.clear.call(this);this.$b(!0)};function lf(a,b,d){if("function"!=typeof d)throw TypeError("Button callbacks must be functions.");a.xo[b]=d}function Pf(a,b){return(a=a.xo[b])?a:null}
function zf(a,b,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.uq[b]=d}c.se=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Bb;return d?b&&d.Jg?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:b?this.Bb=new bf(a,this):null};wf.prototype.setVisible=wf.prototype.Ua;function Qf(a){Qf.u.constructor.call(this,null);this.yu=a}g(Qf,Id);c=Qf.prototype;c.Ni=0;c.Hk=0;
c.ho=function(a){m.g.j.C("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);m.g.j.C("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},a);
m.g.j.C("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};c.Vo=function(a){this.R.Sa()&&Id.prototype.Vo.call(this,a)};
c.oj=function(){this.wk=m.g.j.C("svg",{x:G,y:G},null);if(this.yu.length)for(var a=m.g.xml.createElement("xml"),b=0,d;d=this.yu[b];b++){var e=m.g.xml.createElement("block");e.setAttribute("type",d);a.appendChild(e)}else a=null;a={disable:!1,Ue:this.R.v.options.Ue,Ae:a,$c:this.R.v,Xd:this.R.v.options.Xd,w:this.R.w,na:this.R.w?m.Oe:m.Rc,Xc:!1,tb:this.py.bind(this),qf:null};this.m=new wf(a);this.m.Sg=!0;this.m.Ac(m.i.Hx);a=Ef(this.m,"g");b=this.m.Ia("blocklyMutatorBackground");b.insertBefore(a,this.m.Pa);
this.wk.appendChild(b);return this.wk};c.Af=function(){this.R.Lc||(this.R.Sa()?this.Yc&&m.g.j.Oa(this.Yc,"blocklyIconGroupReadonly"):(this.Ua(!1),this.Yc&&m.g.j.Ba(this.Yc,"blocklyIconGroupReadonly")));Id.prototype.Af.call(this)};
c.xm=function(){var a=2*G,b=this.m.Pa.getBBox();var d=this.R.w?-b.x:b.width+b.x;b=b.height+3*a;if(this.m.H){var e=this.m.H.$e();b=Math.max(b,e.Cc+20)}d+=3*a;if(Math.abs(this.Ni-d)>a||Math.abs(this.Hk-b)>a)this.Ni=d,this.Hk=b,this.hb.mg(d+a,b+a),this.wk.setAttribute("width",this.Ni),this.wk.setAttribute("height",this.Hk);this.R.w&&this.m.Pa.setAttribute("transform","translate("+this.Ni+",0)");this.m.resize()};
c.Ua=function(a){if(a!=this.isVisible())if(m.i.$(new x(this.R,"mutatorOpen",!a,a)),a){this.hb=new cc(this.R.v,this.oj(),this.R.uc,this.ni,null,null);kc(this.hb,this.R.id);if(a=this.m.options.Ae)this.m.H.ra(this.m),this.m.H.show(a.childNodes);this.mf=this.R.rl(this.m);a=t(this.mf,!1);for(var b=0,d;d=a[b];b++)d.ka();this.mf.oh(!1);this.mf.fq(!1);this.m.H?(a=2*this.m.H.X,b=Ff(this.m).Hc()+a):b=a=16;this.R.w&&(b=-b);this.mf.moveBy(b,a);if(this.R.Fu){var e=this;this.R.Fu(this.mf);this.Fm=function(){e.R.Fu(e.mf)};
this.R.v.Ac(this.Fm)}this.xm();this.m.Ac(this.NA.bind(this));this.Jd()}else this.wk=null,this.m.G(),this.mf=this.m=null,this.hb.G(),this.hb=null,this.Hk=this.Ni=0,this.Fm&&(this.R.v.jh(this.Fm),this.Fm=null)};
c.NA=function(a){if(a.type!=m.i.Vi&&(a.type!=m.i.Fh||"disabled"!=a.element)){if(!this.m.hc()){a=B(this.m,!1);for(var b=0,d;d=a[b];b++){var e=d.ta(),f=d.Sb();20>e.y+f.height&&d.moveBy(0,20-f.height-e.y)}}if(this.mf.v==this.m){m.i.V(!0);d=this.R;a=(a=d.Zc())&&m.I.pc(a);b=d.Y;d.Y=!1;d.ll(this.mf);d.Y=b;d.ef();b=(b=d.Zc())&&m.I.pc(b);if(a!=b){m.i.$(new m.i.ce(d,"mutation",null,a,b));var h=m.i.Jb();setTimeout(function(){m.i.V(h);d.Bc();m.i.V(!1)},m.Kk)}d.Y&&d.ka();a!=b&&m.ze&&m.navigation.oz(d);this.m.hc()||
this.xm();m.i.V(!1)}}};c.py=function(){return{Qa:this.Hk,Ka:this.Ni-Ff(this.m).Hc(),rb:0,qb:this.m.w?0:Ff(this.m).Hc()}};c.G=function(){this.R.Vd=null;Id.prototype.G.call(this)};m.g.global.Blockly||(m.g.global.Blockly={});m.g.global.Blockly.Mutator||(m.g.global.Blockly.Mutator={});m.g.global.Blockly.Mutator.reconnect=function(a,b,d){if(!a||!a.A.v)return!1;d=Oa(b,d).connection;var e=y(a);return e&&e!=b||d.ga==a?!1:(d.isConnected()&&d.disconnect(),d.connect(a),!0)};m.xa={};m.xa.Wm={};m.xa.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(m.xa.Wm[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');m.xa.Wm[a]=b};m.xa.nC=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');m.xa.register(a,function(){Rf(this,b)})};
m.xa.oC=function(a,b,d,e){var f='Error when registering mutator "'+a+'": ';m.xa.Tr(f,b.We,"domToMutation");m.xa.Tr(f,b.Zc,"mutationToDom");var h=m.xa.Vr(b,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');m.xa.register(a,function(){h&&this.Lu(new Qf(e));Rf(this,b);d&&d.apply(this)})};
m.xa.apply=function(a,b,d){var e=m.xa.Wm[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)m.xa.Sw(a,b);else var f=m.xa.Go(b);e.apply(b);if(d)m.xa.Qw('Error after applying mutator "'+a+'": ',b);else if(!m.xa.rz(f,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
m.xa.Tr=function(a,b,d){if(!b)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof b)throw Error(a+'" required property "'+d+'" must be a function');};m.xa.Sw=function(a,b){if(m.xa.Go(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
m.xa.Vr=function(a,b){var d=void 0!==a.ll,e=void 0!==a.rl;if(d&&e){if("function"!=typeof a.ll)throw Error(b+"compose must be a function.");if("function"!=typeof a.rl)throw Error(b+"decompose must be a function.");return!0}if(d||e)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
m.xa.Qw=function(a,b){if("function"!=typeof b.We)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.Zc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');m.xa.Vr(b,a)};m.xa.Go=function(a){var b=[];void 0!==a.We&&b.push(a.We);void 0!==a.Zc&&b.push(a.Zc);void 0!==a.ll&&b.push(a.ll);void 0!==a.rl&&b.push(a.rl);return b};m.xa.rz=function(a,b){b=m.xa.Go(b);if(b.length!=a.length)return!1;for(var d=0;d<b.length;d++)if(a[d]!=b[d])return!1;return!0};
m.xa.IB=function(a,b){var d=[];"object"==typeof document&&m.g.Eu(function(){for(var e in b)m.g.Ur(b[e])});return function(){this.type&&-1===d.indexOf(this.type)&&(m.xa.Rw(this,a,b),d.push(this.type));this.sf(function(){var e=Tb(this,a),f=b[e];null==f?-1===d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=m.g.Lb(f);return f}.bind(this))}};
m.xa.Rw=function(a,b,d){var e=La(a,b);if("function"!=typeof e.Yg){e=e.getOptions();for(var f=0;f<e.length;++f){var h=e[f][1];null==d[h]&&console.warn("No tooltip mapping for value "+h+" of field "+b+" of block type "+a.type)}}};m.xa.JB=function(a,b){"object"==typeof document&&m.g.Eu(function(){m.g.Ur(a)});return function(){this.sf(function(){var d=La(this,b);return m.g.Lb(a).replace("%1",d?d.ub():"")}.bind(this))}};
m.xa.Tx=function(){this.DA=this.$d;this.sf(function(){var a=this.getParent();return a&&Yd(a)&&a.$d||this.DA}.bind(this))};m.xa.register("parent_tooltip_when_inline",m.xa.Tx);function Sf(a,b){this.lb=new sa(0,12.5);this.Wr=b;a=this.oc(a);null===a&&(a="");this.setValue(a)}g(Sf,Pc);Sf.aa=function(a){var b=m.g.Lb(a.text);return new Sf(b,a["class"])};Sf.prototype.Ld=!1;Sf.prototype.ue=function(){Rc(this);this.Eb.setAttribute("y",this.lb.height);this.Wr&&m.g.j.Ba(this.Eb,this.Wr)};Sf.prototype.oc=function(a){return null===a||void 0===a?null:String(a)};m.qc.register("field_label",Sf);function Tf(a,b,d,e){if(a!=m.gd&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.A=d;this.connection=e;this.Ma=[]}c=Tf.prototype;c.align=m.Ik;c.sg=!0;function Uf(a,b,d){Vf(a,a.Ma.length,b,d);return a}
function Vf(a,b,d,e){if(0>b||b>a.Ma.length)throw Error("index "+b+" out of bounds.");if(!d&&!e)return b;"string"==typeof d&&(d=new Sf(d));d.lq(a.A);a.A.Y&&d.ra();d.name=e;d.Op&&(b=Vf(a,b,d.Op));a.Ma.splice(b,0,d);++b;d.rq&&(b=Vf(a,b,d.rq));a.A.Y&&(a.A.ka(),a.A.Bc());return b}c.isVisible=function(){return this.sg};
c.Ua=function(a){var b=[];if(this.sg==a)return b;for(var d=(this.sg=a)?"block":"none",e=0,f;f=this.Ma[e];e++)f.Ua(a);if(this.connection){if(a)b=ub(this.connection);else if(e=this.connection,vb(e,!0),e.ga)for(e=t(y(e),!1),f=0;f<e.length;f++){for(var h=e[f],k=h.Bd(!0),l=0;l<k.length;l++)vb(k[l],!0);h=Db(h);for(l=0;l<h.length;l++)h[l].Ua(!1)}if(e=y(this.connection))e.S().style.display=d,a||(e.Y=!1)}return b};c.Di=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Di(a)};
c.ra=function(){if(this.A.v.Y)for(var a=0;a<this.Ma.length;a++)this.Ma[a].ra()};c.G=function(){for(var a=0,b;b=this.Ma[a];a++)b.G();this.connection&&this.connection.G();this.A=null};function xe(a){xe.u.constructor.call(this,a);ve(this);this.Ob={}}g(xe,Id);c=xe.prototype;c.Zr=!1;c.ho=function(a){m.g.j.C("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);m.g.j.C("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);m.g.j.C("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
c.Ua=function(a){if(a!=this.isVisible())if(m.i.$(new x(this.R,"warningOpen",!a,a)),a){var b=this.ub();a=m.g.j.C("text",{"class":"blocklyText blocklyBubbleText",y:G},null);b=b.split("\n");for(var d=0;d<b.length;d++)m.g.j.C("tspan",{dy:"1em",x:G},a).appendChild(document.createTextNode(b[d]));this.hb=new cc(this.R.v,a,this.R.uc,this.ni,null,null);kc(this.hb,this.R.id);if(this.R.w){b=a.getBBox().width;d=0;for(var e;e=a.childNodes[d];d++)e.setAttribute("text-anchor","end"),e.setAttribute("x",b+G)}this.Jd();
a=this.hb.Gg();this.hb.mg(a.width,a.height)}else this.hb.G(),this.hb=null};c.rf=function(a,b){this.Ob[b]!=a&&(a?this.Ob[b]=a:delete this.Ob[b],this.isVisible()&&(this.Ua(!1),this.Ua(!0)))};c.ub=function(){var a=[],b;for(b in this.Ob)a.push(this.Ob[b]);return a.join("\n")};c.G=function(){this.R.lc=null;Id.prototype.G.call(this)};function Yb(a,b,d){if("undefined"!==typeof Wf.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=d&&!Ha(a,d)?d:m.g.re();a.Hn[this.id]=this;this.N=this.T=this.J=null;this.K=[];this.ff=void 0;this.disabled=!1;this.$d="";this.contextMenu=!0;this.Ce=null;this.Qe=[];this.Os=this.Xj=this.qj=!0;this.Te=this.Ta=!1;this.Ya=null;this.Kd=new q(0,0);this.v=a;this.Lc=a.we;this.w=a.w;this.Nj=!1;this.cf=void 0;if(b){this.type=b;d=m.ob[b];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+
b);for(var e in d)this[e]=d[e]}a.Ji.push(this);a.yf[this.type]||(a.yf[this.type]=[]);a.yf[this.type].push(this);"function"==typeof this.ra&&this.ra();this.Xy=this.ff;if(m.i.isEnabled()){(a=m.i.Jb())||m.i.V(!0);try{m.i.$(new m.i.Lk(this))}finally{a||m.i.V(!1)}}if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=typeof a)throw Error("onchange must be a function.");this.$j&&this.v.jh(this.$j);if(this.onchange=a)this.$j=a.bind(this),this.v.Ac(this.$j)}}c=Yb.prototype;c.data=null;
c.Hf="#000000";c.bs=null;c.ds=null;c.rk=null;
c.G=function(a){if(this.v){this.$j&&this.v.jh(this.$j);m.ze&&m.navigation.Xt(this);Na(this,a);m.i.isEnabled()&&m.i.$(new m.i.Eq(this));m.i.disable();try{if(this.v){Xb(this.v,this);var b=this.v;b.yf[this.type].splice(b.yf[this.type].indexOf(this),1);b.yf[this.type].length||delete b.yf[this.type];delete this.v.Hn[this.id];this.v=null}m.selected==this&&(m.selected=null);for(var d=this.Qe.length-1;0<=d;d--)this.Qe[d].G(!1);d=0;for(var e;e=this.K[d];d++)e.G();this.K.length=0;var f=this.Bd(!0);d=0;for(var h;h=
f[d];d++)h.G()}finally{m.i.enable()}}};c.Ng=function(){for(var a=0,b;b=this.K[a];a++)for(var d=0,e;e=b.Ma[d];d++)e.Ng&&e.Ng()};
function Na(a,b){if(a.J){var d=null;a.J.isConnected()&&(d=a.J.ga,a.J.disconnect());if(d&&b){a:{b=null;for(var e=0;e<a.K.length;e++){var f=a.K[e].connection;if(f&&f.type==m.Ha&&f.ga){if(b){a=null;break a}b=f}}a=b}a&&a.isConnected()&&!y(a).Ta&&(a=a.ga,eb(a,d)&&(a.disconnect(),d.connect(a)))}}else a.N&&(d=null,a.N.isConnected()&&(d=a.N.ga,a.N.disconnect()),e=w(a),b&&e&&!e.Ta&&(a=a.T.ga,a.disconnect(),d&&eb(d,a)&&d.connect(a)))}
c.Bd=function(){var a=[];this.J&&a.push(this.J);this.N&&a.push(this.N);this.T&&a.push(this.T);for(var b=0,d;d=this.K[b];b++)d.connection&&a.push(d.connection);return a};c.Bc=function(){console.warn("Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.")};c.getParent=function(){return this.Ce};function Xf(a){do{var b=a;a=a.getParent();if(!a)return null}while(w(a)==b);return a}function w(a){return a.T&&y(a.T)}
function nb(a){var b=a;do a=b,b=a.Ce;while(b);return a}c.Ze=function(a){if(!a)return this.Qe;a=[];for(var b=0,d;d=this.K[b];b++)d.connection&&(d=y(d.connection))&&a.push(d);(b=w(this))&&a.push(b);return a};c.ph=function(a){if(a!=this.Ce){if(this.Ce){m.g.Yi(this.Ce.Qe,this);if(this.N&&this.N.isConnected())throw Error("Still connected to previous block.");if(this.J&&this.J.isConnected())throw Error("Still connected to parent block.");this.Ce=null}else Xb(this.v,this);(this.Ce=a)?a.Qe.push(this):this.v.Ji.push(this)}};
function t(a,b){var d=[a];a=a.Ze(b);for(var e,f=0;e=a[f];f++)d.push.apply(d,t(e,b));return d}c.gc=function(){return this.qj&&!this.Ta&&!(this.v&&this.v.options.readOnly)};c.fq=function(a){this.qj=a};c.Wb=function(){return this.Xj&&!this.Ta&&!(this.v&&this.v.options.readOnly)};c.oh=function(a){this.Xj=a};c.kq=function(a){this.Ta=a};c.Wf=function(){return this.Nj};c.Ku=function(a){this.Nj=a};c.Sa=function(){return this.Os&&!(this.v&&this.v.options.readOnly)};
c.gq=function(a){this.Os=a;a=0;for(var b;b=this.K[a];a++)for(var d=0,e;e=b.Ma[d];d++)e.Af()};function Za(a,b){if(!b&&a.isCollapsed()){if(a.J&&vb(a.J,b),a.N&&vb(a.N,b),a.T){vb(a.T,b);var d=y(a.T);d&&Za(d,b)}}else{a=a.Bd(!0);for(var e=0;d=a[e];e++)vb(d,b),D(d)&&(d=y(d))&&Za(d,b)}}c.sf=function(a){this.$d=a};function xd(a){var b=a.bs;return b?b:m.g.cb.Gn("white",a.Hf,.6)}
function Yf(a){var b=a.ds;if(b)return{il:b,On:null,$r:null};a=a.Hf;return{il:null,On:m.g.cb.Gn("white",a,.3),$r:m.g.cb.Gn("black",a,.2)}}c.nf=function(a){var b="string"==typeof a?m.g.Lb(a):a,d=Number(b);if(!isNaN(d)&&0<=d&&360>=d)this.Hf=m.At(d);else if(d=m.g.cb.parse(b))this.Hf=d;else throw d='Invalid colour: "'+b+'"',a!=b&&(d+=' (from "'+a+'")'),Error(d);};
function Zf(a,b){var d=m.Rl();if(!d)throw Error("Trying to set block style to "+b+" before theme was defined via Blockly.setTheme().");d=d.Hw[b];a.rk=b;if(d)a.bs=d.colourSecondary,a.ds=d.colourTertiary,a.cf=d.cf,a.nf(d.colourPrimary);else throw Error("Invalid style name: "+b);}function La(a,b){for(var d=0,e;e=a.K[d];d++)for(var f=0,h;h=e.Ma[f];f++)if(h.name===b)return h;return null}
function bb(a){for(var b=[],d=0,e;e=a.K[d];d++)for(var f=0,h;h=e.Ma[f];f++)h.wm()&&(h=a.v.af(h.getValue()))&&b.push(h);return b}function Tb(a,b){return(a=La(a,b))?a.getValue():null}c.kk=function(a,b){if(a){void 0===b&&(b=null);if(!this.N){if(this.J)throw Error("Remove output connection prior to adding previous connection.");this.N=this.Tj(m.jd)}this.N.Di(b)}else if(this.N){if(this.N.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.N.G();this.N=null}};
c.Em=function(a,b){if(a)void 0===b&&(b=null),this.T||(this.T=this.Tj(m.ya)),this.T.Di(b);else if(this.T){if(this.T.isConnected())throw Error("Must disconnect next statement before removing connection.");this.T.G();this.T=null}};
c.jq=function(a,b){if(a){void 0===b&&(b=null);if(!this.J){if(this.N)throw Error("Remove previous connection prior to adding output connection.");this.J=this.Tj(m.hd)}this.J.Di(b)}else if(this.J){if(this.J.isConnected())throw Error("Must disconnect output value before removing connection.");this.J.G();this.J=null}};c.Ei=function(a){this.ff!=a&&(m.i.$(new m.i.ce(this,"inline",null,this.ff,a)),this.ff=a)};
function Yd(a){if(void 0!=a.ff)return a.ff;for(var b=1;b<a.K.length;b++)if(a.K[b-1].type==m.gd&&a.K[b].type==m.gd)return!1;for(b=1;b<a.K.length;b++)if(a.K[b-1].type==m.Ha&&a.K[b].type==m.gd)return!0;return!1}c.isEnabled=function(){return!this.disabled};c.Fe=function(a){this.isEnabled()!=a&&(m.i.$(new m.i.ce(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function $f(a){for(a=Xf(a);a;){if(a.disabled)return!0;a=Xf(a)}return!1}c.isCollapsed=function(){return this.Te};
c.ng=function(a){this.Te!=a&&(m.i.$(new m.i.ce(this,"collapsed",null,this.Te,a)),this.Te=a)};c.toString=function(a,b){var d=[],e=b||"?";if(this.Te)d.push(Oa(this,"_TEMP_COLLAPSED_INPUT").Ma[0].Ob);else for(var f=0,h;h=this.K[f];f++){for(var k=0,l;l=h.Ma[k];k++)l instanceof ud&&!l.getValue()?d.push(e):d.push(l.ub());h.connection&&((h=y(h.connection))?d.push(h.toString(void 0,b)):d.push(e))}d=d.join(" ").trim()||"???";a&&d.length>a&&(d=d.substring(0,a-3)+"...");return d};
function ag(a,b){var d=b.type?'Block "'+b.type+'": ':"";if(b.output&&b.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");b.style&&b.style.cf&&(a.cf=b.style.cf,b.style=null);if(b.style&&b.colour)throw Error(d+"Must not have both a colour and a style.");if(b.style){var e=b.style;try{Zf(a,e)}catch(z){console.warn(d+"Style does not exist: ",e)}}else if("colour"in b)if(void 0===b.colour)console.warn(d+"Undefined colour value.");else{e=b.colour;try{a.nf(e)}catch(z){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==b["message"+e];){for(var f=a,h=b["args"+e]||[],k=b["lastDummyAlign"+e],l=m.g.AA(b["message"+e]),n=[],p=0,r=[],u=0;u<l.length;u++){var v=l[u];if("number"==typeof v){if(0>=v||v>h.length)throw Error('Block "'+f.type+'": Message index %'+v+" out of range.");if(n[v])throw Error('Block "'+f.type+'": Message index %'+v+" duplicated.");n[v]=!0;p++;r.push(h[v-1])}else(v=v.trim())&&r.push(v)}if(p!=h.length)throw Error('Block "'+f.type+'": Message does not reference all '+
h.length+" arg(s).");r.length&&("string"==typeof r[r.length-1]||m.g.Ja.startsWith(r[r.length-1].type,"field_"))&&(u={type:"input_dummy"},k&&(u.align=k),r.push(u));k={LEFT:m.Ik,RIGHT:m.Vm,CENTRE:m.Um};h=[];for(u=0;u<r.length;u++)if(n=r[u],"string"==typeof n)h.push([n,void 0]);else{l=p=null;do if(v=!1,"string"==typeof n)p=new Sf(n);else switch(n.type){case "input_value":l=f.xd(m.Ha,n.name);break;case "input_statement":l=f.xd(m.ya,n.name);break;case "input_dummy":l=f.xd(m.gd,n.name||"");break;default:p=
m.qc.aa(n),!p&&n.alt&&(n=n.alt,v=!0)}while(v);if(p)h.push([p,n.name]);else if(l){n.check&&l.Di(n.check);n.align&&(p=l,p.align=k[n.align],p.A.Y&&p.A.ka());for(n=0;n<h.length;n++)Uf(l,h[n][0],h[n][1]);h.length=0}}e++}void 0!==b.inputsInline&&a.Ei(b.inputsInline);void 0!==b.output&&a.jq(!0,b.output);void 0!==b.previousStatement&&a.kk(!0,b.previousStatement);void 0!==b.nextStatement&&a.Em(!0,b.nextStatement);void 0!==b.tooltip&&(e=b.tooltip,e=m.g.Lb(e),a.sf(e));void 0!==b.enableContextMenu&&(e=b.enableContextMenu,
a.contextMenu=!!e);void 0!==b.helpUrl&&(e=b.helpUrl,e=m.g.Lb(e),a.li=e);"string"==typeof b.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+b.type+"' block."),b.extensions=[b.extensions]);void 0!==b.mutator&&m.xa.apply(b.mutator,a,!0);if(Array.isArray(b.extensions))for(b=b.extensions,d=0;d<b.length;++d)m.xa.apply(b[d],a,!1)}
function Rf(a,b){var d=[],e;for(e in b)void 0!==a[e]&&d.push(e);if(d.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(d));for(var f in b)a[f]=b[f]}c.xd=function(a,b){var d=null;if(a==m.Ha||a==m.ya)d=this.Tj(a);a=new Tf(a,b,this,d);this.K.push(a);return a};c.Sp=function(a,b){for(var d=0,e;e=this.K[d];d++)if(e.name==a){e.G();this.K.splice(d,1);return}if(!b)throw Error("Input not found: "+a);};function Oa(a,b){for(var d=0,e;e=a.K[d];d++)if(e.name==b)return e;return null}
function bg(a,b){return(a=Oa(a,b))&&a.connection&&y(a.connection)}c.Kl=function(){return this.Ya||""};c.hk=function(a){this.Ya!=a&&(m.i.$(new m.i.ce(this,"comment",null,this.Ya,a||"")),this.Ya=a)};c.lk=function(){};c.Lu=function(){};c.ta=function(){return this.Kd};c.moveBy=function(a,b){if(this.Ce)throw Error("Block has parent.");var d=new m.i.Pi(this);this.Kd.translate(a,b);d.kf();m.i.$(d)};c.Tj=function(a){return new cb(this,a)};m.sa={};m.sa.ql=null;m.sa.Qs=null;m.sa.show=function(a,b,d){m.M.show(m.sa,d,null);if(b.length){var e=m.sa.tm(b,d);m.sa.tc(e,a,d);setTimeout(function(){e.ca().focus()},1);m.sa.ql=null}else m.sa.Ea()};m.sa.tm=function(a,b){var d=new fd;dd(d,b);for(var e=0,f;f=a[e];e++){var h=new rd(f.text);dd(h,b);d.Xi(h,cd(d),!0);h.Fe(f.enabled);f.enabled&&td(h,function(){m.sa.Ea();this.Qb()},f)}return d};
m.sa.tc=function(a,b,d){var e=m.g.jt();b={top:b.clientY+e.top,bottom:b.clientY+e.top,left:b.clientX+e.left,right:b.clientX+e.left};m.sa.nx(a);var f=m.g.Mi.Pf(a);d&&m.g.Mi.Ir(e,b,f);m.M.vu(e,b,f,d);a.ca().focus()};m.sa.nx=function(a){a.ka(m.M.qa);var b=a.ca();m.g.j.Ba(b,"blocklyContextMenu");m.L(b,"contextmenu",null,m.g.xz);a.focus()};m.sa.Ea=function(){m.M.So(m.sa);m.sa.ql=null;m.sa.Qs&&m.oa(m.sa.Qs)};
m.sa.LB=function(a,b){return function(){m.i.disable();try{var d=m.I.ai(b,a.v),e=a.ta();e.x=a.w?e.x-m.mc:e.x+m.mc;e.y+=2*m.mc;d.moveBy(e.x,e.y)}finally{m.i.enable()}m.i.isEnabled()&&!d.Ta&&m.i.$(new m.i.Lk(d));d.select()}};m.sa.Ew=function(a){var b=t(a,!1).length,d=w(a);d&&(b-=t(d,!1).length);return{text:1==b?m.h.DELETE_BLOCK:m.h.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,Qb:function(){m.i.V(!0);a.G(!0,!0);m.i.V(!1)}}};
m.sa.Gw=function(a){return{enabled:!("function"==typeof a.li?!a.li():!a.li),text:m.h.HELP,Qb:function(){var b="function"==typeof a.li?a.li():a.li;b&&window.open(b)}}};m.sa.Fw=function(a){var b=ac(a.v)?$b(a.v,m.g.Bo(a,!0)):!0;return{text:m.h.DUPLICATE_BLOCK,enabled:b,Qb:function(){m.Ns(a)}}};m.sa.Dw=function(a){var b={enabled:!m.g.userAgent.Df};a.Ya?(b.text=m.h.REMOVE_COMMENT,b.Qb=function(){a.hk(null)}):(b.text=m.h.ADD_COMMENT,b.Qb=function(){a.hk("")});return b};
m.sa.Xw=function(a){return{text:m.h.AB,enabled:!0,Qb:function(){m.i.V(!0);a.G(!0,!0);m.i.V(!1)}}};m.sa.Yw=function(a){return{text:m.h.YA,enabled:!0,Qb:function(){m.Ns(a)}}};m.sa.vC=function(a,b){var d={enabled:!m.g.userAgent.Df};d.text=m.h.RA;d.Qb=function(){var e=new qc(a,m.h.EB,100,100),f=ta(a).getBoundingClientRect();f=new q(b.clientX-f.left,b.clientY-f.top);var h=m.g.Aj(a.Pa);f=qa(f,h);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.Y&&(e.ef(),e.ka(),e.select())};return d};function L(a,b,d){this.B=m.g.j.C("g",{},null);this.B.xf="";this.vh=m.g.j.C("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.B);this.uc=m.g.j.C("path",{"class":"blocklyPath"},this.B);this.tf=m.g.j.C("path",{"class":"blocklyPathLight"},this.B);this.uc.$d=this;this.Y=!1;this.Ke=m.g.Vf()&&!!a.zb;m.F.Sh(this.uc);L.u.constructor.call(this,a,b,d);this.B.dataset&&(this.B.dataset.id=this.id)}g(L,Yb);c=L.prototype;c.height=0;c.width=0;c.ed=null;
c.ef=function(){if(!this.v.Y)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.K[a];a++)b.ra();b=Db(this);for(a=0;a<b.length;a++)ve(b[a]);this.Jd();rc(this);this.v.options.readOnly||this.so||m.L(this.S(),"mousedown",this,this.fg);this.so=!0;this.S().parentNode||this.v.Pa.appendChild(this.S())};
c.select=function(){if(this.Ta&&this.getParent())this.getParent().select();else if(m.selected!=this){var a=null;if(m.selected){a=m.selected.id;m.i.disable();try{m.selected.zf()}finally{m.i.enable()}}a=new x(null,"selected",a,this.id);a.Fb=this.v.id;m.i.$(a);m.selected=this;this.Ph()}};c.zf=function(){if(m.selected==this){var a=new x(null,"selected",this.id,null);a.Fb=this.v.id;m.i.$(a);m.selected=null;this.kh()}};c.Vd=null;c.Ya=null;c.lc=null;
function Db(a){var b=[];a.Vd&&b.push(a.Vd);a.Ya&&b.push(a.Ya);a.lc&&b.push(a.lc);return b}c.ph=function(a){var b=this.Ce;if(a!=b){m.g.j.pk();L.u.ph.call(this,a);m.g.j.qk();var d=this.S();if(!this.v.ap&&d){var e=this.ta();a?(a.S().appendChild(d),a=this.ta(),sb(this,a.x-e.x,a.y-e.y)):b&&(this.v.Pa.appendChild(d),this.translate(e.x,e.y))}}};
c.ta=function(){var a=0,b=0,d=this.Ke?this.v.zb.Jb():null,e=this.S();if(e){do{var f=m.g.nd(e);a+=f.x;b+=f.y;this.Ke&&this.v.zb.Ad.firstChild==e&&(f=this.v.zb.Ol(),a+=f.x,b+=f.y);e=e.parentNode}while(e&&e!=this.v.Pa&&e!=d)}return new q(a,b)};c.moveBy=function(a,b){if(this.Ce)throw Error("Block has parent.");var d=m.i.isEnabled();if(d)var e=new m.i.Pi(this);var f=this.ta();this.translate(f.x+a,f.y+b);sb(this,a,b);d&&(e.kf(),m.i.$(e));ab(this.v)};
c.translate=function(a,b){this.S().setAttribute("transform","translate("+a+","+b+")")};c.jm=function(){if(this.Ke){var a=this.ta();this.S().removeAttribute("transform");this.v.zb.wf(a.x,a.y);tc(this.v.zb,this.S())}};c.moveTo=function(a){var b=this.ta();this.moveBy(a.x-b.x,a.y-b.y)};c.Yt=function(a){this.Ke&&(this.translate(a.x,a.y),this.v.zb.ej(this.v.Pa))};c.im=function(a){this.Ke?this.v.zb.wf(a.x,a.y):(this.B.xf="translate("+a.x+","+a.y+")",this.B.setAttribute("transform",this.B.xf+this.B.qh))};
function Kf(a){if(a.v&&!a.v.hc()&&!a.getParent()&&!a.Lc){var b=a.v.Dd;if(b&&b.nA){var d=b.qq,e=d/2,f=a.ta();b=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;b=Math.round(b);d=Math.round(d);0==b&&0==d||a.moveBy(b,d)}}}c.Il=function(){var a=this.ta(),b=this.J?Xa:0,d=this.Sb(),e=a.y,f=a.y+d.height;if(this.w){var h=a.x-(d.width-b);a=a.x+b}else h=a.x-b,a=a.x+d.width-b;return new pc(e,f,h,a)};
c.ng=function(a){if(this.Te!=a){for(var b=[],d=0,e;e=this.K[d];d++)b.push.apply(b,e.Ua(!a));if(a){e=Db(this);for(d=0;d<e.length;d++)e[d].Ua(!1);d=this.toString(m.Cv);Uf(this.xd(m.gd,"_TEMP_COLLAPSED_INPUT"),d).ra();e=t(this,!0);if(d=w(this))d=e.indexOf(d),e.splice(d,e.length-d);d=1;for(var f;f=e[d];d++)if(f.lc){this.lk(m.h.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");break}}else this.Sp("_TEMP_COLLAPSED_INPUT"),this.lc&&(this.lc.rf("","TEMP_COLLAPSED_WARNING_"),Object.keys(this.lc.Ob).length||
this.lk(null));L.u.ng.call(this,a);b.length||(b[0]=this);if(this.Y)for(d=0;f=b[d];d++)f.ka()}};function cg(a,b,d){for(var e=[],f=0,h;h=a.K[f];f++){for(var k=0,l;l=h.Ma[k];k++)l instanceof dg&&l.isVisible()&&e.push(l);h.connection&&(h=y(h.connection))&&e.push(h)}b=e.indexOf(b);-1==b&&(b=d?-1:e.length);(e=e[d?b+1:b-1])?e instanceof Pc?e.Zd():cg(e,null,d):(e=a.getParent())&&cg(e,a,d)}
c.fg=function(a){var b=this.v&&this.v.se(a);if(b){if(b.Jg)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Mc(b,this);b.Ud=a}};
function eg(a){if(a.v.options.readOnly||!a.contextMenu)return null;var b=[];if(!a.Lc){a.gc()&&a.Wb()&&b.push(m.sa.Fw(a));a.v.options.Zw&&!a.Te&&a.Sa()&&b.push(m.sa.Dw(a));if(a.Wb())if(a.Te)a.v.options.collapse&&(d={enabled:!0},d.text=m.h.EXPAND_BLOCK,d.Qb=function(){a.ng(!1)},b.push(d));else{for(var d=1;d<a.K.length;d++)if(a.K[d-1].type!=m.ya&&a.K[d].type!=m.ya){d={enabled:!0};var e=Yd(a);d.text=e?m.h.EXTERNAL_INPUTS:m.h.INLINE_INPUTS;d.Qb=function(){a.Ei(!e)};b.push(d);break}a.v.options.collapse&&
(d={enabled:!0},d.text=m.h.COLLAPSE_BLOCK,d.Qb=function(){a.ng(!0)},b.push(d))}a.v.options.disable&&a.Sa()&&(d={text:a.isEnabled()?m.h.DISABLE_BLOCK:m.h.ENABLE_BLOCK,enabled:!$f(a),Qb:function(){var f=m.i.Jb();f||m.i.V(!0);a.Fe(!a.isEnabled());f||m.i.V(!1)}},b.push(d));a.gc()&&b.push(m.sa.Ew(a))}b.push(m.sa.Gw(a));a.xx&&a.xx(b);return b}c.Fi=function(a){var b=eg(this);b&&b.length&&(m.sa.show(a,b,this.w),m.sa.ql=this)};
function sb(a,b,d){if(a.Y){for(var e=a.Bd(!1),f=0;f<e.length;f++)e[f].moveBy(b,d);e=Db(a);for(f=0;f<e.length;f++)de(e[f]);for(f=0;f<a.Qe.length;f++)sb(a.Qe[f],b,d)}}c.og=function(a){if(a){var b=this.S();b.xf="";b.qh="";m.sj=m.sj.concat(this.Bd(!0));m.g.j.Ba(this.B,"blocklyDragging")}else m.sj=[],m.g.j.Oa(this.B,"blocklyDragging");for(b=0;b<this.Qe.length;b++)this.Qe[b].og(a)};c.oh=function(a){L.u.oh.call(this,a);rc(this)};c.gq=function(a){L.u.gq.call(this,a);a=Db(this);for(var b=0;b<a.length;b++)a[b].Af()};
c.kq=function(a){L.u.kq.call(this,a);this.Jd()};c.Ku=function(a){this.Nj!=a&&(this.Nj=a)&&(this.nf(m.Wv),m.g.j.Ba(this.B,"blocklyInsertionMarker"))};c.S=function(){return this.B};
c.G=function(a,b){if(this.v){m.F.Ea();m.g.j.pk();var d=this.v;if(m.selected==this){this.zf();var e=this.v;e.Bb&&e.Bb.cancel()}m.sa.ql==this&&m.sa.Ea();m.ze&&m.navigation.Xt(this);b&&this.Y&&(Na(this,a),m.Ra.Lx(this));this.Y=!1;if(this.ed){for(var f in this.ed)clearTimeout(this.ed[f]);this.ed=null}Na(this,a);var h;m.i.isEnabled()&&(h=new m.i.Eq(this));m.i.disable();try{var k=Db(this);for(b=0;b<k.length;b++)k[b].G();L.u.G.call(this,a)}finally{m.i.enable()}m.i.isEnabled()&&h&&m.i.$(h);m.g.j.removeNode(this.B);
ab(d);this.vh=this.tf=this.uc=this.B=null;m.g.j.qk()}};
c.Jd=function(){if(this.isEnabled()){if(this.Ta){var a=xd(this);this.tf.style.display="none";this.vh.setAttribute("fill",a);this.uc.setAttribute("stroke","none");this.uc.setAttribute("fill",a)}else a=Yf(this),a.il?(this.tf.style.display="none",this.vh.style.display="none",this.uc.setAttribute("stroke",a.il)):(this.tf.style.display="",this.vh.style.display="",this.uc.setAttribute("stroke","none"),this.tf.setAttribute("stroke",a.On),this.vh.setAttribute("fill",a.$r)),this.uc.setAttribute("fill",this.Hf);
a=Db(this);for(var b=0;b<a.length;b++)a[b].Jd();for(a=0;b=this.K[a];a++)for(var d=0,e;e=b.Ma[d];d++)e.Jd()}};function $a(a){!a.isEnabled()||$f(a)?m.g.j.Ba(a.B,"blocklyDisabled")&&a.uc.setAttribute("fill","url(#"+a.v.options.Ue+")"):m.g.j.Oa(a.B,"blocklyDisabled")&&a.Jd();a=a.Ze(!1);for(var b=0,d;d=a[b];b++)$a(d)}c.Kl=function(){return this.Ya?this.Ya.ub().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""};
c.hk=function(a){var b=!1;"string"==typeof a?(this.Ya||(this.Ya=new we(this),b=!0),this.Ya.rf(a)):this.Ya&&(this.Ya.G(),b=!0);b&&this.Y&&(this.ka(),this.Bc())};
c.lk=function(a,b){this.ed||(this.ed=Object.create(null));var d=b||"";if(d)this.ed[d]&&(clearTimeout(this.ed[d]),delete this.ed[d]);else for(var e in this.ed)clearTimeout(this.ed[e]),delete this.ed[e];if(this.v.hc()){var f=this;this.ed[d]=setTimeout(function(){f.v&&(delete f.ed[d],f.lk(a,d))},100)}else{this.Lc&&(a=null);b=Xf(this);for(e=null;b;)b.isCollapsed()&&(e=b),b=Xf(b);e&&e.lk(m.h.COLLAPSED_WARNINGS_WARNING,"TEMP_COLLAPSED_WARNING_");b=!1;"string"==typeof a?(this.lc||(this.lc=new xe(this),b=
!0),this.lc.rf(a,d)):this.lc&&!d?(this.lc.G(),b=!0):this.lc&&(b=this.lc.ub(),this.lc.rf("",d),(e=this.lc.ub())||this.lc.G(),b=b!=e);b&&this.Y&&(this.ka(),this.Bc())}};c.Lu=function(a){this.Vd&&this.Vd!==a&&this.Vd.G();a&&(a.R=this,this.Vd=a,ve(a))};c.Fe=function(a){this.isEnabled()!=a&&(L.u.Fe.call(this,a),this.Y&&$a(this))};
c.pf=function(a){this.Y&&(a?(this.uc.setAttribute("filter","url(#"+this.v.options.Ps+")"),this.tf.style.display="none"):(this.uc.setAttribute("filter","none"),this.tf.style.display="inline"))};c.Ph=function(){m.g.j.Ba(this.B,"blocklySelected")};c.kh=function(){m.g.j.Oa(this.B,"blocklySelected")};c.jk=function(a){a?m.g.j.Ba(this.B,"blocklyDraggingDelete"):m.g.j.Oa(this.B,"blocklyDraggingDelete")};c.nf=function(a){L.u.nf.call(this,a);this.Y&&this.Jd()};
function Jb(a){do{var b=a.S();b.parentNode.appendChild(b);a=a.getParent()}while(a)}c.kk=function(a,b){L.u.kk.call(this,a,b);this.Y&&(this.ka(),this.Bc())};c.Em=function(a,b){L.u.Em.call(this,a,b);this.Y&&(this.ka(),this.Bc())};c.jq=function(a,b){L.u.jq.call(this,a,b);this.Y&&(this.ka(),this.Bc())};c.Ei=function(a){L.u.Ei.call(this,a);this.Y&&(this.ka(),this.Bc())};c.Sp=function(a,b){L.u.Sp.call(this,a,b);this.Y&&(this.ka(),this.Bc())};
c.xd=function(a,b){a=L.u.xd.call(this,a,b);this.Y&&(this.ka(),this.Bc());return a};c.Bd=function(a){var b=[];if(a||this.Y)if(this.J&&b.push(this.J),this.N&&b.push(this.N),this.T&&b.push(this.T),a||!this.Te){a=0;for(var d;d=this.K[a];a++)d.connection&&b.push(d.connection)}return b};c.Tj=function(a){return new lb(this,a)};
c.Bc=function(){if(this.v&&!this.v.hc()){var a=nb(this);if(!a.Lc)for(var b=this.Bd(!1),d=0,e;e=b[d];d++){e.isConnected()&&D(e)&&y(e).Bc();for(var f=e.Zt(m.mc),h=0,k;k=f[h];h++)e.isConnected()&&k.isConnected()||nb(k.A)!=a&&(D(e)?fb(k,e):fb(e,k))}}};function Kb(a){var b=m.i.Jb();setTimeout(function(){m.i.V(b);Kf(a);m.i.V(!1)},m.Kk/2);setTimeout(function(){m.i.V(b);a.Bc();m.i.V(!1)},m.Kk)}
c.ka=function(a){m.g.j.pk();this.Y=!0;m.za.ka(this);var b=this.ta();this.N&&pb(this.N,b);this.J&&pb(this.J,b);for(var d=0;d<this.K.length;d++){var e=this.K[d].connection;e&&(pb(e,b),e.isConnected()&&rb(e))}this.T&&(pb(this.T,b),this.T.isConnected()&&rb(this.T));!1!==a&&((a=this.getParent())?a.ka(!0):ab(this.v));m.g.j.qk()};function ce(){this.Wu=[];this.yt=[];this.Dt=[];this.xt=[]}var Xa=8;L.prototype.Sb=function(){var a=this.height,b=this.width,d=w(this);d&&(d=d.Sb(),a+=d.height-4,b=Math.max(b,d.width));return{height:a,width:b}};function Bb(a,b){b?m.g.j.Ba(a.B,"blocklyReplaceable"):m.g.j.Oa(a.B,"blocklyReplaceable")};
var fg,gg,hg=null,ig=null,jg=null,kg=null,lg=0;
function mg(){if(!hg){var a=document.createElement("div");a.className="blocklyDropDownDiv";document.body.appendChild(a);hg=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);fg=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);gg=b;hg.style.opacity=0;hg.style.transition="transform 0.25s, opacity 0.25s";a.addEventListener("focusin",function(){m.g.j.Ba(a,"focused")});a.addEventListener("focusout",function(){m.g.j.Oa(a,"focused")})}}
function ng(a,b){var d=a.pe.getBoundingClientRect(),e=d.left+d.width/2,f=d.bottom;d=d.top;ig=A(a.A.v).parentNode;jg=a;lg=b;a=ig.getBoundingClientRect();b=m.g.style.Pf(ig);a={left:a.left,right:a.left+b.width,top:a.top,bottom:a.top+b.height,width:b.width,height:b.height};b=m.g.style.Pf(hg);f+b.height<a.bottom?e=og(e,f,a,b):d-b.height>a.top?e=pg(e,d,a,b):f+b.height<document.documentElement.clientHeight?e=og(e,f,a,b):d-b.height>document.documentElement.clientTop?e=pg(e,d,a,b):(e=qg(e,a.left,a.right,b.width),
e={Wo:e.$h,Xo:0,uo:e.$h,vo:0,Dn:!1});a=e;a.Dn?(gg.style.display="",gg.style.transform="translate("+a.Zi+"px,"+a.Mr+"px) rotate(45deg)",gg.setAttribute("class",a.Lr?"blocklyDropDownArrow arrowTop":"blocklyDropDownArrow arrowBottom")):gg.style.display="none";e=a.Wo;f=a.Xo;d=a.uo;a=a.vo;e=Math.floor(e);f=Math.floor(f);d=Math.floor(d);a=Math.floor(a);b=hg;b.style.left=e+"px";b.style.top=f+"px";b.style.display="block";b.style.opacity=1;b.style.transform="translate("+(d-e)+"px,"+(a-f)+"px)"}
function og(a,b,d,e){a=qg(a,d.left,d.right,e.width);return{Wo:a.$h,Xo:b,uo:a.$h,vo:b+16,Zi:a.Zi,Mr:-9,Lr:!0,Dn:!0}}function pg(a,b,d,e){a=qg(a,d.left,d.right,e.width);return{Wo:a.$h,Xo:b-e.height,uo:a.$h,vo:b-e.height-16,Zi:a.Zi,Mr:e.height-2-8,Lr:!1,Dn:!0}}function qg(a,b,d,e){var f=a;a=m.g.Nc.dj(b,a-e/2,d-e);b=m.g.Nc.dj(12,f-8-a,e-12-16);return{Zi:b,$h:a}}function Sc(a){jg===a&&(a=hg,a.style.transform="translate(0, 0)",a.style.opacity=0,kg=setTimeout(rg,250),lg&&(lg(),lg=null))}
function rg(){if(jg){kg&&clearTimeout(kg);var a=hg;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";fg.innerHTML="";fg.style.width="";jg=null;lg&&(lg(),lg=null)}};function dg(a,b){a=this.oc(a);null===a&&(a="");dg.u.constructor.call(this,a,b)}g(dg,Pc);dg.aa=function(a){var b=m.g.Lb(a.text);b=new dg(b);"boolean"===typeof a.spellcheck&&(b.Qu=a.spellcheck);return b};c=dg.prototype;c.Ne=!0;c.Pk="text";c.Qu=!0;c.oc=function(a){return null===a||void 0===a?null:String(a)};c.Ks=function(){if(this.ri){this.gp=!1;var a=this.Va;this.Va=this.Kc.IA;this.A&&m.i.isEnabled()&&m.i.$(new m.i.ce(this.A,"field",this.name,a,this.Va))}};
c.Ve=function(a){this.gp=!0;this.Va=a;this.ri||(this.Rd=!0)};c.Ee=function(){dg.u.Ee.call(this);this.ri&&(this.A.w?setTimeout(this.ym.bind(this),0):this.ym(),this.gp?(m.g.j.Oa(this.Kc,"blocklyInvalidInput"),m.g.Z.Xa(this.Kc,"invalid",!1)):(m.g.j.Ba(this.Kc,"blocklyInvalidInput"),m.g.Z.Xa(this.Kc,"invalid",!0)))};
c.Zd=function(a){this.m=this.A.v;a=a||!1;!a&&(m.g.userAgent.cr||m.g.userAgent.Eh||m.g.userAgent.vg)?sg(this):(m.M.show(this,this.A.w,this.wq.bind(this)),this.Kc=this.Gk(),this.ri=!0,a||(this.Kc.focus(),this.Kc.select()))};function sg(a){m.prompt(m.h.CHANGE_VALUE_TITLE,a.ub(),function(b){a.setValue(b)})}
c.Gk=function(){var a=m.M.qa,b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.Qu);var d=11*this.m.scale+"pt";a.style.fontSize=d;b.style.fontSize=d;b.style.borderRadius=4*this.m.scale+"px";a.appendChild(b);b.value=b.defaultValue=String(this.Va);b.IA=this.Va;b.du=null;m.g.userAgent.dn?setTimeout(this.ym.bind(this),0):this.ym();this.Yj=m.L(b,"keydown",this,this.Ep);this.Gz=m.L(b,"input",this,this.Fz);return b};
c.wq=function(){this.ri=!1;this.gp=!0;Rb(this);this.Dz&&this.Dz(this.Va);m.oa(this.Yj);m.oa(this.Gz);var a=m.M.qa.style;a.width="auto";a.height="auto";a.fontSize=""};c.Ep=function(a){13==a.keyCode?(m.M.Ea(),rg()):27==a.keyCode?(this.Kc.value=this.Kc.defaultValue,m.M.Ea(),rg()):9==a.keyCode&&(m.M.Ea(),rg(),cg(this.A,this,!a.shiftKey),a.preventDefault())};c.Fz=function(){var a=this.Kc.value;a!==this.Kc.du&&(this.Kc.du=a,m.i.V(!0),this.setValue(a),Rb(this),m.i.V(!1))};
c.ym=function(){var a=m.M.qa,b=Vc(this);a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new q(this.A.w?b.right-a.offsetWidth:b.left,b.top);b.y+=1;m.g.userAgent.dn&&m.M.qa.style.top&&(--b.x,--b.y);m.g.userAgent.Fr&&(b.y-=3);a.style.left=b.x+"px";a.style.top=b.y+"px"};c.Ql=function(){return this.ri&&this.Kc?this.Kc.value:null};m.qc.register("field_input",dg);function tg(a,b){a=this.oc(a);null===a&&(a=0);tg.u.constructor.call(this,a,b)}g(tg,dg);tg.aa=function(a){return new tg(a.angle)};c=tg.prototype;c.Ne=!0;c.ue=function(){tg.u.ue.call(this);this.$u=m.g.j.C("tspan",{},null);this.$u.appendChild(document.createTextNode("\u00b0"));this.Eb.appendChild(this.$u)};c.Ee=function(){tg.u.Ee.call(this);ug(this)};
c.Zd=function(){tg.u.Zd.call(this,m.g.userAgent.cr||m.g.userAgent.Eh||m.g.userAgent.vg);var a=this.oo();fg.appendChild(a);a=Yf(this.A);a=a.il||a.On;hg.style.backgroundColor=this.A.Hf;hg.style.borderColor=a;ng(this,this.po.bind(this));ug(this)};
c.oo=function(){var a=m.g.j.C("svg",{xmlns:m.g.j.fe,"xmlns:html":m.g.j.ee,"xmlns:xlink":m.g.j.zc,version:"1.1",height:"100px",width:"100px"},null),b=m.g.j.C("circle",{cx:50,cy:50,r:49,"class":"blocklyAngleCircle"},a);this.Hl=m.g.j.C("path",{"class":"blocklyAngleGauge"},a);this.Pt=m.g.j.C("line",{x1:50,y1:50,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)m.g.j.C("line",{x1:99,y1:50,x2:99-(0==d%45?10:5),y2:50,"class":"blocklyAngleMarks",transform:"rotate("+d+",50,50)"},a);this.Ww=m.Hb(a,"click",
this,this.Ky);this.pz=m.Hb(b,"mousemove",this,this.ou);this.qz=m.Hb(this.Hl,"mousemove",this,this.ou);return a};c.po=function(){m.oa(this.Ww);m.oa(this.pz);m.oa(this.qz)};c.Ky=function(){Sc(this);m.M.Ea()};c.ou=function(a){var b=this.Hl.ownerSVGElement.getBoundingClientRect(),d=a.clientX-b.left-50;a=a.clientY-b.top-50;b=Math.atan(-a/d);isNaN(b)||(b=m.g.Nc.cv(b),0>d?b+=180:0<a&&(b+=360),b=360-(0-b),360<b&&(b-=360),vg(this,b))};
function vg(a,b){b=15*Math.round(b/15);360<b?b-=360:0>b&&(b+=360);b!=a.Va&&(a.Rd=!0,a.ri&&(a.Kc.value=String(b)),a.setValue(b))}
function ug(a){if(a.Hl){var b=Number(a.ub())+0;b=m.g.Nc.yk(b%360);var d=["M ",50,",",50],e=50,f=50;if(!isNaN(b)){var h=m.g.Nc.yk(0),k=49*Math.cos(h),l=-49*Math.sin(h);e+=49*Math.cos(b);f-=49*Math.sin(b);d.push(" l ",k,",",l," A ",49,",",49," 0 ",Math.abs(Math.floor((b-h)/Math.PI)%2)," ",Number(!1)," ",e,",",f," z")}a.Hl.setAttribute("d",d.join(""));a.Pt.setAttribute("x2",e);a.Pt.setAttribute("y2",f)}}
c.Ep=function(a){tg.u.Ep.call(this,a);var b;a.keyCode===wg?b=this.A.w?1:-1:a.keyCode===xg?b=this.A.w?-1:1:a.keyCode===qd?b=-1:a.keyCode===pd&&(b=1);b&&(vg(this,Number(this.getValue())+15*b),a.preventDefault(),a.stopPropagation())};c.oc=function(a){a=Number(a)%360;if(isNaN(a))return null;0>a&&(a+=360);360<a&&(a-=360);return a};m.qc.register("field_angle",tg);function yg(a,b,d){a=this.oc(a);null===a&&(a="FALSE");yg.u.constructor.call(this,a,b,d);this.lb.width=15;this.Sr=null;this.gj(d)}g(yg,Pc);yg.aa=function(a){return new yg(a.checked,null,a)};c=yg.prototype;c.Ne=!0;c.Pk="default";c.Rd=!1;c.gj=function(a){a&&a.checkCharacter&&(this.Sr=a.checkCharacter)};
c.ue=function(){yg.u.ue.call(this);this.Eb.setAttribute("x",2);this.Eb.setAttribute("y",14);m.g.j.Ba(this.Eb,"blocklyCheckbox");this.Ii.nodeValue=this.Sr||"\u2713";this.Eb.style.display=this.Va?"block":"none"};c.Zd=function(){this.setValue(!this.Va)};c.oc=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};c.Ve=function(a){this.Va=zg(a);this.Eb&&(this.Eb.style.display=this.Va?"block":"none")};c.getValue=function(){return this.Va?"TRUE":"FALSE"};c.ub=function(){return String(zg(this.Va))};
function zg(a){return"string"==typeof a?"TRUE"==a:!!a}m.qc.register("field_checkbox",yg);m.g.cb={};m.g.cb.parse=function(a){a=String(a).toLowerCase().trim();var b=m.g.cb.names[a];if(b)return b;b="#"==a[0]?a:"#"+a;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),b=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=b&&256>b&&0<=d&&256>d)?m.g.cb.Zp(a,b,d):null};
m.g.cb.Zp=function(a,b,d){b=a<<16|b<<8|d;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)};m.g.cb.vt=function(a){a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
m.g.cb.Ny=function(a){var b=m.Rq,d=255*m.Vv,e=0,f=0,h=0;if(0==b)h=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-b);var n=d*(1-b*l);b=d*(1-b*(1-l));switch(k){case 1:e=n;f=d;h=a;break;case 2:e=a;f=d;h=b;break;case 3:e=a;f=n;h=d;break;case 4:e=b;f=a;h=d;break;case 5:e=d;f=a;h=n;break;case 6:case 0:e=d,f=b,h=a}}return m.g.cb.Zp(Math.floor(e),Math.floor(f),Math.floor(h))};
m.g.cb.Gn=function(a,b,d){a=m.g.cb.vt(m.g.cb.parse(a));b=m.g.cb.vt(m.g.cb.parse(b));return m.g.cb.Zp(Math.round(b[0]+d*(a[0]-b[0])),Math.round(b[1]+d*(a[1]-b[1])),Math.round(b[2]+d*(a[2]-b[2])))};m.g.cb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function Ag(a,b,d){a=this.oc(a);null===a&&(a=Bg[0]);Ag.u.constructor.call(this,a,b,d);this.gj(d)}g(Ag,Pc);Ag.aa=function(a){return new Ag(a.colour,null,a)};c=Ag.prototype;c.Ne=!0;c.Pk="default";c.Rd=!1;c.Pn=null;c.bv=null;c.jl=0;c.Jv="#dadce0";c.Iv="white";c.gj=function(a){if(a){if(a.colourOptions){var b=a.colourTitles;this.Pn=a.colourOptions;b&&(this.bv=b)}a.columns&&this.setColumns(a.columns)}};c.ue=function(){this.lb=new sa(26,16);Qc(this);this.kd.style.fillOpacity=1;this.kd.style.fill=this.Va};
c.oc=function(a){return"string"!=typeof a?null:m.g.cb.parse(a)};c.Ve=function(a){this.Va=a;this.kd&&(this.kd.style.fill=a)};c.ub=function(){var a=this.Va;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};
var Bg="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Cg=
[];c=Ag.prototype;c.setColumns=function(a){this.jl=a;return this};c.Zd=function(){this.hh=this.oo();fg.appendChild(this.hh);var a=this.Jv;hg.style.backgroundColor=this.Iv;hg.style.borderColor=a;ng(this,this.po.bind(this));this.hh.focus()};c.mm=function(a){a=(a=a.target)&&a.label;null!==a&&(this.setValue(a),Sc(this))};
c.Gp=function(a){var b=!1;if(a.keyCode===pd)Dg(this,0,-1),b=!0;else if(a.keyCode===qd)Dg(this,0,1),b=!0;else if(a.keyCode===wg)Dg(this,-1,0),b=!0;else if(a.keyCode===xg)Dg(this,1,0),b=!0;else if(a.keyCode===od){if(b=Eg(this))b=b&&b.label,null!==b&&this.setValue(b);rg();b=!0}b&&a.stopPropagation()};c.dh=function(a){return a===m.navigation.Tm?(Dg(this,0,-1),!0):a===m.navigation.Rm?(Dg(this,0,1),!0):a===m.navigation.Sm?(Dg(this,-1,0),!0):a===m.navigation.Qm?(Dg(this,1,0),!0):Ag.u.dh.call(this,a)};
function Dg(a,b,d){var e=a.Pn||Bg,f=a.jl||7,h=a.rc%f,k=Math.floor(a.rc/f);h+=b;k+=d;0>b?0>h&&0<k?(h=f-1,k--):0>h&&(h=0):0<b?h>f-1&&k<Math.floor(e.length/f)-1?(h=0,k++):h>f-1&&h--:0>d?0>k&&(k=0):0<d&&k>Math.floor(e.length/f)-1&&(k=Math.floor(e.length/f)-1);Fg(a,a.hh.childNodes[k].childNodes[h],k*f+h)}c.Hp=function(a){var b=(a=a.target)&&a.getAttribute("data-index");null!==b&&b!==this.rc&&Fg(this,a,Number(b))};c.Lz=function(){this.hh.focus()};
c.Nz=function(){this.hh.blur();var a=Eg(this);a&&m.g.j.Oa(a,"blocklyColourHighlighted")};function Eg(a){var b=a.jl||7,d=a.hh.childNodes[Math.floor(a.rc/b)];return d?d.childNodes[a.rc%b]:null}function Fg(a,b,d){var e=Eg(a);e&&m.g.j.Oa(e,"blocklyColourHighlighted");m.g.j.Ba(b,"blocklyColourHighlighted");a.rc=d;m.g.Z.Xa(a.hh,"activedescendant",b.getAttribute("id"))}
c.oo=function(){var a=this.jl||7,b=this.Pn||Bg,d=this.bv||Cg,e=this.getValue(),f=document.createElement("table");f.className="blocklyColourTable";f.tabIndex=0;m.g.Z.ad(f,"grid");m.g.Z.Xa(f,"expanded",!0);m.g.Z.Xa(f,"rowcount",Math.floor(b.length/a));m.g.Z.Xa(f,"colcount",a);for(var h,k=Zc(),l=0;l<b.length;l++){0==l%a&&(h=document.createElement("tr"),m.g.Z.ad(h,"row"),f.appendChild(h));var n=document.createElement("td");h.appendChild(n);n.label=b[l];n.title=d[l]||b[l];n.id="blockly:"+(k.$t++).toString(36);
n.setAttribute("data-index",l);m.g.Z.ad(n,"gridcell");m.g.Z.Xa(n,"label",b[l]);m.g.Z.Xa(n,"selected",b[l]==e);n.style.backgroundColor=b[l];b[l]==e&&(n.className="blocklyColourSelected",this.rc=l)}this.Dp=m.L(f,"click",this,this.mm,!0);this.Zj=m.L(f,"mousemove",this,this.Hp,!0);this.Kz=m.L(f,"mouseenter",this,this.Lz,!0);this.Mz=m.L(f,"mouseleave",this,this.Nz,!0);this.Yj=m.L(f,"keydown",this,this.Gp);return f};c.po=function(){m.oa(this.Dp);m.oa(this.Zj);m.oa(this.Kz);m.oa(this.Mz);m.oa(this.Yj)};
m.qc.register("field_colour",Ag);function Gg(a,b){Gg.u.constructor.call(this,a,b)}g(Gg,Sf);Gg.aa=function(a){var b=m.g.Lb(a.text);return new Gg(b,a["class"])};Gg.prototype.Ld=!1;Gg.prototype.Ne=!0;m.qc.register("field_label_serializable",Gg);function Ld(a,b,d,e,f,h){this.A=null;if(!a)throw Error("Src value of an image field is required");if(isNaN(d)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");d=Number(d);b=Number(b);if(0>=d||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.Qy=d;this.lb=new sa(b,d+Hg);this.Zx=h||!1;this.Kr=e||"";this.setValue(a||"");"function"==typeof f&&(this.dl=f)}g(Ld,Pc);
Ld.aa=function(a){var b=m.g.Lb(a.src),d=Number(m.g.Lb(a.width)),e=Number(m.g.Lb(a.height)),f=m.g.Lb(a.alt);return new Ld(b,d,e,f,null,!!a.flipRtl)};var Hg=1;c=Ld.prototype;c.Ld=!1;c.Rd=!1;c.ue=function(){this.Fd=m.g.j.C("image",{height:this.Qy+"px",width:this.lb.width+"px",alt:this.Kr},this.pe);this.Fd.setAttributeNS(m.g.j.zc,"xlink:href",this.Va)};c.oc=function(a){return"string"!=typeof a?null:a};c.Ve=function(a){this.Va=a;this.Fd&&this.Fd.setAttributeNS(m.g.j.zc,"xlink:href",this.Va||"")};
c.Zd=function(){this.dl&&this.dl(this)};c.Ql=function(){return this.Kr};m.qc.register("field_image",Ld);function Ig(a,b,d,e,f){e=Number(e);this.um=isNaN(e)?0:e;e=this.um.toString();var h=e.indexOf(".");this.Vs=-1==h?-1:e.length-(h+1);b=Number(b);this.up=isNaN(b)?-Infinity:b;d=Number(d);this.tp=isNaN(d)?Infinity:d;this.setValue(this.getValue());a=this.oc(a);null===a&&(a=0);Ig.u.constructor.call(this,a,f)}g(Ig,dg);Ig.aa=function(a){return new Ig(a.value,a.min,a.max,a.precision)};Ig.prototype.Ne=!0;
Ig.prototype.oc=function(a){if(null===a||void 0===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.up),this.tp);this.um&&isFinite(a)&&(a=Math.round(a/this.um)*this.um);return a=-1==this.Vs?a:Number(a.toFixed(this.Vs))};Ig.prototype.Gk=function(){var a=Ig.u.Gk.call(this);-Infinity<this.up&&m.g.Z.Xa(a,"valuemin",this.up);Infinity>this.tp&&m.g.Z.Xa(a,"valuemax",this.tp);return a};m.qc.register("field_number",Ig);function Jg(a,b,d,e){this.Yg=Kg;this.lb=new sa(0,25);b&&(this.Km=b);this.Ax=a||"";a=e||"";if(null==d||void 0==d)d=null;else if(Array.isArray(d)){b=!1;for(e=0;e<d.length;e++)d[e]==a&&(b=!0);if(!b)throw Error("Invalid default type '"+a+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.zx=a;this.KA=d;this.Va=null}g(Jg,ud);Jg.aa=function(a){var b=m.g.Lb(a.variable);return new Jg(b,null,a.variableTypes,a.defaultType)};
c=Jg.prototype;c.m=null;c.Ne=!0;c.Ng=function(){if(!this.dd){var a=m.P.bt(this.m,null,this.Ax,this.zx);m.i.disable();this.setValue(a.va());m.i.enable()}};c.Ws=function(a){var b=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=m.P.bt(this.m,b,d,e);if(null!=e&&e!==b.type)throw Error("Serialized variable type with id '"+b.va()+"' had type "+b.type+", and does not match variable field that references it: "+m.I.pc(a)+".");this.setValue(b.va())};
c.zk=function(a){this.Ng();a.id=this.dd.va();a.textContent=this.dd.name;this.dd.type&&a.setAttribute("variabletype",this.dd.type);return a};c.lq=function(a){if(a.Ta)throw Error("Variable fields are not allowed to exist on shadow blocks.");Jg.u.lq.call(this,a);this.m=a.v};c.getValue=function(){return this.dd?this.dd.va():null};c.ub=function(){return this.dd?this.dd.name:""};c.Qd=function(){return this.dd};c.ht=function(){return this.dd?this.Km:null};
c.oc=function(a){var b=m.P.Qd(this.m,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;var d;a:if(d=Lg(this)){for(var e=0;e<d.length;e++)if(b==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};c.Ve=function(a){this.dd=m.P.Qd(this.m,a);Jg.u.Ve.call(this,a)};
function Lg(a){var b=a.KA;if(null===b&&a.m)return a.m.Jo();b=b||[""];if(0==b.length)throw a=a.ub(),Error("'variableTypes' of field variable "+a+" was an empty list");return b}
function Kg(){if(!this.dd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.ub(),b=[];if(this.m)for(var d=Lg(this),e=0;e<d.length;e++)b=b.concat(this.m.Bj(d[e]));b.sort(kf);d=[];for(e=0;e<b.length;e++)d[e]=[b[e].name,b[e].va()];d.push([m.h.RENAME_VARIABLE,m.pr]);m.h.DELETE_VARIABLE&&d.push([m.h.DELETE_VARIABLE.replace("%1",a),m.Mq]);return d}
c.ju=function(a){a=a.getValue();if(this.m){if(a==m.pr){m.P.Tp(this.m,this.dd);return}if(a==m.Mq){this.m.Eg(this.dd.va());return}}this.setValue(a)};c.wm=function(){return!0};m.qc.register("field_variable",Jg);function Wf(){this.vz="JavaScript"}c=Wf.prototype;c.Sk=null;c.Nh=null;c.Oh=null;c.Rk="  ";c.Dv=60;c.Zk=[];
function Mg(){var a=m.D,b=M;b||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),b=m.Gc());var d=[];a.ra(b);b=B(b,!0);for(var e=0,f;f=b[e];e++){var h=Ng(a,f);Array.isArray(h)&&(h=h[0]);h&&(f.J&&(h=a.Gu(h),a.Nh&&!f.tk&&(h=Og(a.Nh,f)+h),a.Oh&&!f.tk&&(h+=Og(a.Oh,f))),d.push(h))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");return d=d.replace(/[ \t]+\n/g,"\n")}function Pg(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)}
function Ng(a,b){if(!b)return"";if(!b.isEnabled())return Ng(a,w(b));var d=a[b.type];if("function"!=typeof d)throw Error('Language "'+a.vz+'" does not know how to generate  code for block type "'+b.type+'".');d=d.call(b,b);if(Array.isArray(d)){if(!b.J)throw TypeError("Expecting string from statement block: "+b.type);return[a.cq(b,d[0],void 0),d[1]]}if("string"==typeof d)return a.Nh&&!b.tk&&(d=Og(a.Nh,b)+d),a.Oh&&!b.tk&&(d+=Og(a.Oh,b)),a.cq(b,d,void 0);if(null===d)return"";throw SyntaxError("Invalid code generated: "+
d);}
function Qg(a,b,d){var e=m.D;if(isNaN(d))throw TypeError("Expecting valid order from block: "+a.type);var f=bg(a,b);if(!f)return"";b=Ng(e,f);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+f.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+f.type);if(!a)return"";f=!1;var h=Math.floor(d),k=Math.floor(b);if(h<=k&&(h!=k||0!=h&&99!=h))for(f=!0,h=0;h<e.Zk.length;h++)if(e.Zk[h][0]==d&&e.Zk[h][1]==b){f=!1;break}f&&(a=
"("+a+")");return a}function Rg(a,b){var d=m.D;a=bg(a,b);b=Ng(d,a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=Pg(b,d.Rk));return b}function Og(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")}c.qn="";function Sg(a){var b=m.D;b.qn+=a+","}c.ra=function(){};c.cq=function(a,b){return b};c.finish=function(a){return a};c.Gu=function(a){return a};function Tg(a){this.name=a};function N(a,b,d){if(!b)throw Error("Cannot create a node without a location.");this.Dk=a;a:{switch(a){case Ge:case Nb:case "input":case Ob:a=!0;break a}a=!1}this.Kj=a;this.ea=b;if(b=d||null)b.wsCoordinate?this.Oi=b.wsCoordinate:b.input&&(this.Vz=b.input)}var He="field",Fe="block",Ob="output",Nb="next",Ge="previous",K="stack",Ie="workspace";
function Ug(a){return a?a.type===m.Ha||a.type===m.ya&&a.te()?Vg(a.te()):a.type===m.ya?new N(Nb,a):a.type===m.hd?new N(Ob,a):a.type===m.jd?new N(Ge,a):null:null}function Vg(a){return a?new N("input",a.connection,{input:a}):null}function Wg(a){return new N(Fe,a)}function Jc(a,b){return new N(Ie,a,{wsCoordinate:b})}c=N.prototype;c.fc=function(){return this.Dk};c.te=function(){return this.Vz};
function Xg(a,b){a=a.ea;a instanceof Yb||(a=a.A);if(!a)return null;var d=nb(a);a=B(d.v,!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return b=e+(b?1:-1),-1==b||b==a.length?null:new N(K,a[b]);throw Error("Couldn't find "+(b?"next":"previous")+" stack?!?!?!");}function Yg(a){if(a.N)for(;a&&a.N&&a.N.ga&&y(a.N).T==a.N.ga;)a=y(a.N);var b=a.N||a.J;return b&&b.ga&&b.ga.te()?Vg(b.ga.te()):new N(K,a)}
c.next=function(){switch(this.Dk){case Ie:return Jc(this.ea,new q(this.Oi.x+10,this.Oi.y));case K:return Xg(this,!0);case Ob:return Wg(this.ea.A);case He:a:{var a=this.ea;var b=a.te();var d=a.A;a=b.Ma.indexOf(a)+1;for(var e=d.K.indexOf(b);b=d.K[e];e++){for(var f=b.Ma;a<f.length;){if(f[a].Ld){b=new N(He,f[a]);break a}a++}a=0;if(b.connection){b=Vg(b);break a}}b=null}return b;case "input":a:{d=this.ea.te();b=d.A;for(d=b.K.indexOf(d)+1;a=b.K[d];d++){e=a.Ma;f=0;for(var h;h=e[f];f++)if(h.Ld){b=new N(He,
h);break a}if(a.connection){b=Vg(a);break a}}b=null}return b;case Fe:if(b=this.ea.T)return Ug(b);break;case Ge:return Wg(this.ea.A);case Nb:if(b=this.ea.ga)return Ug(b)}return null};
c.Hj=function(){switch(this.Dk){case Ie:var a=B(this.ea,!0);if(0<a.length)return new N(K,a[0]);break;case K:a=this.ea;var b=a.N||a.J;return b?Ug(b):Wg(a);case Fe:a:{a=this.ea.K;b=0;for(var d;d=a[b];b++){for(var e=d.Ma,f=0,h;h=e[f];f++)if(h.Ld){a=new N(He,h);break a}if(d.connection){a=Vg(d);break a}}a=null}return a;case "input":if(a=this.ea.ga)return Ug(a)}return null};
c.Ai=function(){switch(this.Dk){case Ie:return Jc(this.ea,new q(this.Oi.x-10,this.Oi.y));case K:return Xg(this,!1);case He:a:{var a=this.ea;var b=a.te();var d=a.A;a=b.Ma.indexOf(a)-1;for(var e=d.K.indexOf(b),f;f=d.K[e];e--){if(f.connection&&f!==b){b=Vg(f);break a}for(f=f.Ma;-1<a;){if(f[a].Ld){b=new N(He,f[a]);break a}a--}0<=e-1&&(a=d.K[e-1].Ma.length-1)}b=null}return b;case "input":a:{b=this.ea.te();d=b.A;for(a=d.K.indexOf(b);e=d.K[a];a--){if(e.connection&&e!==b){b=Vg(e);break a}e=e.Ma;f=e.length-
1;for(var h;h=e[f];f--)if(h.Ld){b=new N(He,h);break a}}b=null}return b;case Fe:b=this.ea.J;if(b=this.ea.N||b)return Ug(b);break;case Ge:if(b=this.ea.ga)return Ug(b);break;case Nb:return Wg(this.ea.A)}return null};c.ak=function(){switch(this.Dk){case K:var a=this.ea.ta();return Jc(this.ea.v,new q(a.x,a.y+-20));case Ob:return(a=this.ea.ga)?Ug(a):new N(K,this.ea.A);case He:return Wg(this.ea.A);case "input":return Wg(this.ea.A);case Fe:return Yg(this.ea);case Ge:return Yg(this.ea.A);case Nb:return Yg(this.ea.A)}return null};var od=13,wg=37,pd=38,xg=39,qd=40;m.ib={};m.ib.fb={};m.ib.fb.Vg={};m.ib.fb.iz=["Shift","Control","Alt","Meta"];m.ib.fb.sC=function(a,b){var d=m.ib.fb.sy(b);d&&delete m.ib.fb.Vg[d];m.ib.fb.Vg[a]=b};m.ib.fb.kA=function(a){m.ib.fb.Vg=a};m.ib.fb.bC=function(){return Object.assign({},m.ib.fb.Vg)};m.ib.fb.ey=function(a){return m.ib.fb.Vg[a]};m.ib.fb.sy=function(a){for(var b=Object.keys(m.ib.fb.Vg),d=0,e;e=b[d];d++)if(m.ib.fb.Vg[e].name===a.name)return e;return null};
m.ib.fb.iA=function(a){for(var b=m.ib.fb.iz,d="",e=0,f;f=b[e];e++)a.getModifierState(f)&&(d+=f);return d+=a.keyCode};m.ib.fb.kx=function(){var a={};a[87]=m.navigation.Tm;a[65]=m.navigation.Sm;a[83]=m.navigation.Rm;a[68]=m.navigation.Qm;a[73]=m.navigation.wv;a[od]=m.navigation.xv;a[88]=m.navigation.vv;a[84]=m.navigation.yv;a[69]=m.navigation.Pm;a[27]=m.navigation.Pm;return a};m.navigation={};m.navigation.Cb=null;m.navigation.dg=null;m.navigation.Dc=null;m.navigation.qe=null;m.navigation.ui=null;m.navigation.wr=1;m.navigation.zn=2;m.navigation.xr=3;m.navigation.Zh=m.navigation.zn;m.navigation.Ju=function(a){m.navigation.Cb=a};m.navigation.lA=function(a){m.navigation.dg=a};m.navigation.qp=function(){E(m.navigation.dg,m.navigation.Cb.Za)};m.navigation.Zz=function(){E(m.navigation.dg,null);m.navigation.dg.Ea()};
m.navigation.gt=function(a){var b=a.N,d=a.J;return(b=b?b:d)?Ug(b):Wg(a)};m.navigation.Ts=function(){m.navigation.Cu(!1);m.navigation.Zh=m.navigation.xr;var a=m.Gc(),b=a.W;m.navigation.dg.Za||m.navigation.qp();a&&!m.navigation.Dc&&(m.navigation.Dc=b.vc.Xx);Mf(b.vc,m.navigation.Dc)};m.navigation.wz=function(){if(m.navigation.Dc){var a=Zg(m.navigation.Dc);a&&(a.select(),m.navigation.Dc=a)}};m.navigation.Wz=function(){if(m.navigation.Dc){var a=$g(m.navigation.Dc);a&&(a.select(),m.navigation.Dc=a)}};
m.navigation.Ty=function(){if(m.navigation.Dc){var a=m.navigation.Dc;ed(a)?a.Fc()?(I(a,0).select(),m.navigation.Dc=I(a,0)):a.Yd(!0):m.navigation.Ss()}};m.navigation.Uz=function(){if(m.navigation.Dc){var a=m.navigation.Dc;if(ed(a)&&a.Fc()&&a.cm)a.Yd(!1);else{var b=a.getParent();a=a.Cd();b&&b!=a&&(b.select(),m.navigation.Dc=b)}}};
m.navigation.Ss=function(){m.navigation.Zh=m.navigation.wr;var a=m.Gc();var b=a.W,d=m.navigation.Cb;a=b?b.H:Ff(a);m.navigation.dg.Za||m.navigation.qp();a&&a.Qf()&&(a=B(a.Qf()),0<a.length&&(a=a[0],m.navigation.qe=a,a=Wg(m.navigation.qe),E(d,a)))};m.navigation.gA=function(){if(m.navigation.qe){var a=m.navigation.at(),b=a.indexOf(m.navigation.qe),d=m.navigation.Cb,e;-1<b&&a[++b]&&(e=a[b]);e&&(m.navigation.qe=e,a=Wg(e),E(d,a))}};
m.navigation.hA=function(){if(m.navigation.qe){var a=m.navigation.at(),b=a.indexOf(m.navigation.qe),d=m.navigation.Cb,e;-1<b&&a[--b]&&(e=a[b]);e&&(m.navigation.qe=e,a=Wg(e),E(d,a))}};m.navigation.at=function(){var a=m.Gc(),b=a.W,d=[];(a=b?b.H:Ff(a))&&a.Qf()&&(d=B(a.Qf()));return d};
m.navigation.Yy=function(){var a=Ff(m.Gc());a&&a.isVisible()?(a=Ec(a,m.navigation.qe),a.ka(),Za(a,!1),E(m.navigation.Cb,Wg(a)),m.navigation.modify()||m.navigation.warn("Something went wrong while inserting a block from the flyout."),m.navigation.Fl(),E(m.navigation.Cb,m.navigation.gt(a)),m.navigation.Zz()):m.navigation.warn("Trying to insert from the flyout when the flyout does not  exist or is not visible")};m.navigation.Cu=function(a){var b=m.navigation.Cb;m.navigation.qe=null;b.Ea();a&&Ff(b.m).Ea()};
m.navigation.modify=function(){var a=m.navigation.dg.Za,b=m.navigation.Cb.Za;if(!a)return m.navigation.warn("Cannot insert with no marked node."),!1;if(!b)return m.navigation.warn("Cannot insert with no cursor node."),!1;var d=a.fc(),e=b.fc();if(d==He)return m.navigation.warn("Should not have been able to mark a field."),!1;if(d==Fe)return m.navigation.warn("Should not have been able to mark a block."),!1;if(d==K)return m.navigation.warn("Should not have been able to mark a stack."),!1;if(e==He)return m.navigation.warn("Cannot attach a field to anything else."),
!1;if(e==Ie)return m.navigation.warn("Cannot attach a workspace to anything else."),!1;var f=b.ea,h=a.ea;if(a.Kj){if(b.Kj)return m.navigation.connect(f,h);if(e==Fe||e==K)return m.navigation.Ft(f,h)}else if(d==Ie){if(b.Kj){if("input"==e||e==Nb)return m.navigation.warn("Cannot move a next or input connection to the workspace."),!1;b=f.A}else if(e==Fe||e==K)b=f;else return!1;if(b.Ta)return m.navigation.warn("Cannot move a shadow block to the workspace."),!1;b.getParent()&&Na(b,!1);b.moveTo(a.Oi);return!0}m.navigation.warn("Unexpected state in Blockly.navigation.modify.");
return!1};m.navigation.Jx=function(a,b){var d=a.A,e=b.A;nb(d)==nb(e)&&(-1<t(d).indexOf(e)?m.navigation.Ll(b).disconnect():m.navigation.Ll(a).disconnect())};m.navigation.Zg=function(a,b){if(!a||!b)return!1;var d=a.A;return 0==ib(b,a)?(m.navigation.Jx(a,b),D(b)||a.type!=m.ya&&a.type!=m.Ha||nb(d).moveBy(b.mb-a.mb,b.Ga-a.Ga),b.connect(a),!0):!1};m.navigation.Ll=function(a){var b=a.A;return D(a)?b.N?b.N:b.J?b.J:null:a};m.navigation.ft=function(a){return D(a)?a:a.ga?a.ga:null};
m.navigation.connect=function(a,b){if(!a||!b)return!1;var d=m.navigation.Ll(a),e=m.navigation.ft(b),f=m.navigation.ft(a),h=m.navigation.Ll(b);if(d&&e&&m.navigation.Zg(d,e)||f&&h&&m.navigation.Zg(f,h)||m.navigation.Zg(a,b))return!0;try{jb(b,a)}catch(k){m.navigation.warn("Connection failed with error: "+k)}return!1};
m.navigation.Ft=function(a,b){switch(b.type){case m.jd:if(m.navigation.Zg(a.T,b))return!0;break;case m.ya:if(m.navigation.Zg(a.N,b))return!0;break;case m.Ha:if(m.navigation.Zg(a.J,b))return!0;break;case m.hd:for(var d=0;d<a.K.length;d++){var e=a.K[d].connection;if(e.type===m.Ha&&m.navigation.Zg(e,b))return!0}}m.navigation.warn("This block can not be inserted at the marked location.");return!1};
m.navigation.Ix=function(){var a=m.navigation.Cb.Za;if(a.Kj){var b=a.ea;b.isConnected()?(a=D(b)?b:b.ga,b=D(b)?b.ga:b,b.A.Ta?m.navigation.log("Cannot disconnect a shadow block"):(a.disconnect(),fb(b,a),Jb(nb(a.A)),a=Ug(a),E(m.navigation.Cb,a))):m.navigation.log("Cannot disconnect unconnected connection")}else m.navigation.log("Cannot disconnect blocks when the cursor is not on a connection")};
m.navigation.Fl=function(){var a=m.navigation.Cb;m.navigation.Cu(m.Gc().W?!0:!1);m.navigation.Zh=m.navigation.zn;m.navigation.Qx();if(m.selected)E(a,m.navigation.gt(m.selected)),m.selected.zf();else{var b=Jc(a.m,new q(100,100));E(a,b)}};m.navigation.yy=function(){var a=m.navigation.Cb.Za,b=a.fc();b===He?a.ea.Zd():a.Kj||b==Ie?m.navigation.qp():b==Fe?m.navigation.warn("Cannot mark a block."):b==K&&m.navigation.warn("Cannot mark a stack.")};
m.navigation.dt=function(a){return a?a.fc()===Fe?a.ea:a.fc()===Ie||a.fc()===K?null:a.ea.A:null};m.navigation.Xt=function(a){var b=m.navigation.Cb;if(b){var d=m.navigation.dt(b.Za);d===a?d.getParent()?(a=d.N?d.N:d.J)&&E(b,Ug(a.ga)):E(b,Jc(d.v,d.ta())):-1<a.Ze().indexOf(d)&&E(b,Jc(d.v,d.ta()))}};m.navigation.oz=function(a){var b=m.navigation.Cb;if(b){var d=m.navigation.dt(b.Za);d===a&&E(b,Wg(d))}};
m.navigation.ku=function(a){a=m.ib.fb.iA(a);a=m.ib.fb.ey(a);var b=m.navigation.Cb.Za,d=m.Gc().options.readOnly,e=!1;a&&(d?-1<m.navigation.kw.indexOf(a)&&(e=m.navigation.dh(a)):(b&&b.fc()===He&&(e=b.ea.dh(a)),e||(e=m.navigation.dh(a))));return e};m.navigation.dh=function(a){return m.navigation.Zh===m.navigation.zn?m.navigation.OA(a):m.navigation.Zh===m.navigation.wr?m.navigation.$x(a):m.navigation.Zh===m.navigation.xr?m.navigation.CA(a):!1};
m.navigation.OA=function(a){switch(a.name){case "previous":return m.navigation.Cb.Ai(),!0;case "out":return m.navigation.Cb.ak(),!0;case "next":return m.navigation.Cb.next(),!0;case "in":return m.navigation.Cb.Hj(),!0;case "insert":return m.navigation.modify(),!0;case "mark":return m.navigation.yy(),!0;case "disconnect":return m.navigation.Ix(),!0;case "toolbox":return m.Gc().W?m.navigation.Ts():m.navigation.Ss(),!0;default:return!1}};
m.navigation.$x=function(a){switch(a.name){case "previous":return m.navigation.hA(),!0;case "out":return m.navigation.Ts(),!0;case "next":return m.navigation.gA(),!0;case "mark":return m.navigation.Yy(),!0;case "exit":return m.navigation.Fl(),!0;default:return!1}};
m.navigation.CA=function(a){switch(a.name){case "previous":return m.navigation.Wz(),!0;case "out":return m.navigation.Uz(),!0;case "next":return m.navigation.wz(),!0;case "in":return m.navigation.Ty(),!0;case "exit":return m.navigation.Fl(),!0;default:return!1}};m.navigation.Qx=function(){m.ze=!0};m.navigation.SB=function(){m.ze=!1};m.navigation.log=function(a){m.navigation.ui?m.navigation.ui("log",a):console.log(a)};m.navigation.warn=function(a){m.navigation.ui?m.navigation.ui("warn",a):console.warn(a)};
m.navigation.error=function(a){m.navigation.ui?m.navigation.ui("error",a):console.error(a)};m.navigation.Tm=new Tg("previous");m.navigation.Sm=new Tg("out");m.navigation.Rm=new Tg("next");m.navigation.Qm=new Tg("in");m.navigation.wv=new Tg("insert");m.navigation.xv=new Tg("mark");m.navigation.vv=new Tg("disconnect");m.navigation.yv=new Tg("toolbox");m.navigation.Pm=new Tg("exit");m.navigation.kw=[m.navigation.Tm,m.navigation.Sm,m.navigation.Qm,m.navigation.Rm];function ah(){var a=m.D.qn;this.mv="";this.Bu=Object.create(null);if(a){a=a.split(",");for(var b=0;b<a.length;b++)this.Bu[a[b]]=!0}this.reset()}ah.prototype.reset=function(){this.Od=Object.create(null);this.ys=Object.create(null);this.Aa=null};
ah.prototype.getName=function(a,b){if(b==m.P.wg){var d=a;this.Aa?d=(d=this.Aa.af(d))?d.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),d=null);d&&(a=d)}d=a.toLowerCase()+"_"+b;var e=b==m.P.wg||"DEVELOPER_VARIABLE"==b?this.mv:"";if(d in this.Od)return e+this.Od[d];a=bh(this,a,b);this.Od[d]=
a.substr(e.length);return a};function bh(a,b,d){b?(b=encodeURI(b.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(b[0])&&(b="my_"+b)):b=m.h.UNNAMED_KEY||"unnamed";for(var e="";a.ys[b+e]||b+e in a.Bu;)e=e?e+1:2;b+=e;a.ys[b]=!0;return(d==m.P.wg||"DEVELOPER_VARIABLE"==d?a.mv:"")+b};m.pb={};m.pb.wg=m.nr;m.pb.zw=function(a){a=F(a,!1);for(var b=[],d=[],e=0;e<a.length;e++)if(a[e].Hg){var f=a[e].Hg();f&&(f[2]?b.push(f):d.push(f))}d.sort(m.pb.wu);b.sort(m.pb.wu);return[d,b]};m.pb.wu=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};m.pb.Vx=function(a,b){if(b.Lc)return a;for(a=a||m.h.UNNAMED_KEY||"unnamed";!m.pb.$y(a,b.v,b);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};m.pb.$y=function(a,b,d){return!m.pb.bz(a,b,d)};
m.pb.bz=function(a,b,d){b=F(b,!1);for(var e=0;e<b.length;e++)if(b[e]!=d&&b[e].Hg&&b[e].Hg()[0].toLowerCase()==a.toLowerCase())return!0;return!1};m.pb.pC=function(a){a=a.trim();var b=m.pb.Vx(a,this.A),d=this.getValue();if(d!=a&&d!=b){a=F(this.A.v,!1);for(var e=0;e<a.length;e++)a[e].aA&&a[e].aA(d,b)}return b};
m.pb.Of=function(a){function b(h,k){for(var l=0;l<h.length;l++){var n=h[l][0],p=h[l][1],r=m.g.xml.createElement("block");r.setAttribute("type",k);r.setAttribute("gap",16);var u=m.g.xml.createElement("mutation");u.setAttribute("name",n);r.appendChild(u);for(n=0;n<p.length;n++){var v=m.g.xml.createElement("arg");v.setAttribute("name",p[n]);u.appendChild(v)}d.push(r)}}var d=[];if(m.ob.procedures_defnoreturn){var e=m.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=m.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(m.g.xml.createTextNode(m.h.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}m.ob.procedures_defreturn&&(e=m.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=m.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(m.g.xml.createTextNode(m.h.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));m.ob.procedures_ifreturn&&(e=m.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=m.pb.zw(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return d};m.pb.jy=function(a,b){var d=[];b=F(b,!1);for(var e=0;e<b.length;e++)if(b[e].ty){var f=b[e].ty();f&&f.toLowerCase()==a.toLowerCase()&&d.push(b[e])}return d};
m.pb.kC=function(a){var b=m.i.jc,d=a.Hg()[0],e=a.Zc(!0);a=m.pb.jy(d,a.v);d=0;for(var f;f=a[d];d++){var h=f.Zc();h=h&&m.I.pc(h);f.We(e);var k=f.Zc();k=k&&m.I.pc(k);h!=k&&(m.i.jc=!1,m.i.$(new m.i.ce(f,"mutation",null,h,k)),m.i.jc=b)}};m.pb.$B=function(a,b){b=B(b,!1);for(var d=0;d<b.length;d++)if(b[d].Hg){var e=b[d].Hg();if(e&&e[0].toLowerCase()==a.toLowerCase())return b[d]}return null};function ch(a,b,d,e){this.m=a;this.wa=b;this.Ob=d.getAttribute("text");this.tc=new q(0,0);this.Xf=e;this.cl=d.getAttribute("callbackKey")||d.getAttribute("callbackkey");this.us=d.getAttribute("web-class")||null}c=ch.prototype;c.width=0;c.height=0;c.eh=null;
c.Ia=function(){var a=this.Xf?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.us&&(a+=" "+this.us);this.B=m.g.j.C("g",{"class":a},this.m.Pa);if(!this.Xf)var b=m.g.j.C("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.B);a=m.g.j.C("rect",{"class":this.Xf?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.B);var d=m.g.j.C("text",{"class":this.Xf?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.B);d.textContent=m.g.Lb(this.Ob);
this.width=m.g.j.Pl(d);this.height=20;this.Xf||(this.width+=10,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);d.setAttribute("x",this.width/2);d.setAttribute("y",this.height-5);dh(this);this.eh=m.L(this.B,"mouseup",this,this.Sz);return this.B};c.show=function(){dh(this);this.B.setAttribute("display","block")};function dh(a){a.B.setAttribute("transform","translate("+a.tc.x+","+a.tc.y+")")}
c.moveTo=function(a,b){this.tc.x=a;this.tc.y=b;dh(this)};c.G=function(){this.eh&&m.oa(this.eh);this.B&&(m.g.j.removeNode(this.B),this.B=null);this.wa=this.m=null};c.Sz=function(a){(a=this.wa.se(a))&&a.cancel();this.Xf&&this.cl?console.warn("Labels should not have callbacks. Label text: "+this.Ob):this.Xf||this.cl&&Pf(this.wa,this.cl)?this.Xf||Pf(this.wa,this.cl)(this):console.warn("Buttons should have callbacks. Button text: "+this.Ob)};function eh(a){a.tb=this.$e.bind(this);a.qf=this.Dm.bind(this);this.m=new wf(a);this.m.we=!0;this.w=!!a.w;this.bd=a.na;this.qo=[];this.gm=[];this.bj=[];this.Mc=[];this.Np=[]}c=eh.prototype;c.Rh=!0;c.$f=!1;c.Cg=!0;c.X=8;c.vd=eh.prototype.X;c.Rv=3*eh.prototype.vd;c.Sv=3*eh.prototype.vd;c.xg=2;c.pa=0;c.Da=0;c.Ls=70;
c.Ia=function(a){this.B=m.g.j.C(a,{"class":"blocklyFlyout",style:"display: none"},null);this.sd=m.g.j.C("path",{"class":"blocklyFlyoutBackground"},this.B);this.B.appendChild(this.m.Ia());return this.B};
c.ra=function(a){this.wa=a;this.m.wh=a;this.Db=new Oe(this.m,this.Ed,!1,"blocklyFlyoutScrollbar");this.Ea();Array.prototype.push.apply(this.qo,m.L(this.B,"wheel",this,this.qv));this.Rh||(this.Dl=this.to.bind(this),this.wa.Ac(this.Dl));Array.prototype.push.apply(this.qo,m.L(this.sd,"mousedown",this,this.fg));this.m.se=this.wa.se.bind(this.wa);this.m.Aa=this.wa.Aa;a=this.m;a.hg=new Pb(a)};
c.G=function(){this.Ea();m.oa(this.qo);this.Dl&&(this.wa.jh(this.Dl),this.Dl=null);this.Db&&(this.Db.G(),this.Db=null);this.m&&(this.m.wh=null,this.m.G(),this.m=null);this.B&&(m.g.j.removeNode(this.B),this.B=null);this.wa=this.sd=null};c.Hc=function(){return this.pa};c.yj=function(){return this.Da};c.Qf=function(){return this.m};c.isVisible=function(){return this.$f};c.Ua=function(a){var b=a!=this.isVisible();this.$f=a;b&&this.Ek()};c.nh=function(a){var b=a!=this.Cg;this.Cg=a;b&&this.Ek()};
c.Ek=function(){var a=this.Cg?this.isVisible():!1;this.B.style.display=a?"block":"none";this.Db.nh(a)};function fh(a,b,d,e,f){a.B.setAttribute("width",b);a.B.setAttribute("height",d);"svg"==a.B.tagName?m.g.j.ik(a.B,"translate("+e+"px,"+f+"px)"):a.B.setAttribute("transform","translate("+e+","+f+")");a.Db&&(a.Db.Jp=new q(e,f),a.Db.resize(),Ue(a.Db,a.Db.tc.x,a.Db.tc.y))}
c.Ea=function(){if(this.isVisible()){this.Ua(!1);for(var a=0,b;b=this.Mc[a];a++)m.oa(b);this.Mc.length=0;this.jg&&(this.m.jh(this.jg),this.jg=null)}};
c.show=function(a){this.m.$b(!1);this.Ea();gh(this);if("string"==typeof a){a=this.m.wh.uq[a]||null;if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.m.wh);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.Ua(!0);var b=[],d=[];this.Np.length=0;for(var e=this.Ed?this.Rv:this.Sv,f=0,h;h=a[f];f++)if(h.tagName)switch(h.tagName.toUpperCase()){case "BLOCK":var k=m.I.ai(h,this.m);k.isEnabled()||
this.Np.push(k);b.push({type:"block",block:k});h=parseInt(h.getAttribute("gap"),10);d.push(isNaN(h)?e:h);break;case "SEP":h=parseInt(h.getAttribute("gap"),10);!isNaN(h)&&0<d.length?d[d.length-1]=h:d.push(e);break;case "LABEL":case "BUTTON":h=new ch(this.m,this.wa,h,"LABEL"==h.tagName.toUpperCase()),b.push({type:"button",button:h}),d.push(e)}this.Nt(b,d);this.Mc.push(m.L(this.sd,"mouseover",this,function(){for(var l=B(this.m,!1),n=0,p;p=l[n];n++)p.kh()}));this.Ed?this.Da=0:this.pa=0;this.m.$b(!0);
this.Rp();this.to();this.position();this.jg=this.Rp.bind(this);this.m.Ac(this.jg)};function gh(a){for(var b=B(a.m,!1),d=0,e;e=b[d];d++)e.v==a.m&&e.G(!1,!1);for(d=0;d<a.gm.length;d++)(b=a.gm[d])&&m.g.j.removeNode(b);for(d=a.gm.length=0;b=a.bj[d];d++)b.G();a.bj.length=0;a.m.hg.clear()}
function hh(a,b,d,e){a.Mc.push(m.L(b,"mousedown",null,ih(a,d)));a.Mc.push(m.L(e,"mousedown",null,ih(a,d)));a.Mc.push(m.Hb(b,"mouseover",d,d.Ph));a.Mc.push(m.Hb(b,"mouseout",d,d.kh));a.Mc.push(m.Hb(e,"mouseover",d,d.Ph));a.Mc.push(m.Hb(e,"mouseout",d,d.kh))}function ih(a,b){return function(d){var e=a.wa.se(d);e&&(Mc(e,b),Lc(e,d,a))}}c.fg=function(a){var b=this.wa.se(a);b&&Lc(b,a,this)};c.Ht=function(a){return a.isEnabled()};
function Ec(a,b){var d=null;m.i.disable();var e=a.wa.Ye();a.wa.$b(!1);try{var f=a.wa;if(!b.S())throw Error("oldBlock is not rendered.");var h=m.I.Gf(b,!0);f.$b(!1);var k=m.I.ai(h,f);if(!k.S())throw Error("block is not rendered.");var l=m.g.Aj(f.Pa),n=m.g.Aj(a.m.Pa),p=b.ta();p.scale(a.m.scale);var r=qa(ra(n,p),l);r.scale(1/f.scale);k.moveBy(r.x,r.y);d=k;m.Tb()}finally{m.i.enable()}b=m.P.Ys(a.wa,e);if(m.i.isEnabled())for(m.i.V(!0),m.i.$(new va(d)),e=0;e<b.length;e++)m.i.$(new za(b[e]));a.Rh?a.Ea():
a.to();return d}function jh(a,b,d,e){var f=b.Ia();b.moveTo(d,e);b.show();a.Mc.push(m.L(f,"mousedown",a,a.fg));a.bj.push(b)}function kh(a,b,d,e,f,h){d=m.g.j.C("rect",{"fill-opacity":0,x:d,y:e,height:f.height,width:f.width},null);d.$d=b;m.F.Sh(d);a.m.Pa.insertBefore(d,b.S());b.El=d;return a.gm[h]=d}function lh(a,b,d){var e=d.Sb();b.setAttribute("width",e.width);b.setAttribute("height",e.height);d=d.ta();b.setAttribute("y",d.y);b.setAttribute("x",a.w?d.x-e.width:d.x)}
c.to=function(){for(var a=B(this.m,!1),b=0,d;d=a[b];b++)if(-1==this.Np.indexOf(d))for(var e=$b(this.wa,m.g.Bo(d));d;)d.Fe(e),d=w(d)};c.Rp=function(){this.jg&&this.m.jh(this.jg);this.zu();this.jg&&this.m.Ac(this.jg)};function Cc(a){return a.Db?a.Db.isVisible():!1};function ff(a){a.tb=this.$e.bind(this);a.qf=this.Dm.bind(this);ff.u.constructor.call(this,a);this.Ed=!0}g(ff,eh);c=ff.prototype;c.$e=function(){if(!this.isVisible())return null;try{var a=this.m.Pa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.xg,d=this.xg;this.bd==m.Ef&&(b=0);var e=this.Da;this.bd==m.yc&&(e-=this.xg);return{Qa:e,Ka:this.pa-2*this.xg,Cc:(a.height+2*this.vd)*this.m.scale,Vc:(a.width+2*this.vd)*this.m.scale,wb:-this.m.scrollY,jb:-this.m.scrollX,Rb:0,ec:0,rb:b,qb:d}};
c.Dm=function(a){var b=this.$e();b&&("number"==typeof a.x&&(this.m.scrollX=-b.Vc*a.x),this.m.translate(this.m.scrollX+b.qb,this.m.scrollY+b.rb))};c.position=function(){if(this.isVisible()){var a=this.wa.tb();a&&(this.pa=a.Ka,this.eq(a.Ka-2*this.X,this.Da-this.X),fh(this,this.pa,this.Da,0,this.wa.na==this.bd?a.dv?this.bd==m.yc?a.dv:a.Qa-this.Da:this.bd==m.yc?0:a.Qa:this.bd==m.yc?0:a.Qa+a.rb-this.Da))}};
c.eq=function(a,b){var d=this.bd==m.yc,e=["M 0,"+(d?0:this.X)];d?(e.push("h",a+2*this.X),e.push("v",b),e.push("a",this.X,this.X,0,0,1,-this.X,this.X),e.push("h",-1*a),e.push("a",this.X,this.X,0,0,1,-this.X,-this.X)):(e.push("a",this.X,this.X,0,0,1,this.X,-this.X),e.push("h",a),e.push("a",this.X,this.X,0,0,1,this.X,this.X),e.push("v",b),e.push("h",-a-2*this.X));e.push("z");this.sd.setAttribute("d",e.join(" "))};c.bq=function(){this.Db.set(this.w?Infinity:0)};
c.qv=function(a){var b=m.g.Ho(a),d=b.x||b.y;d&&(b=this.$e(),d=b.jb+d,d=Math.min(d,b.Vc-b.Ka),d=Math.max(d,0),this.Db.set(d),m.M.Ea());a.preventDefault();a.stopPropagation()};
c.Nt=function(a,b){this.m.scale=this.wa.scale;var d=this.vd,e=this.w?d:d+Xa;this.w&&(a=a.reverse());for(var f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=t(h,!1),l=0,n;n=k[l];l++)n.Lc=!0;h.ka();k=h.S();l=h.Sb();n=h.J?Xa:0;n=this.w?e+l.width:e+n;h.moveBy(n,d);n=kh(this,h,n,d,l,f);e+=l.width+b[f];hh(this,k,h,n)}else"button"==h.type&&(jh(this,h.button,e,d),e+=h.button.width+b[f])};c.It=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Ls;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
c.di=function(){if(!this.B)return null;var a=this.B.getBoundingClientRect(),b=a.top;return this.bd==m.yc?new pc(-1E9,b+a.height,-1E9,1E9):new pc(b,-1E9,-1E9,1E9)};c.zu=function(){this.m.scale=this.wa.scale;for(var a=0,b=B(this.m,!1),d=0,e;e=b[d];d++)a=Math.max(a,e.Sb().height);a+=1.5*this.vd;a*=this.m.scale;a+=H;if(this.Da!=a){for(d=0;e=b[d];d++)e.El&&lh(this,e.El,e);this.Da=a;this.position()}};m.xh={};function mh(a,b){$c.call(this);this.La=b;this.Wc=a;this.uj=this.Bm=!1;this.BA=null;this.cm=!0;this.Un=-1}g(mh,$c);var nh={};c=mh.prototype;c.rj=function(){mh.u.rj.call(this);this.xh&&(this.xh=null);this.Ca=null};
c.Vl=function(){var a=this.ca();if(a){var b=oh(this);b&&!b.id&&(b.id=this.va()+".label");m.g.Z.ad(a,"treeitem");m.g.Z.Xa(a,"selected",!1);m.g.Z.Xa(a,"level",this.gi());b&&m.g.Z.Xa(a,"labelledby",b.id);(b=this.Fo())&&m.g.Z.ad(b,"presentation");(b=this.Eo())&&m.g.Z.ad(b,"presentation");if(b=ph(this))if(m.g.Z.ad(b,"group"),b.hasChildNodes())for(m.g.Z.Xa(a,"expanded",!1),a=cd(this),b=1;b<=a;b++){var d=I(this,b-1).ca();m.g.Z.Xa(d,"setsize",a);m.g.Z.Xa(d,"posinset",b)}}};
c.Ia=function(){var a=document.createElement("div");a.appendChild(qh(this));this.Ca=a};c.Pd=function(){mh.u.Pd.call(this);nh[this.va()]=this;this.Vl()};c.Xe=function(){mh.u.Xe.call(this);delete nh[this.va()]};
c.Xi=function(a,b){var d=I(this,b-1),e=I(this,b);mh.u.Xi.call(this,a,b);a.Bi=d;a.xp=e;d?d.xp=a:this.Xx=a;e&&(e.Bi=a);(b=this.Cd())&&rh(a,b);sh(a,this.gi()+1);if(b=this.ca())if(this.Im(),m.g.Z.Xa(b,"expanded",this.Fc()),this.Fc()){b=ph(this);a.ca()||a.Ia();var f=a.ca(),h=e&&e.ca();b.insertBefore(f,h);this.Ub&&a.Pd();e||(d?d.Im():(m.g.style.hq(b,!0),this.Yd(this.Fc())))}};c.add=function(a,b){a.getParent()&&a.getParent().removeChild(a);this.Xi(a,b?this.sb&&b?this.sb.indexOf(b):-1:cd(this));return a};
c.Cd=function(){return null};c.gi=function(){var a=this.Un;0>a&&(a=(a=this.getParent())?a.gi()+1:0,sh(this,a));return a};function sh(a,b){if(b!=a.Un){a.Un=b;var d=th(a);if(d){var e=uh(a)+"px";a.Tg()?d.style.paddingRight=e:d.style.paddingLeft=e}bd(a,function(f){sh(f,b+1)})}}c.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};c.Ze=function(){var a=[];bd(this,function(b){a.push(b)});return a};c.select=function(){var a=this.Cd();a&&Mf(a,this)};
function vh(a,b){if(a.Bm!=b){a.Bm=b;wh(a);var d=a.ca();d&&(m.g.Z.Xa(d,"selected",b),b&&(b=a.Cd().ca(),m.g.Z.Xa(b,"activedescendant",a.va())))}}c.Fc=function(){return this.uj};
c.Yd=function(a){var b=a!=this.uj,d;this.uj=a;var e=this.Cd(),f=this.ca();if(ed(this)){if(!a&&e&&this.contains(e.qd)&&this.select(),f){if(d=ph(this))m.g.style.hq(d,a),m.g.Z.Xa(f,"expanded",a),a&&this.Ub&&!d.hasChildNodes()&&(bd(this,function(h){d.appendChild(qh(h))}),bd(this,function(h){h.Pd()}));this.Im()}}else(d=ph(this))&&m.g.style.hq(d,!1);f&&(this.Fo().className=this.Jl());b&&(a?this.Js():this.Is())};c.Js=function(){};c.Is=function(){};c.toggle=function(){this.Yd(!this.Fc())};c.expand=function(){this.Yd(!0)};
c.collapse=function(){this.Yd(!1)};function qh(a){var b=a.La.NB,d=a.Fc()&&ed(a),e=document.createElement("div");e.setAttribute("class",b||"");e.setAttribute("style",xh(a));d&&bd(a,function(f){e.appendChild(qh(f))});b=document.createElement("div");b.setAttribute("class",a.La.tx||"");b.setAttribute("id",a.va());b.appendChild(yh(a));b.appendChild(e);return b}function uh(a){return Math.max(0,(a.gi()-1)*a.La.Bt)}
function yh(a){var b="padding-"+(a.Tg()?"right":"left")+":"+uh(a)+"px",d=document.createElement("div");d.setAttribute("class",a.Nl());d.setAttribute("style",b);d.appendChild(document.createElement("span"));d.appendChild(zh(a));d.appendChild(Ah(a));return d}c.Nl=function(){var a="";this.Bm&&(a=" "+(this.La.wx||""));return this.La.xs+a};function Ah(a){var b=document.createElement("span");b.setAttribute("class",a.La.ux||"");b.setAttribute("title",a.BA||"");b.textContent=a.ub();return b}
function zh(a){var b=document.createElement("span");b.setAttribute("style","display: inline-block;");b.setAttribute("class",a.Jl());return b}c.Jl=function(){throw Error("unimplemented abstract method");};function xh(a){var b=a.Fc()&&ed(a);return"background-position: "+Bh(a)+"; "+(b?"":"display: none")}function Bh(a){return(a.xp?(a.gi()-1)*a.La.Bt:"-100")+"px 0"}c.ca=function(){var a=mh.u.ca.call(this);a||(this.Ca=a=document.getElementById(this.va()));return a};
function th(a){return(a=a.ca())?a.firstChild:null}c.Eo=function(){var a=th(this);return a?a.firstChild:null};c.Fo=function(){var a=th(this);return a?a.childNodes[1]:null};function oh(a){return(a=th(a))&&a.lastChild?a.lastChild.previousSibling:null}function ph(a){return(a=a.ca())?a.lastChild:null}c.rf=function(a){this.Wc=a};c.ub=function(){return this.Wc};function wh(a){var b=th(a);b&&(b.className=a.Nl())}
c.Im=function(){var a=this.Eo();if(a){var b=this.La;var d=b.Yh+" "+b.OB+" ";d+=b.PB;a.className=d}if(a=ph(this))a.style.backgroundPosition=Bh(this)};c.lu=function(a){"expand"==a.target.getAttribute("type")&&ed(this)?this.cm&&this.toggle():(this.select(),wh(this))};c.mm=function(a){a.preventDefault()};
c.Fp=function(a){var b=!0;switch(a.keyCode){case xg:if(a.altKey)break;ed(this)&&(this.Fc()?I(this,0).select():this.Yd(!0));break;case wg:if(a.altKey)break;if(ed(this)&&this.Fc()&&this.cm)this.Yd(!1);else{var d=this.getParent(),e=this.Cd();d&&d!=e&&d.select()}break;case qd:(d=Zg(this))&&d.select();break;case pd:(d=$g(this))&&d.select();break;default:b=!1}b&&a.preventDefault();return b};function Ch(a){return a.Fc()&&ed(a)?Ch(I(a,cd(a)-1)):a}
function Zg(a){if(ed(a)&&a.Fc())return I(a,0);for(var b=a,d;b!=a.Cd();){d=b.xp;if(null!=d)return d;b=b.getParent()}return null}function $g(a){var b=a.Bi;if(null!=b)return Ch(b);b=a.getParent();var d=a.Cd();return b==d||a==d?null:b}function rh(a,b){a.xh!=b&&(a.xh=b,bd(a,function(d){rh(d,b)}))};function Dh(a,b,d){this.W=a;mh.call(this,b,d)}g(Dh,mh);c=Dh.prototype;c.Cd=function(){if(this.xh)return this.xh;var a=this.getParent();return a&&(a=a.Cd())?(rh(this,a),a):null};c.Jl=function(){var a=this.Fc(),b=this.Sx;if(a&&b)return b;b=this.Oy;if(!a&&b)return b;b=this.La;if(ed(this)){if(a&&b.vs)return b.Yh+" "+b.vs;if(!a&&b.ox)return b.Yh+" "+b.ox}else if(b.ws)return b.Yh+" "+b.ws;return""};
c.mm=function(){ed(this)&&this.cm?(this.toggle(),this.select()):this.Bm?Mf(this.Cd(),null):this.select();wh(this)};c.lu=function(){};c.Fp=function(a){if(this.xh.W.Ed){var b={},d=qd,e=pd;b[xg]=this.Tg()?e:d;b[wg]=this.Tg()?d:e;b[pd]=wg;b[qd]=xg;Object.defineProperties(a,{keyCode:{value:b[a.keyCode]||a.keyCode}})}return Dh.u.Fp.call(this,a)};c.Du=function(){this.pu&&this.pu.call(this.W)};c.Js=Dh.prototype.Du;c.Is=Dh.prototype.Du;function Eh(a,b){this.W=a;mh.call(this,"",b);this.uj=!0;vh(this,!0);this.qd=this}g(Eh,mh);c=Eh.prototype;c.Cd=function(){return this};c.gi=function(){return 0};c.zy=function(){this.Gl=!0;var a=this.ca();m.g.j.Ba(a,"focused");this.qd&&this.qd.select()};c.wy=function(){this.Gl=!1;var a=this.ca();m.g.j.Oa(a,"focused")};c.hasFocus=function(){return this.Gl};c.Fc=function(){return!0};c.Yd=function(a){this.uj=a};c.Fo=function(){var a=th(this);return a?a.firstChild:null};c.Eo=function(){return null};
c.Im=function(){};c.Nl=function(){return Eh.u.Nl.call(this)+" "+this.La.sx};c.Jl=function(){var a=this.Fc(),b=this.Sx;if(a&&b)return b;b=this.Oy;if(!a&&b)return b;b=this.La;return a&&b.qx?b.Yh+" "+b.qx:!a&&b.px?b.Yh+" "+b.px:""};function Mf(a,b){if(b!=a.qd&&(!a.gu||a.gu.call(a.W,b))){var d=a.qd;a.qd&&vh(a.qd,!1);(a.qd=b)&&vh(b,!0);a.fu&&a.fu.call(a.W,d,b)}}c.Vl=function(){Eh.u.Vl.call(this);var a=this.ca();m.g.Z.ad(a,"tree");m.g.Z.Xa(a,"labelledby",oh(this).id)};
c.Pd=function(){Eh.u.Pd.call(this);var a=this.ca();a.className=this.La.vx;a.setAttribute("hideFocus","true");this.En();this.Vl()};c.Xe=function(){Eh.u.Xe.call(this);this.Vn()};c.En=function(){var a=this.ca();a.tabIndex=0;this.Ez=m.Hb(a,"focus",this,this.zy);this.zz=m.Hb(a,"blur",this,this.wy);this.Dp=m.L(a,"click",this,this.Dy);this.Hz=m.Hb(a,"keydown",this,this.Ay)};c.Vn=function(){m.oa(this.Ez);m.oa(this.zz);m.oa(this.Dp);m.oa(this.Hz)};
c.Dy=function(a){var b;a:{for(var d=a.target;null!=d;){if(b=nh[d.id])break a;if(d==this.ca())break;d=d.parentNode}b=null}if(b)switch(a.type){case "mousedown":b.lu(a);break;case "click":b.mm(a)}};c.Ay=function(a){var b=!1;if(b=this.qd&&this.qd.Fp(a)||b)m.g.style.aq(this.qd.ca(),this.ca().parentNode),a.preventDefault();return b};c.createNode=function(a){return new Dh(this.W,a||"",this.La)};function gf(a){a.tb=this.$e.bind(this);a.qf=this.Dm.bind(this);gf.u.constructor.call(this,a);this.Ed=!1}g(gf,eh);c=gf.prototype;c.$e=function(){if(!this.isVisible())return null;try{var a=this.m.Pa.getBBox()}catch(f){a={height:0,y:0,width:0,x:0}}var b=this.xg,d=this.Da-2*this.xg,e=this.pa;this.w||(e-=this.xg);return{Qa:d,Ka:e,Cc:a.height*this.m.scale+2*this.vd,Vc:a.width*this.m.scale+2*this.vd,wb:-this.m.scrollY+a.y,jb:-this.m.scrollX,Rb:a.y,ec:a.x,rb:b,qb:0}};
c.Dm=function(a){var b=this.$e();b&&("number"==typeof a.y&&(this.m.scrollY=-b.Cc*a.y),this.m.translate(this.m.scrollX+b.qb,this.m.scrollY+b.rb))};c.position=function(){if(this.isVisible()){var a=this.wa.tb();a&&(this.Da=a.Qa,this.eq(this.pa-this.X,a.Qa-2*this.X),fh(this,this.pa,this.Da,this.wa.na==this.bd?a.ev?this.bd==m.Rc?a.ev:a.Ka-this.pa:this.bd==m.Rc?0:a.Ka:this.bd==m.Rc?0:a.Ka+a.qb-this.pa,0))}};
c.eq=function(a,b){var d=this.bd==m.Oe,e=a+this.X;e=["M "+(d?e:0)+",0"];e.push("h",d?-a:a);e.push("a",this.X,this.X,0,0,d?0:1,d?-this.X:this.X,this.X);e.push("v",Math.max(0,b));e.push("a",this.X,this.X,0,0,d?0:1,d?this.X:-this.X,this.X);e.push("h",d?a:-a);e.push("z");this.sd.setAttribute("d",e.join(" "))};c.bq=function(){this.Db.set(0)};c.qv=function(a){var b=m.g.Ho(a);if(b.y){var d=this.$e();b=d.wb-d.Rb+b.y;b=Math.min(b,d.Cc-d.Qa);b=Math.max(b,0);this.Db.set(b);m.M.Ea()}a.preventDefault();a.stopPropagation()};
c.Nt=function(a,b){this.m.scale=this.wa.scale;for(var d=this.vd,e=this.w?d:d+Xa,f=0,h;h=a[f];f++)if("block"==h.type){h=h.block;for(var k=t(h,!1),l=0,n;n=k[l];l++)n.Lc=!0;h.ka();k=h.S();l=h.Sb();h.moveBy(e,d);n=kh(this,h,this.w?e-l.width:e,d,l,f);hh(this,k,h,n);d+=l.height+b[f]}else"button"==h.type&&(jh(this,h.button,e,d),d+=h.button.height+b[f])};c.It=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.Ls;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};
c.di=function(){if(!this.B)return null;var a=this.B.getBoundingClientRect(),b=a.left;if(this.bd==m.Rc)return new pc(-1E9,1E9,-1E9,b+a.width);m.g.userAgent.dn&&this.wa&&this.wa.Sg&&(a=this.wa.B.getBoundingClientRect().x,10>Math.abs(a-b)&&(b+=this.jC*this.wa.options.$c.scale));return new pc(-1E9,1E9,b,1E9)};
c.zu=function(){this.m.scale=this.wa.scale;for(var a=0,b=B(this.m,!1),d=0,e;e=b[d];d++){var f=e.Sb().width;e.J&&(f-=Xa);a=Math.max(a,f)}for(d=0;e=this.bj[d];d++)a=Math.max(a,e.width);a+=1.5*this.vd+Xa;a*=this.m.scale;a+=H;if(this.pa!=a){for(d=0;e=b[d];d++)this.w&&(f=e.ta().x,e.moveBy(a/this.m.scale-this.vd-Xa-f,0)),e.El&&lh(this,e.El,e);if(this.w)for(d=0;e=this.bj[d];d++)e.moveTo(a/this.m.scale-e.width-this.vd-Xa,e.tc.y);this.pa=a;this.position()}};function Af(a){this.m=a;this.w=a.options.w;this.Ed=a.options.Xc;this.na=a.options.na;this.La={Bt:19,vx:"blocklyTreeRoot",sx:"blocklyHidden",tx:"",xs:"blocklyTreeRow",ux:"blocklyTreeLabel",Yh:"blocklyTreeIcon",vs:"blocklyTreeIconOpen",ws:"blocklyTreeIconNone",wx:"blocklyTreeSelected"};this.gv={xs:"blocklyTreeSeparator"};this.Ed&&(this.La.cssTreeRow+=a.w?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.gv.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.w?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),
this.La.cssTreeIcon="")}c=Af.prototype;c.width=0;c.height=0;c.Pj=null;
c.ra=function(){var a=this.m,b=A(this.m);this.wc=document.createElement("div");this.wc.className="blocklyToolboxDiv";this.wc.setAttribute("dir",a.w?"RTL":"LTR");b.parentNode.insertBefore(this.wc,b);m.L(this.wc,"mousedown",this,function(d){m.g.Zf(d)||d.target==this.wc?m.Tb(!1):m.Tb(!0);m.Touch.Se()},!1,!0);b={Ue:a.options.Ue,$c:a,w:a.w,gg:a.options.gg,Xc:a.Xc,na:a.options.na};this.H=null;this.H=a.Xc?new ff(b):new gf(b);m.g.j.Og(this.H.Ia("svg"),A(this.m));this.H.ra(a);this.La.cleardotPath=a.options.Xd+
"1x1.gif";this.La.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.w?"Rtl":"Ltr");this.vc=b=new Eh(this,this.La);Mf(b,null);b.gu=this.vy;b.fu=this.uy;a=this.tm(a.options.Ae);b.ka(this.wc);a&&Mf(b,a);Lf(this);this.position();this.Ed&&m.g.Z.Xa(this.vc.ca(),"orientation","horizontal")};c.vy=function(a){if(a==this.vc)return!1;this.Pj&&(th(this.Pj).style.backgroundColor="");if(a){var b=a.Kg||"#57e";th(a).style.backgroundColor=b;Lf(this,a)}return!0};
c.uy=function(a,b){b&&b.ie&&b.ie.length?(this.H.show(b.ie),this.Pj!=b&&this.H.bq()):this.H.Ea();a!=b&&a!=this&&(a=new x(null,"category",a&&a.ub(),b&&b.ub()),a.Fb=this.m.id,m.i.$(a));b&&(this.Pj=b)};c.Gy=function(){m.Hi(this.m)};c.G=function(){this.H.G();this.vc.G();m.g.j.removeNode(this.wc);this.Pj=this.m=null};c.Hc=function(){return this.width};c.yj=function(){return this.height};
c.position=function(){var a=this.wc;if(a){var b=A(this.m);b=m.Zu(b);this.Ed?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.na==m.yc?a.style.top="0":a.style.bottom="0"):(this.na==m.Oe?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.H.position()}};
c.tm=function(a){for(var b=this.vc,d=[];ed(b);)d.push(b.removeChild(I(b,0),void 0));this.vc.ie=[];this.Oo=!1;a=Fh(this,a,this.vc,this.m.options.Xd);if(this.vc.ie.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");ab(this.m);return a};
function Fh(a,b,d,e){for(var f=null,h=null,k=0,l;l=b.childNodes[k];k++)if(l.tagName)switch(l.tagName.toUpperCase()){case "CATEGORY":h=m.g.Lb(l.getAttribute("name"));var n=a.vc.createNode(h);n.pu=a.Gy;n.ie=[];d.add(n);var p=l.getAttribute("custom");p?n.ie=p:(p=Fh(a,l,n,e))&&(f=p);p=l.getAttribute("categorystyle");var r=l.getAttribute("colour");r&&p?(n.Kg="",console.warn('Toolbox category "'+h+'" can not have both a style and a colour')):p?Gh(a,p,n,h):Hh(a,r,n,h);"true"==l.getAttribute("expanded")?
(n.ie.length&&(f=n),n.Yd(!0)):n.Yd(!1);h=l;break;case "SEP":if(h&&"CATEGORY"==h.tagName.toUpperCase()){d.add(new Ih(a.gv));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":d.ie.push(l),h=l}return f}function Hh(a,b,d,e){b=m.g.Lb(b);if(null===b||""===b)d.Kg="";else{var f=Number(b);isNaN(f)?(f=m.g.cb.parse(b))?(d.Kg=f,a.Oo=!0):(d.Kg="",console.warn('Toolbox category "'+e+'" has unrecognized colour attribute: '+b)):(d.Kg=m.At(f),a.Oo=!0)}}
function Gh(a,b,d,e){if((d.Yu=b)&&m.Rl()){var f;(f=m.Rl().Nw[b])&&f.cb?Hh(a,f.cb,d,e):console.warn('Style "'+b+'" must exist and contain a colour value')}}function Jh(a,b){if(b=b||a.vc){b=b.Ze(!1);for(var d=0,e;e=b[d];d++)e.Yu&&(Gh(a,e.Yu,e,""),Lf(a)),Jh(a,e)}}function Kh(a){var b=a.vc;if(b&&(Jh(a,b),b=b.qd)){var d=b.Kg||"#57e";th(b).style.backgroundColor=d;Lf(a,b)}}
function Lf(a,b){b=(b||a.vc).Ze(!1);for(var d=0,e;e=b[d];d++){var f=th(e);if(f){var h=a.Oo?"8px solid "+(e.Kg||"#ddd"):"none";a.m.w?f.style.borderRight=h:f.style.borderLeft=h}Lf(a,e)}}c.di=function(){if(!this.wc)return null;var a=this.wc.getBoundingClientRect(),b=a.top,d=b+a.height,e=a.left;a=e+a.width;return this.na==m.yc?new pc(-1E7,d,-1E7,1E7):this.na==m.Ef?new pc(b,1E7,-1E7,1E7):this.na==m.Rc?new pc(-1E7,1E7,-1E7,a):new pc(-1E7,1E7,e,1E7)};function Ih(a){Dh.call(this,null,"",a)}g(Ih,Dh);m.fd={};m.fd.QB="";m.fd.Ct=!1;m.fd.Tt="";m.fd.Uf=function(a,b){if(!m.fd.Ct){m.fd.Ct=!0;var d=".blocklyDraggable {}\n";a&&(d+=m.fd.Iq.join("\n"),m.fd.Iq=null,m.Qv&&(d+=m.Qv.CSS.join("\n")));m.fd.Tt=b.replace(/[\\\/]$/,"");d=d.replace(/<<<PATH>>>/g,m.fd.Tt);a=document.createElement("style");a.appendChild(document.createTextNode(d));document.head.insertBefore(a,document.head.firstChild)}};m.fd.Ju=function(){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
m.fd.Iq=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;",
"top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: fixed;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-radius: 2px;","padding: 4px;","-webkit-user-select: none;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;",
"overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".arrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;",
"border-color: inherit;","}",".arrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;",
"stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {",
"fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyReplaceable .blocklyPath {","fill-opacity: .5;",
"}",".blocklyReplaceable .blocklyPathLight,",".blocklyReplaceable .blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;",
"}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;",
"-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentForeignObject {",
"position: relative;","z-index: 0;","}",".blocklyCommentRect {","fill: #E7DE8E;","stroke: #bcA903;","stroke-width: 1px","}",".blocklyCommentTarget {","fill: transparent;","stroke: #bcA903;","}",".blocklyCommentTargetFocused {","fill: none;","}",".blocklyCommentHandleTarget {","fill: none;","}",".blocklyCommentHandleTargetFocused {","fill: transparent;","}",".blocklyFocused>.blocklyCommentRect {","fill: #B9B272;","stroke: #B9B272;","}",".blocklySelected>.blocklyCommentTarget {","stroke: #fc3;","stroke-width: 3px;",
"}",".blocklyCommentTextarea {","background-color: #fef49c;","border: 0;","outline: 0;","margin: 0;","padding: 3px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyCommentDeleteIcon {","cursor: pointer;","fill: #000;","display: none","}",".blocklySelected > .blocklyCommentDeleteIcon {","display: block","}",".blocklyDeleteIconShape {","fill: #000;","stroke: #000;","stroke-width: 1px;","}",".blocklyDeleteIconShape.blocklyDeleteIconHighlighted {","stroke: #fc3;","}",".blocklyHtmlInput {",
"border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {",
"z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {",
"opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;",
"}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem, ",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl, ",
".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalCursor {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;",
"}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",
".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;",
"margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;",
"}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyColourTable {",
"border-collapse: collapse;","outline: none;","padding: 1px;","display: block;","}",".blocklyColourTable>tr>td {","padding: 0;","cursor: pointer;","border: .5px solid transparent;","height: 25px;","width: 25px;","box-sizing: border-box;","display: inline-block;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","position: relative;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;",
"outline: 1px solid #333;","position: relative;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);",
"}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem, ",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, ",
".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { ","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, ",".blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-content {","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {",
"color: #fff;","}",".blocklyWidgetDiv .goog-menuitem-disabled, ",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, ",
".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight, ",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #f1f3f4;","}",".blocklyDropDownDiv .goog-menuitem-highlight, ",".blocklyDropDownDiv .goog-menuitem-hover {","background-color: rgba(0,0,0,.2);","}",".blocklyWidgetDiv .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-checkbox, ",
".blocklyDropDownDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, ",
".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {",
"float: right;","margin-right: -24px;","}",".blocklyWidgetDiv .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, ",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-hint {",
"text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator, ",".blocklyDropDownDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator, ",".blocklyDropDownDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""];m.M={};m.M.qa=null;m.M.bk=null;m.M.xl=null;m.M.Ia=function(){m.M.qa||(m.M.qa=document.createElement("div"),m.M.qa.className="blocklyWidgetDiv",document.body.appendChild(m.M.qa))};m.M.show=function(a,b,d){m.M.Ea();m.M.bk=a;m.M.xl=d;m.M.qa.style.top=m.g.style.kt().y+"px";m.M.qa.style.direction=b?"rtl":"ltr";m.M.qa.style.display="block"};m.M.Ea=function(){m.M.bk&&(m.M.bk=null,m.M.qa.style.display="none",m.M.qa.style.left="",m.M.qa.style.top="",m.M.xl&&m.M.xl(),m.M.xl=null,m.M.qa.innerHTML="")};
m.M.isVisible=function(){return!!m.M.bk};m.M.So=function(a){m.M.bk==a&&m.M.Ea()};m.M.uu=function(a,b,d){m.M.qa.style.left=a+"px";m.M.qa.style.top=b+"px";m.M.qa.style.height=d+"px"};m.M.vu=function(a,b,d,e){var f=m.M.Lw(a,b,d);a=m.M.Kw(a,b,d,e);0>f?m.M.uu(a,0,d.height+f):m.M.uu(a,f,d.height)};m.M.Kw=function(a,b,d,e){if(e)return b=Math.max(b.right-d.width,a.left),Math.min(b,a.right-d.width);b=Math.min(b.left,a.right-d.width);return Math.max(b,a.left)};
m.M.Lw=function(a,b,d){return b.bottom+d.height>=a.bottom?b.top-d.height:b.bottom};function Lh(a){this.lj=a;this.Ia()}c=Lh.prototype;c.Wa=null;c.Ad=null;c.lj=null;c.lg=1;c.vk=null;c.Ia=function(){this.Wa||(this.Wa=m.g.j.C("svg",{xmlns:m.g.j.fe,"xmlns:html":m.g.j.ee,"xmlns:xlink":m.g.j.zc,version:"1.1","class":"blocklyBlockDragSurface"},this.lj),this.Ad=m.g.j.C("g",{},this.Wa))};function tc(a,b){if(a.Ad.childNodes.length)throw Error("Already dragging a block.");a.Ad.appendChild(b);a.Wa.style.display="block";a.vk=new q(0,0)}
c.wf=function(a,b){this.vk=new q(a*this.lg,b*this.lg);a=this.vk.x;b=this.vk.y;a=a.toFixed(0);b=b.toFixed(0);this.Wa.style.display="block";m.g.j.ik(this.Wa,"translate3d("+a+"px, "+b+"px, 0px)")};c.Ol=function(){var a=m.g.nd(this.Wa);return new q(a.x/this.lg,a.y/this.lg)};c.Jb=function(){return this.Ad};
c.ej=function(a){a?a.appendChild(this.Ad.firstChild):this.Ad.removeChild(this.Ad.firstChild);this.Wa.style.display="none";if(this.Ad.childNodes.length)throw Error("Drag group was not cleared.");this.vk=null};m.Uf=function(a,b){m.Pw();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!m.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");b=new Le(b||{});var d=document.createElement("div");d.className="injectionDiv";a.appendChild(d);a=m.nj(d,b);var e=new Lh(d);d=new qf(d);d=m.lx(a,b,e,d);m.Mu(b.yA);m.ib.fb.kA(b.fb);m.Uy(d);m.Sj=d;m.Hi(d);return d};
m.nj=function(a,b){a.setAttribute("dir","LTR");ad=b.w;m.fd.Uf(b.Iy,b.Xd);a=m.g.j.C("svg",{xmlns:m.g.j.fe,"xmlns:html":m.g.j.ee,"xmlns:xlink":m.g.j.zc,version:"1.1","class":"blocklySvg"},a);var d=m.g.j.C("defs",{},a),e=String(Math.random()).substring(2),f=m.g.j.C("filter",{id:"blocklyEmbossFilter"+e},d);m.g.j.C("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},f);var h=m.g.j.C("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",
result:"specOut"},f);m.g.j.C("fePointLight",{x:-5E3,y:-1E4,z:2E4},h);m.g.j.C("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},f);m.g.j.C("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},f);b.Ps=f.id;f=m.g.j.C("pattern",{id:"blocklyDisabledPattern"+e,patternUnits:"userSpaceOnUse",width:10,height:10},d);m.g.j.C("rect",{width:10,height:10,fill:"#aaa"},f);m.g.j.C("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},f);b.Ue=f.id;
f=b.mt;d=m.g.j.C("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},d);0<f.length&&0<f.spacing?(m.g.j.C("line",{stroke:f.colour},d),1<f.length&&m.g.j.C("line",{stroke:f.colour},d)):m.g.j.C("line",{},d);b.nt=d;return a};
m.lx=function(a,b,d,e){b.$c=null;var f=new wf(b,d,e);f.scale=b.ab.Uu;a.appendChild(f.Ia("blocklyMainBackground"));!b.qt&&b.Ae&&(d=Ef(f,"svg"),m.g.j.Og(d,a));b.tt&&Cf(f);b.ab&&b.ab.controls&&Df(f);m.navigation.Ju(f.cursor);m.navigation.lA(f.Wg);f.translate(0,0);m.Sj=f;b.readOnly||f.Wb()||f.Ac(function(h){if(!f.hc()&&!f.Wb()&&-1!=m.i.Bv.indexOf(h.type)){var k=Object.create(null),l=f.tb(),n=f.scale;k.w=f.w;k.jb=l.jb/n;k.wb=l.wb/n;k.ov=(l.jb+l.Ka)/n;k.nv=(l.wb+l.Qa)/n;Jf(f)?(l=Ya(f),k.ec=l.left,k.Rb=
l.top,k.os=l.right,k.ls=l.bottom):(k.ec=l.ec/n,k.Rb=l.Rb/n,k.os=(l.ec+l.Vc)/n,k.ls=(l.Rb+l.Cc)/n);if(k.Rb<k.wb||k.ls>k.nv||k.ec<k.jb||k.os>k.ov){l=null;h&&(l=m.i.Jb(),m.i.V(h.group));switch(h.type){case m.i.Cq:case m.i.Dq:var p=Ha(f,h.dc);p=nb(p);break;case m.i.Mk:case m.i.Nk:p=Vb(f,h.le)}if(p){n=p.Il();n.height=n.bottom-n.top;n.width=n.right-n.left;var r=k.wb,u=k.nv-n.height;u=Math.max(r,u);r=m.g.Nc.dj(r,n.top,u)-n.top;u=k.jb;var v=k.ov-n.width;k.w?u=Math.min(v,u):v=Math.max(u,v);p.moveBy(m.g.Nc.dj(u,
n.left,v)-n.left,r)}h&&(h.group||console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),m.i.V(l))}}});m.Hi(f);m.M.Ia();mg();m.F.Ia();return f};
m.Uy=function(a){var b=a.options,d=A(a);m.L(d.parentNode,"contextmenu",null,function(e){m.g.am(e)||e.preventDefault()});d=m.L(window,"resize",null,function(){m.Tb(!0);m.Hi(a)});a.zm=d;m.Uf.Bw();b.Ae&&(a.W?a.W.ra(a):a.H&&(a.H.ra(a),a.H.show(b.Ae.childNodes),a.H.bq()));d=H;b.tt&&(d=a.kc.ra(d));b.ab&&b.ab.controls&&a.Dh.ra(d);b.Yb&&b.Yb.scrollbars?(a.kb=new Ne(a),a.kb.resize()):a.qf({x:.5,y:.5});b.Jy&&m.Uf.fz(b.Xd,a)};
m.Uf.Bw=function(){m.Mx||(m.L(document,"scroll",null,function(){for(var a=bc(),b=0,d;d=a[b];b++)d.Fk&&d.Fk()}),m.L(document,"keydown",null,m.Gp),m.Hb(document,"touchend",null,m.cg),m.Hb(document,"touchcancel",null,m.cg),m.g.userAgent.vg&&m.L(window,"orientationchange",document,function(){m.Hi(m.Gc())}));m.Mx=!0};
m.Uf.fz=function(a,b){function d(){for(;f.length;)m.oa(f.pop());e.preload()}var e=b.Sc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(m.L(document,"mousemove",null,d,!0));f.push(m.L(document,"touchstart",null,d,!0))};
m.jv=function(a){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.");m.Gc().jv(a)};m.VERSION="uncompiled";m.Sj=null;m.selected=null;m.cursor=null;m.ze=!1;m.sj=[];m.fj=null;m.hl=null;m.Nn=null;m.KB=null;m.av=null;m.Zu=function(a){return{width:a.Qr,height:a.Or}};m.qC=function(a){ab(a)};m.Hi=function(a){for(;a.options.$c;)a=a.options.$c;var b=A(a),d=b.parentNode;if(d){var e=d.offsetWidth;d=d.offsetHeight;b.Qr!=e&&(b.setAttribute("width",e+"px"),b.Qr=e);b.Or!=d&&(b.setAttribute("height",d+"px"),b.Or=d);a.resize()}};
m.Gp=function(a){var b=m.Sj;if(!(m.g.am(a)||b.Y&&!b.isVisible()))if(b.options.readOnly)m.ze&&m.navigation.ku(a);else{var d=!1;if(27==a.keyCode)m.Tb(),m.navigation.dh(m.navigation.Pm);else{if(m.ze&&m.navigation.ku(a))return;if(8==a.keyCode||46==a.keyCode){a.preventDefault();if(Oc())return;m.selected&&m.selected.gc()&&(d=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(Oc())return;m.selected&&m.selected.gc()&&m.selected.Wb()&&(67==a.keyCode?(m.Tb(),m.Rn(m.selected)):88!=a.keyCode||m.selected.v.we||(m.Rn(m.selected),
d=!0));86==a.keyCode?m.fj&&(a=m.hl,a.we&&(a=a.wh),m.Nn&&$b(a,m.Nn)&&(m.i.V(!0),Hf(a),m.i.V(!1))):90==a.keyCode&&(m.Tb(),b.vq(a.shiftKey))}}d&&!m.selected.v.we&&(m.i.V(!0),m.Tb(),m.selected.G(!0,!0),m.i.V(!1))}};m.Rn=function(a){if(a.bp)var b=a.Ak();else{b=m.I.Gf(a,!0);m.I.Ex(b);var d=a.ta();b.setAttribute("x",a.w?-d.x:d.x);b.setAttribute("y",d.y)}m.fj=b;m.hl=a.v;m.Nn=a.bp?null:m.g.Bo(a,!0)};m.Ns=function(a){var b=m.fj,d=m.hl;m.Rn(a);Hf(a.v);m.fj=b;m.hl=d};m.lC=function(a){m.g.am(a)||a.preventDefault()};
m.Tb=function(a){m.F.Ea();m.M.Ea();rg();var b=m.Gc();b.kc&&b.kc.H&&b.kc.H.Ea();a||b.W&&b.W.H&&b.W.H.Rh&&Mf(b.W.vc,null)};m.Ac=function(a){console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.");return m.Gc().Ac(a)};m.Gc=function(){return m.Sj};m.alert=function(a,b){alert(a);b&&b()};m.confirm=function(a,b){b(confirm(a))};m.prompt=function(a,b,d){d(prompt(a,b))};m.cz=function(a){return function(){ag(this,a)}};
m.RB=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(m.ob[e]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+e+'".'),m.ob[e]={ra:m.cz(d)})}else console.warn("Block definition #"+b+" in JSON array is "+d+". Skipping.")}};
m.L=function(a,b,d,e,f,h){function k(v){var z=!f;v=m.Touch.oA(v);for(var V=0,R;R=v[V];V++)if(!z||m.Touch.oq(R))m.Touch.jA(R),d?e.call(d,R):e(R),l=!0}var l=!1,n=[];if(m.g.global.PointerEvent&&b in m.Touch.ge)for(var p=0,r;r=m.Touch.ge[b][p];p++)a.addEventListener(r,k,!1),n.push([a,r,k]);else if(a.addEventListener(b,k,!1),n.push([a,b,k]),b in m.Touch.ge){var u=function(v){k(v);var z=!h;l&&z&&v.preventDefault()};for(p=0;r=m.Touch.ge[b][p];p++)a.addEventListener(r,u,!1),n.push([a,r,u])}return n};
m.Hb=function(a,b,d,e){function f(p){d?e.call(d,p):e(p)}var h=[];if(m.g.global.PointerEvent&&b in m.Touch.ge)for(var k=0,l;l=m.Touch.ge[b][k];k++)a.addEventListener(l,f,!1),h.push([a,l,f]);else if(a.addEventListener(b,f,!1),h.push([a,b,f]),b in m.Touch.ge){var n=function(p){if(p.changedTouches&&1==p.changedTouches.length){var r=p.changedTouches[0];p.clientX=r.clientX;p.clientY=r.clientY}f(p);p.preventDefault()};for(k=0;l=m.Touch.ge[b][k];k++)a.addEventListener(l,n,!1),h.push([a,l,n])}return h};
m.oa=function(a){for(;a.length;){var b=a.pop();b[0].removeEventListener(b[1],b[2],!1)}};m.Jt=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};m.At=function(a){return m.g.cb.Ny(a)};
m.Pw=function(){m.nc("LOGIC_HUE",["Blocks","logic","HUE"],void 0);m.nc("LOGIC_HUE",["Constants","Logic","HUE"],210);m.nc("LOOPS_HUE",["Blocks","loops","HUE"],void 0);m.nc("LOOPS_HUE",["Constants","Loops","HUE"],120);m.nc("MATH_HUE",["Blocks","math","HUE"],void 0);m.nc("MATH_HUE",["Constants","Math","HUE"],230);m.nc("TEXTS_HUE",["Blocks","texts","HUE"],void 0);m.nc("TEXTS_HUE",["Constants","Text","HUE"],160);m.nc("LISTS_HUE",["Blocks","lists","HUE"],void 0);m.nc("LISTS_HUE",["Constants","Lists","HUE"],
260);m.nc("COLOUR_HUE",["Blocks","colour","HUE"],void 0);m.nc("COLOUR_HUE",["Constants","Colour","HUE"],20);m.nc("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);m.nc("VARIABLES_HUE",["Constants","Variables","HUE"],330);m.nc("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);m.nc("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
m.nc=function(a,b,d){for(var e="Blockly",f=m,h=0;h<b.length;++h)e+="."+b[h],f&&(f=f[b[h]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};m.Mu=function(a){m.av=a;(a=m.Gc())&&m.Yz(a)};m.Yz=function(a){m.iv(F(a).filter(function(d){return void 0!==d.rk}));!a.W&&a.H&&a.H.m?m.iv(F(a.H.m)):If(a);a.W&&Kh(a.W);var b=new x(null,"theme");b.Fb=a.id;m.i.$(b)};
m.iv=function(a){for(var b=0,d;d=a[b];b++)if(Zf(d,d.rk),d.Vd){var e=d.Vd.m;if(e&&F(e)){var f=F(e);for(d=0;d<f.length;d++){var h=f[d];Zf(h,h.rk)}e=F(e.H.m);for(d=0;d<e.length;d++)h=e[d],Zf(h,h.rk)}}};m.Rl=function(){return m.av};m.g.global.Blockly||(m.g.global.Blockly={});m.g.global.Blockly.getMainWorkspace=m.Gc;m.g.global.Blockly.addChangeListener=m.Ac;var Mh={ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",fi:"Suomi",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",
he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas",
"pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587",
"zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},Nh="ace ar fa he mzn ps ur".split(" "),Oh=window.BlocklyGamesLang,Ph=window.BlocklyGamesLanguages,Qh=!!window.location.pathname.match(/\.html$/),M=null;function Rh(a,b,d){var e=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=e(a);return isNaN(e)?b:m.g.Nc.dj(b,e,d)}var Sh=10,O=Rh("level",1,Sh);
function Th(){document.title=document.getElementById("title").textContent;document.dir=-1!=Nh.indexOf(Oh)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",Oh);var a=document.getElementById("languageMenu");if(a){for(var b=[],d=0;d<Ph.length;d++){var e=Ph[d];b.push([Mh[e],e])}b.sort(function(h,k){return h[0]>k[0]?1:h[0]<k[0]?-1:0});for(d=a.options.length=0;d<b.length;d++){var f=b[d];e=f[1];f=new Option(f[0],e);e==Oh&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display=
"none")}for(d=1;d<=Sh;d++)a=document.getElementById("level"+d),b=!!Uh(d),a&&b&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Vh,1)}function Uh(a){var b=Wh;try{var d=window.localStorage[b+a]}catch(e){}return d}function P(a){var b;(b=document.getElementById(a))?(b=b.textContent,b=b.replace(/\\n/g,"\n")):b=null;return null===b?"[Unknown message: "+a+"]":b}
function Xh(a,b){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",b,!0);a.addEventListener("touchend",b,!0)}
function Vh(){if(!Qh){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var b=document.createElement("script");b.async=1;b.src="//www.google-analytics.com/analytics.js";document.head.appendChild(b);a("create","UA-50448074-1","auto");a("send","pageview")}};m.h.VB={};m.h.ADD_COMMENT="Add Comment";m.h.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";m.h.CHANGE_VALUE_TITLE="Change value:";m.h.CLEAN_UP="Clean up Blocks";m.h.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.";m.h.COLLAPSE_ALL="Collapse Blocks";m.h.COLLAPSE_BLOCK="Collapse Block";m.h.COLOUR_BLEND_COLOUR1="colour 1";m.h.COLOUR_BLEND_COLOUR2="colour 2";m.h.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
m.h.COLOUR_BLEND_RATIO="ratio";m.h.COLOUR_BLEND_TITLE="blend";m.h.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).";m.h.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color";m.h.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.";m.h.COLOUR_RANDOM_HELPURL="http://randomcolour.com";m.h.COLOUR_RANDOM_TITLE="random colour";m.h.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.";m.h.COLOUR_RGB_BLUE="blue";m.h.COLOUR_RGB_GREEN="green";
m.h.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html";m.h.COLOUR_RGB_RED="red";m.h.COLOUR_RGB_TITLE="colour with";m.h.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";m.h.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";m.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop";m.h.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop";
m.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.";m.h.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.";m.h.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.";m.h.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each";m.h.CONTROLS_FOREACH_TITLE="for each item %1 in list %2";m.h.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.";
m.h.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with";m.h.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4";m.h.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";m.h.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";m.h.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";m.h.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
m.h.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";m.h.CONTROLS_IF_MSG_ELSE="else";m.h.CONTROLS_IF_MSG_ELSEIF="else if";m.h.CONTROLS_IF_MSG_IF="if";m.h.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";m.h.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";m.h.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
m.h.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";m.h.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop";m.h.CONTROLS_REPEAT_INPUT_DO="do";m.h.CONTROLS_REPEAT_TITLE="repeat %1 times";m.h.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.";m.h.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat";
m.h.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until";m.h.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while";m.h.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.";m.h.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.";m.h.DELETE_ALL_BLOCKS="Delete all %1 blocks?";m.h.DELETE_BLOCK="Delete Block";m.h.DELETE_VARIABLE="Delete the '%1' variable";m.h.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";
m.h.DELETE_X_BLOCKS="Delete %1 Blocks";m.h.DISABLE_BLOCK="Disable Block";m.h.DUPLICATE_BLOCK="Duplicate";m.h.DUPLICATE_COMMENT="Duplicate Comment";m.h.ENABLE_BLOCK="Enable Block";m.h.EXPAND_ALL="Expand Blocks";m.h.EXPAND_BLOCK="Expand Block";m.h.EXTERNAL_INPUTS="External Inputs";m.h.HELP="Help";m.h.INLINE_INPUTS="Inline Inputs";m.h.IOS_CANCEL="Cancel";m.h.IOS_ERROR="Error";m.h.IOS_OK="OK";m.h.IOS_PROCEDURES_ADD_INPUT="+ Add Input";m.h.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements";
m.h.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.";m.h.IOS_PROCEDURES_INPUTS="INPUTS";m.h.IOS_VARIABLES_ADD_BUTTON="Add";m.h.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable";m.h.IOS_VARIABLES_DELETE_BUTTON="Delete";m.h.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.";m.h.IOS_VARIABLES_RENAME_BUTTON="Rename";m.h.IOS_VARIABLES_VARIABLE_NAME="Variable name";m.h.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list";
m.h.LISTS_CREATE_EMPTY_TITLE="create empty list";m.h.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records";m.h.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list";m.h.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.";m.h.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";m.h.LISTS_CREATE_WITH_INPUT_WITH="create list with";m.h.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.";
m.h.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.";m.h.LISTS_GET_INDEX_FIRST="first";m.h.LISTS_GET_INDEX_FROM_END="# from end";m.h.LISTS_GET_INDEX_FROM_START="#";m.h.LISTS_GET_INDEX_GET="get";m.h.LISTS_GET_INDEX_GET_REMOVE="get and remove";m.h.LISTS_GET_INDEX_LAST="last";m.h.LISTS_GET_INDEX_RANDOM="random";m.h.LISTS_GET_INDEX_REMOVE="remove";m.h.LISTS_GET_INDEX_TAIL="";m.h.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.";
m.h.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.";
m.h.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.";m.h.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.";m.h.LISTS_GET_SUBLIST_END_FROM_END="to # from end";
m.h.LISTS_GET_SUBLIST_END_FROM_START="to #";m.h.LISTS_GET_SUBLIST_END_LAST="to last";m.h.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist";m.h.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first";m.h.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end";m.h.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #";m.h.LISTS_GET_SUBLIST_TAIL="";m.h.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.";
m.h.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.";m.h.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.";m.h.LISTS_INDEX_OF_FIRST="find first occurrence of item";m.h.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";m.h.LISTS_INDEX_OF_LAST="find last occurrence of item";m.h.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";m.h.LISTS_INLIST="in list";
m.h.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty";m.h.LISTS_ISEMPTY_TITLE="%1 is empty";m.h.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.";m.h.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of";m.h.LISTS_LENGTH_TITLE="length of %1";m.h.LISTS_LENGTH_TOOLTIP="Returns the length of a list.";m.h.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with";m.h.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times";
m.h.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.";m.h.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list";m.h.LISTS_REVERSE_MESSAGE0="reverse %1";m.h.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.";m.h.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set";m.h.LISTS_SET_INDEX_INPUT_TO="as";m.h.LISTS_SET_INDEX_INSERT="insert at";m.h.LISTS_SET_INDEX_SET="set";
m.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.";m.h.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.";m.h.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.";m.h.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.";m.h.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.";m.h.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.";
m.h.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.";m.h.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.";m.h.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list";m.h.LISTS_SORT_ORDER_ASCENDING="ascending";m.h.LISTS_SORT_ORDER_DESCENDING="descending";m.h.LISTS_SORT_TITLE="sort %1 %2 %3";m.h.LISTS_SORT_TOOLTIP="Sort a copy of a list.";m.h.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case";m.h.LISTS_SORT_TYPE_NUMERIC="numeric";
m.h.LISTS_SORT_TYPE_TEXT="alphabetic";m.h.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";m.h.LISTS_SPLIT_LIST_FROM_TEXT="make list from text";m.h.LISTS_SPLIT_TEXT_FROM_LIST="make text from list";m.h.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.";m.h.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.";m.h.LISTS_SPLIT_WITH_DELIMITER="with delimiter";
m.h.LOGIC_BOOLEAN_FALSE="false";m.h.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";m.h.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";m.h.LOGIC_BOOLEAN_TRUE="true";m.h.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";m.h.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";m.h.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";m.h.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";
m.h.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";m.h.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";m.h.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";m.h.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";m.h.LOGIC_NEGATE_TITLE="not %1";m.h.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";
m.h.LOGIC_NULL="null";m.h.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type";m.h.LOGIC_NULL_TOOLTIP="Returns null.";m.h.LOGIC_OPERATION_AND="and";m.h.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";m.h.LOGIC_OPERATION_OR="or";m.h.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";m.h.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";m.h.LOGIC_TERNARY_CONDITION="test";m.h.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";
m.h.LOGIC_TERNARY_IF_FALSE="if false";m.h.LOGIC_TERNARY_IF_TRUE="if true";m.h.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";m.h.MATH_ADDITION_SYMBOL="+";m.h.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";m.h.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";m.h.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";
m.h.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";m.h.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";m.h.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";m.h.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";m.h.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";m.h.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";m.h.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
m.h.MATH_CHANGE_TITLE="change %1 by %2";m.h.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";m.h.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";m.h.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";m.h.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";m.h.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";
m.h.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";m.h.MATH_DIVISION_SYMBOL="\u00f7";m.h.MATH_IS_DIVISIBLE_BY="is divisible by";m.h.MATH_IS_EVEN="is even";m.h.MATH_IS_NEGATIVE="is negative";m.h.MATH_IS_ODD="is odd";m.h.MATH_IS_POSITIVE="is positive";m.h.MATH_IS_PRIME="is prime";m.h.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";m.h.MATH_IS_WHOLE="is whole";
m.h.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";m.h.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";m.h.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";m.h.MATH_MULTIPLICATION_SYMBOL="\u00d7";m.h.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";m.h.MATH_NUMBER_TOOLTIP="A number.";m.h.MATH_ONLIST_HELPURL="";m.h.MATH_ONLIST_OPERATOR_AVERAGE="average of list";m.h.MATH_ONLIST_OPERATOR_MAX="max of list";m.h.MATH_ONLIST_OPERATOR_MEDIAN="median of list";
m.h.MATH_ONLIST_OPERATOR_MIN="min of list";m.h.MATH_ONLIST_OPERATOR_MODE="modes of list";m.h.MATH_ONLIST_OPERATOR_RANDOM="random item of list";m.h.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";m.h.MATH_ONLIST_OPERATOR_SUM="sum of list";m.h.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";m.h.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";m.h.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";
m.h.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";m.h.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";m.h.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";m.h.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";m.h.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";m.h.MATH_POWER_SYMBOL="^";m.h.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";
m.h.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";m.h.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";m.h.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";m.h.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";m.h.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";m.h.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";m.h.MATH_ROUND_OPERATOR_ROUND="round";
m.h.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";m.h.MATH_ROUND_OPERATOR_ROUNDUP="round up";m.h.MATH_ROUND_TOOLTIP="Round a number up or down.";m.h.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";m.h.MATH_SINGLE_OP_ABSOLUTE="absolute";m.h.MATH_SINGLE_OP_ROOT="square root";m.h.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";m.h.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";m.h.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";
m.h.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";m.h.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";m.h.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";m.h.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";m.h.MATH_SUBTRACTION_SYMBOL="-";m.h.MATH_TRIG_ACOS="acos";m.h.MATH_TRIG_ASIN="asin";m.h.MATH_TRIG_ATAN="atan";m.h.MATH_TRIG_COS="cos";m.h.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
m.h.MATH_TRIG_SIN="sin";m.h.MATH_TRIG_TAN="tan";m.h.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";m.h.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";m.h.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";m.h.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";m.h.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";m.h.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";m.h.NEW_COLOUR_VARIABLE="Create colour variable...";
m.h.NEW_NUMBER_VARIABLE="Create number variable...";m.h.NEW_STRING_VARIABLE="Create string variable...";m.h.NEW_VARIABLE="Create variable...";m.h.NEW_VARIABLE_TITLE="New variable name:";m.h.NEW_VARIABLE_TYPE_TITLE="New variable type:";m.h.ORDINAL_NUMBER_SUFFIX="";m.h.PROCEDURES_ALLOW_STATEMENTS="allow statements";m.h.PROCEDURES_BEFORE_PARAMS="with:";m.h.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";m.h.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.";
m.h.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";m.h.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.";m.h.PROCEDURES_CALL_BEFORE_PARAMS="with:";m.h.PROCEDURES_CREATE_DO="Create '%1'";m.h.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...";m.h.PROCEDURES_DEFNORETURN_DO="";m.h.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";m.h.PROCEDURES_DEFNORETURN_PROCEDURE="do something";
m.h.PROCEDURES_DEFNORETURN_TITLE="to";m.h.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.";m.h.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine";m.h.PROCEDURES_DEFRETURN_RETURN="return";m.h.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.";m.h.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.";m.h.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition";m.h.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause";
m.h.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.";m.h.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.";m.h.PROCEDURES_MUTATORARG_TITLE="input name:";m.h.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.";m.h.PROCEDURES_MUTATORCONTAINER_TITLE="inputs";m.h.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.";m.h.REDO="Redo";m.h.REMOVE_COMMENT="Remove Comment";
m.h.RENAME_VARIABLE="Rename variable...";m.h.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";m.h.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";m.h.TEXT_APPEND_TITLE="to %1 append text %2";m.h.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.";m.h.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case";m.h.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case";m.h.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case";
m.h.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE";m.h.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.";m.h.TEXT_CHARAT_FIRST="get first letter";m.h.TEXT_CHARAT_FROM_END="get letter # from end";m.h.TEXT_CHARAT_FROM_START="get letter #";m.h.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text";m.h.TEXT_CHARAT_LAST="get last letter";m.h.TEXT_CHARAT_RANDOM="get random letter";m.h.TEXT_CHARAT_TAIL="";m.h.TEXT_CHARAT_TITLE="in text %1 %2";
m.h.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.";m.h.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings";m.h.TEXT_COUNT_MESSAGE0="count %1 in %2";m.h.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.";m.h.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.";m.h.TEXT_CREATE_JOIN_TITLE_JOIN="join";m.h.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.";
m.h.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end";m.h.TEXT_GET_SUBSTRING_END_FROM_START="to letter #";m.h.TEXT_GET_SUBSTRING_END_LAST="to last letter";m.h.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";m.h.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text";m.h.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter";m.h.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end";m.h.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #";
m.h.TEXT_GET_SUBSTRING_TAIL="";m.h.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.";m.h.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text";m.h.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text";m.h.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text";m.h.TEXT_INDEXOF_TITLE="in text %1 %2 %3";m.h.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
m.h.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text";m.h.TEXT_ISEMPTY_TITLE="%1 is empty";m.h.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.";m.h.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation";m.h.TEXT_JOIN_TITLE_CREATEWITH="create text with";m.h.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.";m.h.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification";
m.h.TEXT_LENGTH_TITLE="length of %1";m.h.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.";m.h.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text";m.h.TEXT_PRINT_TITLE="print %1";m.h.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.";m.h.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";m.h.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.";
m.h.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.";m.h.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message";m.h.TEXT_PROMPT_TYPE_TEXT="prompt for text with message";m.h.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings";m.h.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3";m.h.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.";m.h.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text";
m.h.TEXT_REVERSE_MESSAGE0="reverse %1";m.h.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.";m.h.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)";m.h.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.";m.h.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";m.h.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of";m.h.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of";m.h.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of";
m.h.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.";m.h.TODAY="Today";m.h.UNDO="Undo";m.h.VARIABLES_DEFAULT_NAME="item";m.h.VARIABLES_GET_CREATE_SET="Create 'set %1'";m.h.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get";m.h.VARIABLES_GET_TOOLTIP="Returns the value of this variable.";m.h.VARIABLES_SET="set %1 to %2";m.h.VARIABLES_SET_CREATE_GET="Create 'get %1'";m.h.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set";
m.h.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.";m.h.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";m.h.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";m.h.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";m.h.CONTROLS_FOREACH_INPUT_DO=m.h.CONTROLS_REPEAT_INPUT_DO;m.h.CONTROLS_FOR_INPUT_DO=m.h.CONTROLS_REPEAT_INPUT_DO;m.h.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=m.h.CONTROLS_IF_MSG_ELSEIF;
m.h.CONTROLS_IF_ELSE_TITLE_ELSE=m.h.CONTROLS_IF_MSG_ELSE;m.h.CONTROLS_IF_IF_TITLE_IF=m.h.CONTROLS_IF_MSG_IF;m.h.CONTROLS_IF_MSG_THEN=m.h.CONTROLS_REPEAT_INPUT_DO;m.h.CONTROLS_WHILEUNTIL_INPUT_DO=m.h.CONTROLS_REPEAT_INPUT_DO;m.h.LISTS_CREATE_WITH_ITEM_TITLE=m.h.VARIABLES_DEFAULT_NAME;m.h.LISTS_GET_INDEX_HELPURL=m.h.LISTS_INDEX_OF_HELPURL;m.h.LISTS_GET_INDEX_INPUT_IN_LIST=m.h.LISTS_INLIST;m.h.LISTS_GET_SUBLIST_INPUT_IN_LIST=m.h.LISTS_INLIST;m.h.LISTS_INDEX_OF_INPUT_IN_LIST=m.h.LISTS_INLIST;
m.h.LISTS_SET_INDEX_INPUT_IN_LIST=m.h.LISTS_INLIST;m.h.MATH_CHANGE_TITLE_ITEM=m.h.VARIABLES_DEFAULT_NAME;m.h.PROCEDURES_DEFRETURN_COMMENT=m.h.PROCEDURES_DEFNORETURN_COMMENT;m.h.PROCEDURES_DEFRETURN_DO=m.h.PROCEDURES_DEFNORETURN_DO;m.h.PROCEDURES_DEFRETURN_PROCEDURE=m.h.PROCEDURES_DEFNORETURN_PROCEDURE;m.h.PROCEDURES_DEFRETURN_TITLE=m.h.PROCEDURES_DEFNORETURN_TITLE;m.h.TEXT_APPEND_VARIABLE=m.h.VARIABLES_DEFAULT_NAME;m.h.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=m.h.VARIABLES_DEFAULT_NAME;m.h.MATH_HUE="230";
m.h.LOOPS_HUE="120";m.h.LISTS_HUE="260";m.h.LOGIC_HUE="210";m.h.VARIABLES_HUE="330";m.h.TEXTS_HUE="160";m.h.PROCEDURES_HUE="290";m.h.COLOUR_HUE="20";m.h.VARIABLES_DYNAMIC_HUE="310";var S={bi:null,ra:function(){Th();var a=document.getElementById("linkButton");"BlocklyStorage"in window?(BlocklyStorage.HTTPREQUEST_ERROR=P("Games_httpRequestError"),BlocklyStorage.LINK_ALERT=P("Games_linkAlert"),BlocklyStorage.HASH_ERROR=P("Games_hashError"),BlocklyStorage.XML_ERROR=P("Games_xmlError"),BlocklyStorage.alert=Q.Xu.bind(Q,a),a&&Xh(a,BlocklyStorage.link)):a&&(a.style.display="none");(a=document.getElementById("languageMenu"))&&a.addEventListener("change",S.Ow,!0);m.ob&&(m.ob.ew=!1);m.D&&
(m.D.ew=!1)},ez:function(a,b){if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else{var d=null;try{d=window.sessionStorage.Qt}catch(h){}d&&delete window.sessionStorage.Qt;var e=Uh(O),f=b&&Uh(O-1);f&&"function"==typeof b&&(f=b(f));(a=d||e||f||a)&&S.Iu(a)}},Iu:function(a){S.bi?S.bi.setValue(a,-1):(a=m.I.vf(a),M.clear(),m.I.Mf(a,M),M.Xr())},Co:function(){if(S.bi)var a=S.bi.getValue();else{a=m.I.Lm(M,!0);if(1==B(M,!1).length&&a.querySelector){var b=
a.querySelector("block");b&&(b.removeAttribute("x"),b.removeAttribute("y"))}a=m.I.pc(a)}return a},Qf:function(){return M},dA:function(){window.localStorage&&(window.localStorage[Wh+O]=S.Co())},Ij:function(){window.location=(Qh?"index.html":"./")+"?lang="+Oh},Ow:function(){if(window.sessionStorage){if(S.bi)var a=S.bi.getValue();else a=m.I.Lm(M),a=m.I.pc(a);window.sessionStorage.Qt=a}a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var b=window.location.search;
b=1>=b.length?"?lang="+a:b.match(/[?&]lang=[^&]*/)?b.replace(/([?&]lang=)[^&]*/,"$1"+a):b.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+b},lm:function(){O<Sh?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+Oh+"&level="+(O+1):S.Ij()},Ul:function(a,b){if(a){var d=a.match(/^block_id_([^']+)$/);d&&(a=d[1])}Gf(a,b)},Vy:function(a,b){a=document.getElementById(a);a.firstChild||
(a=m.Uf(a,{rtl:-1!=Nh.indexOf(Oh),readOnly:!0}),"string"!=typeof b&&(b=b.join("")),m.I.Mf(m.I.vf(b),a))},tA:function(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")},oe:function(a){if("click"==a.type&&"touchend"==S.oe.Qp&&S.oe.Pp+2E3>Date.now()||S.oe.Qp==a.type&&S.oe.Pp+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;S.oe.Qp=a.type;S.oe.Pp=Date.now();return!1}};S.oe.Qp=null;S.oe.Pp=0;
S.Ry=function(){var a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","third-party/JS-Interpreter/compressed.js");document.head.appendChild(a)};
S.Sy=function(){var a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("href","common/prettify.css");document.head.appendChild(a);a=document.createElement("script");a.setAttribute("type","text/javascript");a.setAttribute("src","common/prettify.js");document.head.appendChild(a)};window.BlocklyInterface=S;S.setCode=S.Iu;S.getCode=S.Co;S.getWorkspace=S.Qf;var Q={Pg:!1,Ds:null,vl:null,mk:function(a,b,d,e,f,h){function k(){Q.Pg&&(l.style.visibility="visible",l.style.zIndex=10,n.style.visibility="hidden")}if(!a)throw TypeError("Content not found: "+a);Q.Pg&&Q.Ic(!1);m.Gc()&&m.Tb(!0);Q.Pg=!0;Q.Ds=b;Q.vl=h;var l=document.getElementById("dialog");h=document.getElementById("dialogShadow");var n=document.getElementById("dialogBorder"),p;for(p in f)l.style[p]=f[p];e&&(h.style.visibility="visible",h.style.opacity=.3,h.style.zIndex=9,e=document.createElement("div"),
e.id="dialogHeader",l.appendChild(e),Q.Wn=m.Hb(e,"mousedown",null,Q.Fx));l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");d&&b?(Q.fm(b,!1,.2),Q.fm(l,!0,.8),setTimeout(k,175)):k()},Es:0,Fs:0,Fx:function(a){Q.Zn();if(!m.g.Zf(a)){var b=document.getElementById("dialog");Q.Es=b.offsetLeft-a.clientX;Q.Fs=b.offsetTop-a.clientY;Q.Yn=m.Hb(document,"mouseup",null,Q.Zn);Q.Xn=m.Hb(document,"mousemove",null,Q.Gx);a.stopPropagation()}},Gx:function(a){var b=document.getElementById("dialog"),
d=Q.Es+a.clientX;a=Q.Fs+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-b.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-b.offsetWidth);b.style.left=d+"px";b.style.top=a+"px"},Zn:function(){Q.Yn&&(m.oa(Q.Yn),Q.Yn=null);Q.Xn&&(m.oa(Q.Xn),Q.Xn=null)},Ic:function(a){function b(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Q.Pg){Q.Zn();Q.Wn&&(m.oa(Q.Wn),Q.Wn=null);Q.Pg=!1;Q.vl&&Q.vl();Q.vl=null;var d=!1===a?
null:Q.Ds;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(Q.fm(a,!1,.8),Q.fm(d,!0,.2),setTimeout(b,175)):b();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},fm:function(a,b,d){function e(){f.style.width=h.width+"px";f.style.height=h.height+"px";f.style.left=h.x+"px";f.style.top=
h.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),h=Q.Zs(a);b?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Zs:function(a){var b=m.g.style.Ml(a);b={x:b.x,y:b.y};a.getBBox?(a=a.getBBox(),b.height=a.height,b.width=a.width):(b.height=a.offsetHeight,b.width=a.offsetWidth);return b},Xu:function(a,b){var d=document.getElementById("containerStorage");d.textContent="";b=b.split("\n");for(var e=0;e<b.length;e++){var f=document.createElement("p");
f.appendChild(document.createTextNode(b[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");Q.mk(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Q.sA);Q.pA()},vw:function(){if(!Uh(O))if(Q.Pg||M.hc())setTimeout(Q.vw,15E3);else{var a=document.getElementById("dialogAbort"),b=document.getElementById("abortCancel");b.addEventListener("click",Q.Ic,!0);b.addEventListener("touchend",Q.Ic,!0);b=document.getElementById("abortOk");b.addEventListener("click",S.Ij,!0);b.addEventListener("touchend",S.Ij,
!0);Q.mk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Q.Gr,!0)});document.body.addEventListener("keydown",Q.Gr,!0)}},Ou:function(){document.getElementById("galleryXml").value=S.Co();var a=document.getElementById("galleryDialog");if(!Q.Ou.cA){var b=document.getElementById("galleryCancel");b.addEventListener("click",Q.Ic,!0);b.addEventListener("touchend",Q.Ic,!0);b=document.getElementById("galleryOk");b.addEventListener("click",Q.Ao,!0);b.addEventListener("touchend",
Q.Ao,!0);Q.Ou.cA=!0}b=document.getElementById("submitButton");Q.mk(a,b,!0,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Q.Xs,!0)});document.body.addEventListener("keydown",Q.Xs,!0);setTimeout(function(){document.getElementById("galleryTitle").focus()},250)},bx:function(){var a=document.getElementById("dialogDone");if(M){var b=document.getElementById("dialogLinesText");b.textContent="";var d=Mg();d=S.tA(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,
"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?P("Games_linesOfCode1"):P("Games_linesOfCode2").replace("%1",String(e));b.appendChild(document.createTextNode(d))}d=O<Sh?P("Games_nextLevel").replace("%1",String(O+1)):P("Games_finalLevel");b=document.getElementById("doneCancel");b.addEventListener("click",
Q.Ic,!0);b.addEventListener("touchend",Q.Ic,!0);b=document.getElementById("doneOk");b.addEventListener("click",S.lm,!0);b.addEventListener("touchend",S.lm,!0);Q.mk(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",Q.gs,!0)});document.body.addEventListener("keydown",Q.gs,!0);document.getElementById("dialogDoneText").textContent=d},Cs:function(a){!Q.Pg||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Q.Ic(!0),a.stopPropagation(),a.preventDefault())},
pA:function(){document.body.addEventListener("keydown",Q.Cs,!0)},sA:function(){document.body.removeEventListener("keydown",Q.Cs,!0)},gs:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Q.Ic(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&S.lm()},Gr:function(a){if(13==a.keyCode||27==a.keyCode||32==a.keyCode)Q.Ic(!0),a.stopPropagation(),a.preventDefault(),27!=a.keyCode&&S.Ij()},Xs:function(a){27==a.keyCode?Q.Ic(!0):13==a.keyCode&&Q.Ao()},Ao:function(){var a=document.getElementById("galleryTitle");
if(a.value.trim()){a=document.getElementById("galleryForm");for(var b=[],d=0,e;e=a.elements[d];d++)e.name&&(b[d]=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value));var f=new XMLHttpRequest;f.open("POST",a.action);f.setRequestHeader("Content-type","application/x-www-form-urlencoded");f.onload=function(){if(4==f.readyState){var h=200==f.status?P("Games_submitted"):P("Games_httpRequestError")+"\nStatus: "+f.status;Q.Xu(null,h)}};f.send(b.join("&"));Q.Ic(!0)}else a.value="",a.focus()}};
window.BlocklyDialogs=Q;Q.hideDialog=Q.Ic;
m.D=new Wf;Sg("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan");
m.D.aB=0;m.D.sB=1.1;m.D.Yk=1.2;m.D.Xk=2;m.D.pB=3;m.D.jB=3;m.D.dB=4.1;m.D.vB=4.2;m.D.lr=4.3;m.D.hr=4.4;m.D.uB=4.5;m.D.wB=4.6;m.D.kB=4.7;m.D.bB=4.8;m.D.nB=5;m.D.jr=5.1;m.D.lB=5.2;m.D.rB=5.3;m.D.kr=6.1;m.D.Wk=6.2;m.D.fB=7;m.D.tB=8;m.D.oB=8;m.D.qB=8;m.D.mB=9;m.D.cB=10;m.D.gB=11;m.D.eB=12;m.D.gr=13;m.D.ir=14;m.D.iB=15;m.D.fw=16;m.D.xB=17;m.D.hB=18;m.D.gw=99;m.D.Zk=[[m.D.Xk,m.D.Yk],[m.D.Xk,m.D.Xk],[m.D.Yk,m.D.Yk],[m.D.Yk,m.D.Xk],[m.D.hr,m.D.hr],[m.D.jr,m.D.jr],[m.D.Wk,m.D.Wk],[m.D.gr,m.D.gr],[m.D.ir,m.D.ir]];
m.D.ra=function(a){m.D.tl=Object.create(null);m.D.ay=Object.create(null);m.D.rg?m.D.rg.reset():m.D.rg=new ah;m.D.rg.Aa=a.Aa;for(var b=[],d=m.P.xw(a),e=0;e<d.length;e++)b.push(m.D.rg.getName(d[e],"DEVELOPER_VARIABLE"));a=m.P.Jr(a);for(e=0;e<a.length;e++)b.push(m.D.rg.getName(a[e].va(),m.P.wg));b.length&&(m.D.tl.variables="var "+b.join(", ")+";")};m.D.finish=function(a){var b=[],d;for(d in m.D.tl)b.push(m.D.tl[d]);delete m.D.tl;delete m.D.ay;m.D.rg.reset();return b.join("\n\n")+"\n\n\n"+a};
m.D.Gu=function(a){return a+";\n"};m.D.mC=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
m.D.cq=function(a,b,d){var e="";if(!a.J||!a.J.ga){var f=a.Kl();(f=m.g.Ja.rv(f,m.D.Dv-3))&&(e=a.Hg?e+("/**\n"+Pg(f+"\n"," * ")+" */\n"):e+Pg(f+"\n","// "));for(var h=0;h<a.K.length;h++)if(a.K[h].type==m.Ha){var k=y(a.K[h].connection);if(k){f=[];k=t(k,!0);for(var l=0;l<k.length;l++){var n=k[l].Kl();n&&f.push(n)}f.length&&f.push("");(f=f.join("\n"))&&(e+=Pg(f,"// "))}}}a=a.T&&y(a.T);d=d?"":Ng(m.D,a);return e+b+d};
m.D.ZB=function(a,b,d,e,f){d=d||0;f=f||m.D.gw;a.v.options.gg&&d--;var h=a.v.options.gg?"1":"0";a=0<d?Qg(a,b,m.D.Wk)||h:0>d?Qg(a,b,m.D.kr)||h:e?Qg(a,b,m.D.lr)||h:Qg(a,b,f)||h;if(m.Jt(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=m.D.Wk}else 0>d&&(a=a+" - "+-d,k=m.D.kr);e&&(a=d?"-("+a+")":"-"+a,k=m.D.lr);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};var T,Yh,Zh,U,W,X,$h;m.Rq=.6;m.ob.maze_moveForward={ra:function(){ag(this,{message0:P("Codepac_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:P("Codepac_moveForwardTooltip")})}};m.D.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};m.ob.maze_turnLeft={ra:function(){ag(this,{message0:P("Codepac_turnLeft"),previousStatement:null,nextStatement:null,colour:290,tooltip:P("Codepac_turnLeftTooltip")})}};
m.D.maze_turnLeft=function(a){return"turnLeft('block_id_"+a.id+"');\n"};m.ob.maze_turnRight={ra:function(){ag(this,{message0:P("Codepac_turnRight"),previousStatement:null,nextStatement:null,colour:290,tooltip:P("Codepac_turnRightTooltip")})}};m.D.maze_turnRight=function(a){return"turnRight('block_id_"+a.id+"');\n"};
m.ob.maze_ifElse={ra:function(){var a=[[P("Codepac_pathAhead"),"isPathForward"],[P("Codepac_pathLeft"),"isPathLeft"],[P("Codepac_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.nf(210);Uf(this.xd(m.gd,""),new ud(a),"DIR");Uf(this.xd(m.ya,"DO"),P("Codepac_doCode"));Uf(this.xd(m.ya,"ELSE"),P("Codepac_elseCode"));this.sf(P("Codepac_ifelseTooltip"));this.kk(!0);this.Em(!0)}};
m.D.maze_ifElse=function(a){var b=Tb(a,"DIR")+"('block_id_"+a.id+"')",d=Rg(a,"DO");a=Rg(a,"ELSE");return"if ("+b+") {\n"+d+"} else {\n"+a+"}\n"};m.ob.maze_forever={ra:function(){this.nf(120);Uf(Uf(this.xd(m.gd,""),P("Codepac_repeatUntil")),new Ld(ai.Wg,12,16));Uf(this.xd(m.ya,"DO"),P("Codepac_doCode"));this.kk(!0);this.sf(P("Codepac_whileTooltip"))}};m.D.maze_forever=function(a){var b=Rg(a,"DO");m.D.Sk&&(b=m.D.Sk.replace(/%1/g,"'block_id_"+a.id+"'")+b);return"while (notDone()) {\n"+b+"}\n"};
m.ob.maze_repeat={ra:function(){ag(this,{message0:m.h.CONTROLS_REPEAT_TITLE,args0:[{type:"field_dropdown",name:"TIMES",options:[["3","3"],["4","4"],["5","5"],["6","6"],["7","7"]]}],previousStatement:null,nextStatement:null,colour:m.h.LOOPS_HUE,tooltip:m.h.CONTROLS_REPEAT_TOOLTIP,helpUrl:m.h.CONTROLS_REPEAT_HELPURL});Uf(this.xd(m.ya,"DO"),m.h.CONTROLS_REPEAT_INPUT_DO)}};
m.D.controls_repeat=function(a){var b=La(a,"TIMES")?String(Number(Tb(a,"TIMES"))):Qg(a,"TIMES",m.D.fw)||"0",d=Rg(a,"DO"),e=m.D;e.Sk&&(d=Pg(Og(e.Sk,a),e.Rk)+d);e.Oh&&!a.tk&&(d=Pg(Og(e.Oh,a),e.Rk)+d);e.Nh&&!a.tk&&(d+=Pg(Og(e.Nh,a),e.Rk));a="";e=bh(m.D.rg,"count",m.P.wg);var f=b;b.match(/^\w+$/)||m.Jt(b)||(f=bh(m.D.rg,"repeat_end",m.P.wg),a+="var "+f+" = "+b+";\n");return a+("for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+d+"}\n")};m.D.maze_repeat=m.D.controls_repeat;var bi={};function ci(){throw Error("Do not instantiate directly");}ci.prototype.ns=null;ci.prototype.Do=function(){return this.content};ci.prototype.toString=function(){return this.content};function di(a){if(null!=a)switch(a.ns){case 1:return 1;case -1:return-1;case 0:return 0}return null}function ei(){ci.call(this)}g(ei,ci);ei.prototype.ix=bi;function Y(a){return null!=a&&a.ix===bi?a:fi(String(String(a)).replace(gi,hi),di(a))}
var fi=function(a){function b(){}b.prototype=a.prototype;return function(d,e){var f=new b;f.content=String(d);void 0!==e&&(f.ns=e);return f}}(ei),ii={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function hi(a){return ii[a]}var gi=/[\x00\x22\x26\x27\x3c\x3e]/g;function ji(){var a=Sh,b=ki,d='<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_dialogOk">OK</span><span id="Games_dialogCancel">Cancel</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Codepac_moveForward">move forward</span><span id="Codepac_turnLeft">turn left</span><span id="Codepac_turnRight">turn right</span><span id="Codepac_doCode">do</span><span id="Codepac_elseCode">else</span><span id="Codepac_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Codepac_pathAhead">if path ahead</span><span id="Codepac_pathLeft">if path to the left</span><span id="Codepac_pathRight">if path to the right</span><span id="Codepac_repeatUntil">repeat until</span><span id="Codepac_moveForwardTooltip">Moves the player forward one space.</span><span id="Codepac_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Codepac_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Codepac_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Codepac_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Codepac_capacity0">You have %0 blocks left.</span><span id="Codepac_capacity1">You have %1 block left.</span><span id="Codepac_capacity2">You have %2 blocks left.</span></div><table width="100%" style="display: none"><tr><td><h1><span id="title">'+
((Qh?'<a href="index.html?lang='+Y(Oh)+'">':'<a href="./?lang='+Y(Oh)+'">')+"Blockly Games</a> : "+Y({appName:"Codepac"}.appName)+"</span>");b="&skin="+Y(b);for(var e=" &nbsp; ",f=a+1,h=1;h<f;h++)e+=" "+(h==O?'<span class="level_number level_done" id="level'+Y(h)+'">'+Y(h)+"</span>":h==a?'<a class="level_number" id="level'+Y(h)+'" href="?lang='+Y(Oh)+"&level="+Y(h)+Y(b)+'">'+Y(h)+"</a>":'<a class="level_dot" id="level'+Y(h)+'" href="?lang='+Y(Oh)+"&level="+Y(h)+Y(b)+'"></a>');return d+e+'</h1></td><td class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button></td></tr></table><div id="header"><img class="logo" src="common/logo_built_on.png" height="30px" /></div><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="500px" height="540px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table width="500"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> Reset Pacman</button></td></tr></table><xml id="toolbox" style="display: none;" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turnLeft"></block><block type="maze_turnRight"></block><block type="maze_repeat"></block></xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel">Cancel</button><button id="doneOk" class="secondary">OK</button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel">Cancel</button><button id="abortOk" class="secondary">OK</button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div><div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary" onclick="BlocklyDialogs.hideDialog(true)">OK</button></div></div>'}
;var Wh="codepac";Sh=3;S.lm=function(){O<Sh?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang=en&level="+(O+1)+"&skin=0":(window.localStorage.clear(),S.Ij())};
var li=[{Ru:"codepac/pacman.png",zA:"codepac/maze_500_540.png",Wg:"codepac/marker.png",background:!1,dC:!1,hz:"#000",MA:["codepac/win.mp3","codepac/win.ogg"],jx:["codepac/miss.mp3","codepac/fail_pegman.ogg"],qs:1}],ki=Rh("skin",0,li.length),ai=li[ki],mi=[void 0,[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0],[0,1,1,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,
0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,1,1,0,1,1,1,1,1,1,1,2,1,1,1,1,1,3,1,0,1,1,1,0],[0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0],[0,1,1,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,1,0],[0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,
1,0],[0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,0,1,0,0,0,0,
0,0,0,1,0,0,1,0,0,0,1,0],[0,1,1,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,3,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0],[0,0,0,0,
0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,1,1,0,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,0,1,1,1,0],[0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0],[0,1,1,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,1,0],[0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0],[0,1,1,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,1,0],[0,0,0,0,0,1,0,0,0,0,0,
1,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,
0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0],[0,1,1,1,0,1,1,1,3,1,1,1,2,1,1,1,1,1,1,1,0,1,1,1,0],[0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0],[0,1,1,1,1,1,0,0,1,1,1,1,0,1,1,1,1,0,0,1,1,1,1,1,0],[0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]][O],ni=mi.length,oi=mi[0].length,pi=20*
oi,qi=20*ni,ri=0,Z=[];
function si(){var a=document.getElementById("svgMaze"),b=20*Math.max(ni,oi);a.setAttribute("viewBox","0 0 "+b+" "+b);b=document.createElementNS(m.g.j.fe,"image");b.setAttributeNS(m.g.j.zc,"xlink:href",ai.zA);b.setAttribute("height",qi);b.setAttribute("width",pi);a.appendChild(b);b=document.createElementNS(m.g.j.fe,"image");b.id="finish";b.setAttributeNS(m.g.j.zc,"xlink:href",ai.Wg);b.setAttribute("height",21);b.setAttribute("width",21);a.appendChild(b);b=document.createElementNS(m.g.j.fe,"clipPath");
b.id="pegmanClipPath";var d=document.createElementNS(m.g.j.fe,"rect");d.id="clipRect";d.setAttribute("width",25);d.setAttribute("height",25);b.appendChild(d);a.appendChild(b);b=document.createElementNS(m.g.j.fe,"image");b.id="pegman";b.setAttributeNS(m.g.j.zc,"xlink:href",ai.Ru);b.setAttribute("height",25);b.setAttribute("width",525);b.setAttribute("clip-path","url(#pegmanClipPath)");a.appendChild(b)}
function ti(a){if(!(a&&a.type==m.i.Vi||M.hc()||1==ri||Uh(O))){a=-1!=Nh.indexOf(Oh);m.I.pc(m.I.Lm(M));var b=B(M.H.m,!0),d=null,e=null,f=null;1==O&&(2>F(M).length?(d=document.getElementById("dialogHelpStack"),f={width:"370px",top:"130px"},f[a?"right":"left"]="215px",e=b[0].S()):(b=B(M,!0),1<b.length?(S.Vy("sampleOneTopBlock",'<xml>;<block type="maze_moveForward" x="10" y="10">;<next>;<block type="maze_moveForward"></block>;</next>;</block>;</xml>'.split(";")),d=document.getElementById("dialogHelpOneTopBlock"),
f={width:"360px",top:"120px"},f[a?"right":"left"]="225px",e=b[0].S()):0==ri&&(d=document.getElementById("dialogHelpRun"),f={width:"360px",top:"410px"},f[a?"right":"left"]="400px",e=document.getElementById("runButton"))));d?d.parentNode!=document.getElementById("dialog")&&Q.mk(d,e,!0,!1,f,null):Q.Ic(!1)}}
function ui(a){for(var b=0;b<Z.length;b++)window.clearTimeout(Z[b]);Z=[];U=Yh.x;W=Yh.y;a?(X=2,vi(!1),Z.push(setTimeout(function(){T=100;wi([U,W,4*X-4]);X++},5*T))):(X=1,xi(U,W,4*X));b=document.getElementById("finish");b.setAttribute("x",20*(Zh.x+.6)-b.getAttribute("width")/2);b.setAttribute("y",20*(Zh.y+1)-b.getAttribute("height"));b=document.getElementById("look");b.style.display="none";b.parentNode.appendChild(b);a=b.getElementsByTagName("path");b=0;for(var d;d=a[b];b++)d.setAttribute("stroke",
ai.hz)}function yi(a){if(!S.oe(a))if(Q.Ic(!1),1==O&&1<B(M,!1).length&&1!=ri&&!Uh(O))ti();else{a=document.getElementById("runButton");var b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px");a.style.display="none";b.style.display="inline";ui(!1);zi()}}function Ai(a){S.oe(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Gf(null),ui(!1),ti())}
function Bi(a,b){var d=function(e){Ci(0,e)};a.setProperty(b,"moveForward",a.createNativeFunction(d));d=function(e){Ci(2,e)};a.setProperty(b,"moveBackward",a.createNativeFunction(d));d=function(e){Di(0,e)};a.setProperty(b,"turnLeft",a.createNativeFunction(d));d=function(e){Di(1,e)};a.setProperty(b,"turnRight",a.createNativeFunction(d));d=function(e){return Ei(0,e)};a.setProperty(b,"isPathForward",a.createNativeFunction(d));d=function(e){return Ei(1,e)};a.setProperty(b,"isPathRight",a.createNativeFunction(d));
d=function(e){return Ei(2,e)};a.setProperty(b,"isPathBackward",a.createNativeFunction(d));d=function(e){return Ei(3,e)};a.setProperty(b,"isPathLeft",a.createNativeFunction(d));a.setProperty(b,"notDone",a.createNativeFunction(function(){return Fi()}))}
function zi(){if("Interpreter"in window){$h=[];m.selected&&m.selected.zf();var a=Mg();ri=0;a=new Interpreter(a,Bi);try{for(var b=1E4;a.step();)if(0==b--)throw Infinity;ri=Fi()?-1:1}catch(d){Infinity===d?ri=2:!1===d?ri=-2:(ri=-2,alert(d))}1==ri?(T=100,$h.push(["finish",null])):T=50;ui(!1);Z.push(setTimeout(Gi,100))}else setTimeout(zi,250)}
function Gi(){var a=$h.shift();if(a){S.Ul(a[1]);switch(a[0]){case "north":wi([U,W-1,4*X+3]);W--;break;case "east":wi([U+1,W,4*X+3]);U++;break;case "south":wi([U,W+1,4*X+3]);W++;break;case "west":wi([U-1,W,4*X+3]);U--;break;case "look_north":Hi(0);break;case "look_east":Hi(1);break;case "look_south":Hi(2);break;case "look_west":Hi(3);break;case "fail_forward":Ii(!0);break;case "fail_backward":Ii(!1);break;case "left":wi([U,W,4*X-4]);X=Ji(X-1);break;case "right":wi([U,W,4*X+4]);X=Ji(X+1);break;case "finish":vi(!0),
S.dA(),setTimeout(Q.bx,1E3)}Z.push(setTimeout(Gi,5*T))}else S.Ul(null),ti()}function Ki(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var b=document.getElementById("pegSpin"),d=Q.Zs(b),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=m.g.Nc.cv(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);b.style.backgroundPosition=25*-e+"px 0px"}}
function wi(a){var b=[U,W,4*X],d=[(a[0]-b[0])/4,(a[1]-b[1])/4,(a[2]-b[2])/4];xi(b[0]+d[0],b[1]+d[1],Li(b[2]+d[2]));Z.push(setTimeout(function(){xi(b[0]+2*d[0],b[1]+2*d[1],Li(b[2]+2*d[2]))},T));Z.push(setTimeout(function(){xi(b[0]+3*d[0],b[1]+3*d[1],Li(b[2]+3*d[2]))},2*T));Z.push(setTimeout(function(){xi(a[0],a[1],Li(a[2]))},3*T))}
function Ii(a){var b=0,d=0;switch(X){case 0:d=-1;break;case 1:b=1;break;case 2:d=1;break;case 3:b=-1}a||(b=-b,d=-d);if(1==ai.qs){b/=4;d/=4;var e=Li(4*X);xi(U+b,W+d,e);M.Sc.play("fail",.5);Z.push(setTimeout(function(){xi(U,W,e)},T));Z.push(setTimeout(function(){xi(U+b,W+d,e);M.Sc.play("fail",.5)},2*T));Z.push(setTimeout(function(){xi(U,W,e)},3*T))}else{var f=10*(Math.random()-.5),h=(Math.random()-.5)/2;b+=(Math.random()-.5)/4;d+=(Math.random()-.5)/4;b/=8;d/=8;var k=0;3==ai.qs&&(k=.01);Z.push(setTimeout(function(){M.Sc.play("fail",
.5)},2*T));a=function(n){return function(){xi(U+b*n,W+d*n,Li(4*X+h*n),f*n);d+=k}};for(var l=1;100>l;l++)Z.push(setTimeout(a(l),T*l/2))}}function vi(a){var b=Li(4*X);xi(U,W,16);a&&M.Sc.play("win",.5);T=150;Z.push(setTimeout(function(){xi(U,W,18)},T));Z.push(setTimeout(function(){xi(U,W,16)},2*T));Z.push(setTimeout(function(){xi(U,W,b)},3*T))}
function xi(a,b,d,e){var f=document.getElementById("pegman");f.setAttribute("x",20*a-25*d+1);f.setAttribute("y",20*(b+.8)-12.5-8);e?f.setAttribute("transform","rotate("+e+", "+(20*a+10)+", "+(20*b+10)+")"):f.setAttribute("transform","rotate(0, 0, 0)");b=document.getElementById("clipRect");b.setAttribute("x",20*a+1);b.setAttribute("y",f.getAttribute("y"))}
function Hi(a){var b=U,d=W;switch(a){case 0:b+=.5;break;case 1:b+=1;d+=.5;break;case 2:b+=.5;d+=1;break;case 3:d+=.5}b*=20;d*=20;var e=90*a-45;a=document.getElementById("look");a.setAttribute("transform","translate("+b+", "+d+") rotate("+e+" 0 0) scale(.4)");b=a.getElementsByTagName("path");a.style.display="inline";for(d=0;a=b[d];d++)Mi(a,T*d)}function Mi(a,b){Z.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*T)},b))}
function Ji(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function Li(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function Ci(a,b){if(!Ei(a,null))throw $h.push(["fail_"+(a?"backward":"forward"),b]),!1;switch(Ji(X+a)){case 0:W--;var d="north";break;case 1:U++;d="east";break;case 2:W++;d="south";break;case 3:U--,d="west"}$h.push([d,b])}function Di(a,b){a?(X++,$h.push(["right",b])):(X--,$h.push(["left",b]));X=Ji(X)}
function Ei(a,b){switch(Ji(X+a)){case 0:var d=mi[W-1]&&mi[W-1][U];var e="look_north";break;case 1:d=mi[W][U+1];e="look_east";break;case 2:d=mi[W+1]&&mi[W+1][U];e="look_south";break;case 3:d=mi[W][U-1],e="look_west"}b&&$h.push([e,b]);return 0!==d&&void 0!==d}function Fi(){console.log(U,W,Zh.x,Zh.y);return U!=Zh.x||W!=Zh.y}
window.addEventListener("load",function(){function a(){600<window.innerWidth&&(d.style.top=Math.max(50,e.offsetTop-window.pageYOffset)+"px",d.style.left=b?"10px":"550px",d.style.width=window.innerWidth-588+"px",d.style.height=window.innerHeight-100+"px")}document.body.innerHTML=ji();S.ra();var b=-1!=Nh.indexOf(Oh),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);m.Hi(M)});window.addEventListener("resize",a);a(null);
var f=document.getElementById("toolbox");M=m.Uf("blockly",{media:"third-party/blockly/media/",rtl:b,toolbox:f,trashcan:!0,zoom:{startScale:1.3}});M.Sc.load(ai.MA,"win");M.Sc.load(ai.jx,"fail");Sg("moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");si();S.ez('<xml><block movable="'+(1!=O)+'" type="maze_moveForward" x="70" y="70"></block></xml>',!1);for(f=0;f<ni;f++)for(var h=0;h<oi;h++)2==mi[f][h]?Yh={x:h,y:f}:3==mi[f][h]&&(Zh={x:h,y:f});ui(!0);M.Ac(function(){var k=
Zb(M),l=document.getElementById("capacity");if(Infinity==k)l.style.display="none";else{l.style.display="inline";l.innerHTML="";k=Number(k);var n=document.createElement("span");n.className="capacityNumber";n.appendChild(document.createTextNode(k));k=(0==k?P("Codepac_capacity0"):1==k?P("Codepac_capacity1"):P("Codepac_capacity2")).split(/%\d/);for(var p=0;p<k.length;p++)l.appendChild(document.createTextNode(k[p])),p!=k.length-1&&l.appendChild(n.cloneNode(!0))}});document.body.addEventListener("mousemove",
Ki,!0);Xh("runButton",yi);Xh("resetButton",Ai);1==O&&(m.mc*=2,m.Hq=m.mc);setTimeout(function(){M.Ac(ti);ti()},5E3);f=document.getElementById("dialogDoneButtons");h=document.createElement("img");h.id="pegSpin";h.src="common/1x1.gif";h.style.backgroundImage="url("+ai.Ru+")";f.parentNode.insertBefore(h,f);setTimeout(S.Ry,1);setTimeout(S.Sy,1)});
